<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>UD Annotatrix</title>
    <link rel="icon" href="../favicon.png" sizes="230x230" type="image/png">
    <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../css/fontawesome.all.min.css" />
    <link rel="stylesheet" type="text/css" href="../css/style.css" />
      <script type="text/javascript" src="../js/jquery.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/jquery.autocomplete.css" />
  </head>
  <body>

 <iframe src="frame.html" id="iframe-embed" width="80%" style="align:center"></iframe> 

</body>
    <script>

/*
	container should be able to request conllu from iframe using postmessage	
*/

window.onmessage = function(event){
    console.log('Reply received!');
    console.log(event.data);
};

function base64encode(str) {
  let encode = encodeURIComponent(str).replace(/%([a-f0-9]{2})/gi, (m, $1) => String.fromCharCode(parseInt($1, 16)))
  return btoa(encode)
}
function base64decode(str) {
  let decode = atob(str).replace(/[\x80-\uffff]/g, (m) => `%${m.charCodeAt(0).toString(16).padStart(2, '0')}`)
  return decodeURIComponent(decode)
}
       console.log('--container-----');
	var test = '1\tYes\t_\t_\t_\t_\t_\t_\t_\t_\n2\t.\t_\t_\t_\t_\t_\t_\t_\t_\n';
	console.log(test)
	var testb64 = base64encode(test);
       console.log('--container-----');
	console.log(testb64)
       console.log('--container-----');
// 	window.open('frame.html?c=' + testb64, "iframe-embed");
	var iframe1 = document.getElementById('iframe-embed')
iframe1.src = 'frame.html?c=' + testb64;
       console.log(iframe1);
       console.log('--container-----');
    </script>

</html>
