!function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}}()({1:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}require("underscore");var utils=require("./utils"),nx=require("notatrix"),CollaborationInterface=require("./collaboration"),config=require("./config"),Corpus=require("./corpus"),Graph=require("./graph"),GUI=require("./gui"),Server=require("./server"),Socket=require("./socket"),UndoManager=require("./undo-manager"),App=function(){function App(args){var _this=this;if(function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,App),this.config=config,this.constructors={CollaborationInterface:CollaborationInterface,Corpus:Corpus,Graph:Graph,GUI:GUI,nx:nx,Server:Server,Socket:Socket,UndoManager:UndoManager},this.online=args,this.initialized=!1,this.undoer=new UndoManager(this),this.server=new Server(this),this.socket=new Socket(this),this.gui=new GUI(this),this.collab=new CollaborationInterface(this),this.corpus=new Corpus(this),this.graph=new Graph(this),this.initialized=!0,setTimeout(function(){var hash=window.location.hash.substring(1);_this.corpus.index=parseInt(hash)-1},500),this.online)this.server.connect(),this.socket.connect();else{var backup=utils.storage.restore();$.isEmptyObject(backup)||(this.corpus=new Corpus(this,backup))}this.gui.refresh()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(App,[{key:"save",value:function save(message){if(this.initialized&&!this.undoer.active){this.gui.status.normal("saving..."),this.gui.save(),this.graph.save();var serial=this.corpus.serialize();this.undoer.push(serial),message&&this.online&&this.socket.broadcast("modify corpus",{type:message.type,indices:message.indices,serial:serial}),this.server.is_running?this.server.save(serial):utils.storage.save(serial),this.gui.refresh()}}},{key:"load",value:function load(serial){this.corpus=new Corpus(this,serial),this.gui.refresh()}},{key:"discard",value:function discard(){this.corpus=new Corpus(this),this.save(),this.gui.menu.is_visible=!1,this.gui.refresh()}},{key:"download",value:function download(toText){var _this2=this,contents=this.corpus._corpus._sentences.map(function(sent,i){try{return sent.to(_this2.corpus.format).output}catch(e){return"[Unable to generate sentence #".concat(i+1,' in "').concat(_this2.corpus.format,'" format]')}}).join("\n\n");return toText?contents:utils.download("".concat(this.corpus.filename,".").concat({CG3:"cg","CoNLL-U":"conllu",SD:"sd",Brackets:"brackets","plain text":"txt"}[this.corpus.format]),"text/plain",contents)}}]),App}();module.exports=App},{"./collaboration":2,"./config":4,"./corpus":5,"./graph":9,"./gui":15,"./server":29,"./socket":30,"./undo-manager":31,"./utils":34,notatrix:463,underscore:504}],2:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _=require("underscore"),utils=require("../utils"),User=require("./user"),CollaborationInterface=function(){function CollaborationInterface(app){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CollaborationInterface),this.app=app,this.self=null,this.chat=app.gui.chat,this._users={}}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(CollaborationInterface,[{key:"setSelf",value:function setSelf(data){var _this=this,self=new User(data);self.name="anonymous"===self.name?"me":self.name,JSON.stringify(self)!==JSON.stringify(this.self)&&(_.each(data.room.users,function(user){_this.addUser(user,user.id!==self.id)}),this.self=self,this.chat.alert("you are logged in as %u",[self]),this.app.graph.drawMice(),this.app.graph.setLocks())}},{key:"getUser",value:function getUser(id){return this._users[id]}},{key:"addUser",value:function addUser(data){var alert=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],user=new User(data);this._users[data.id]=user,alert&&this.chat.alert("%u connected from ".concat(user.ip),[user]),this.chat.refresh()}},{key:"removeUser",value:function removeUser(data){var alert=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],user=this.getUser(data.id);delete this._users[data.id],alert&&this.chat.alert("%u disconnected from ".concat(user.ip),[user]),this.chat.refresh()}},{key:"getMouseNodes",value:function getMouseNodes(){var _this2=this;return _.map(this._users,function(user){if(user.id!==_this2.self.id&&user._viewing===_this2.app.corpus.index)return{id:user.id,position:user.mouse,color:user.color}}).filter(utils.thin)}},{key:"getLocks",value:function getLocks(){var _this3=this;return _.map(this._users,function(user){if(user.id!==_this3.self.id&&user._viewing===_this3.app.corpus.index&&user.locked)return{id:user.id,locked:user.locked,color:user.color}}).filter(utils.thin)}},{key:"size",get:function get(){return Object.keys(this._users).length}}]),CollaborationInterface}();module.exports=CollaborationInterface},{"../utils":34,"./user":3,underscore:504}],3:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}require("underscore");var $=require("jquery"),nx=(require("../utils"),require("notatrix")),User=function(){function User(data){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,User),this.name=data.username||"anonymous",this.id=data.id,this.ip=data.address,this.color=nx.funcs.hashStringToHex(data.id),this._viewing=data.index,this.mouse=data.mouse,this.locked=data.locked}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(User,[{key:"setMouse",value:function setMouse(pos){this.mouse=null==pos.x&&null==pos.y?null:pos}},{key:"dom",value:function dom(){return $("<span>").addClass("message-sender-info").attr("name",this.id).append($("<i>").addClass("message-color-blob fa fa-circle").css("color","#"+this.color)).append($("<span>").addClass("message-sender-name").text(this.name).attr("title","IP Address: "+this.ip)).append($("<span>").addClass("message-sender-viewing").text(this.viewing).attr("title","Currently viewing"))}},{key:"viewing",get:function get(){return null===this._viewing?"":" (".concat(this._viewing+1,") ")},set:function set(index){index=parseInt(index),this._viewing=isNaN(index)?null:index}}]),User}();module.exports=User},{"../utils":34,jquery:395,notatrix:463,underscore:504}],4:[function(require,module,exports){"use strict";require("underscore");var utils=require("./utils"),_config={version:"0.0.0",treebank_id:utils.getTreebankId(),graph:require("./graph/config"),gui:require("./gui/config")};utils.storage.getPrefs();module.exports=_config},{"./graph/config":6,"./gui/config":13,"./utils":34,underscore:504}],5:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _=require("underscore"),nx=require("notatrix"),utils=require("./utils"),default_filename="ud-annotatrix-corpus",format_preferences=["CoNLL-U","CG3","SD","plain text","Brackets"];function detectFormat(serial){var formats=serial?nx.detect(serial):["plain text"];return 0===formats.length?null:formats.indexOf("notatrix serial")>-1?"notatrix serial":1===formats.length?formats[0]:(format_preferences.forEach(function(pref){if(formats.indexOf(pref)>-1)return pref}),formats[0])}var Corpus=function(){function Corpus(app){var serial=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Corpus),this.app=app,this._corpus=serial?nx.Corpus.deserialize(serial):new nx.Corpus,this._corpus._meta=_.defaults(this._corpus._meta,{filename:default_filename,is_ltr:!0,is_vertical:!1}),this._corpus._sentences.forEach(function(sent,i){sent._meta.format=detectFormat(sent.input)}),0===this._corpus.length&&this.insertSentence(0,"",!1),this.app.undoer.current=this.serialize(),this.afterModifyIndex()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Corpus,[{key:"getIndices",value:function getIndices(){var filtered=this._corpus.filtered;return{current:this.index+1,total:filtered.length?"".concat(filtered.length," (total: ").concat(this.length,")"):"".concat(this.length)}}},{key:"serialize",value:function serialize(){return this._corpus.serialize()}},{key:"convertTo",value:function convertTo(format){return this.current.to(format).output}},{key:"afterModifyIndex",value:function afterModifyIndex(){var _this=this;this.app.initialized&&(this.app.gui.refresh(),this.app.online&&this.app.socket.broadcast("modify index",this.index)),utils.check_if_browser()&&setTimeout(function(){window.location.hash=_this.index+1},1e3)}},{key:"first",value:function first(){this._corpus.first(),this.afterModifyIndex()}},{key:"prev",value:function prev(){this._corpus.prev(),this.afterModifyIndex()}},{key:"next",value:function next(){this._corpus.next(),this.afterModifyIndex()}},{key:"last",value:function last(){this._corpus.last(),this.afterModifyIndex()}},{key:"getSentence",value:function getSentence(index){return this._corpus.getSentence(index)}},{key:"setSentence",value:function setSentence(index,text){var main=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],sent=this._corpus.setSentence(index,text);return sent._meta.format=detectFormat(text),main&&(this.app.save({type:"set",indices:[index||this.index]}),this.afterModifyIndex()),sent}},{key:"insertSentence",value:function insertSentence(index,text){var main=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],sent=this._corpus.insertSentence(index,text);return sent._meta.format=detectFormat(text),main&&(this.app.save({type:"insert",indices:[index||this.index]}),this.afterModifyIndex()),sent}},{key:"removeSentence",value:function removeSentence(index){var main=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],sent=this._corpus.removeSentence(index);return main&&(this.app.save({type:"remove",indices:[index||this.index]}),this.afterModifyIndex()),sent}},{key:"parse",value:function parse(text){var _this2=this,main=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],splitted=nx.split(text,this._corpus.options),index=this.index||0,sents=splitted.map(function(split,i){return i?_this2.insertSentence(index+i,split,!1):_this2.setSentence(index,split,!1),index+i});return main&&(this.app.save({type:"parse",indices:[index||this.index]}),this.afterModifyIndex()),sents}},{key:"format",get:function get(){return this.isParsed?"notatrix serial"===this.current._meta.format?"plain text":this.current._meta.format:null},set:function set(format){this.current._meta.format=format}},{key:"is_ltr",get:function get(){return this._corpus._meta.is_ltr},set:function set(bool){this._corpus._meta.is_ltr=bool}},{key:"is_vertical",get:function get(){return this._corpus._meta.is_vertical},set:function set(bool){this._corpus._meta.is_vertical=bool}},{key:"is_enhanced",get:function get(){return this.current.options.enhanced}},{key:"filename",get:function get(){return this._corpus._meta.filename},set:function set(filename){this._corpus._meta.filename=filename}},{key:"textdata",get:function get(){return this.isParsed?this.convertTo(this.format):this.current.input.replace(/\\n/g,"\n").replace(/\\t/g,"\t")}},{key:"isParsed",get:function get(){return!!this.current&&this.current.isParsed}},{key:"unparsed",get:function get(){return this.isParsed?null:this.current.input}},{key:"length",get:function get(){return this._corpus.length}},{key:"current",get:function get(){return this.getSentence(this.index)}},{key:"index",get:function get(){return this._corpus.index},set:function set(index){this._corpus.index=index,this.afterModifyIndex()}}]),Corpus}();module.exports=Corpus},{"./utils":34,notatrix:463,underscore:504}],6:[function(require,module,exports){"use strict";var _=require("underscore"),_graph=(require("../utils"),{pan:{x:0,y:0},zoom:1,drawn_sentence:!1,edge_height:40,edge_coeff:1,mouse_move_delay:100,locked_index:null,locked_id:null,locked_classes:null,set:function set(params){return _.each(params,function(value,key){void 0!==_graph[key]&&(_graph[key]=value)})}});module.exports=_graph},{"../utils":34,underscore:504}],7:[function(require,module,exports){"use strict";var CY_STYLE=[{selector:"*.disabled",style:{opacity:.4}},{selector:"node",style:{height:20,"background-color":"#7fa2ff",shape:"roundrectangle","text-valign":"center","text-halign":"center","border-color":"#000","border-width":1}},{selector:"node.form",style:{width:"data(length)",label:"data(label)"}},{selector:"node.multiword",style:{"background-color":"#bcd2ff","text-background-color":"#7fa2ff","text-background-opacity":.9,"text-border-color":"#000","text-border-opacity":.9,"text-border-width":"1px","text-background-shape":"roundrectangle","text-valign":"top",label:"data(label)"}},{selector:"node.multiword-active",style:{"background-color":"#2653c9"}},{selector:"node.form.arc-source, node.form.arc-target",style:{"border-color":"#cc22fc"}},{selector:"node.form.root",style:{"font-weight":"bold","border-width":"2px"}},{selector:"node.form.neighbor",style:{"background-color":"#0b2"}},{selector:"node.form.activated",style:{"background-color":"#2653c9"}},{selector:"node.form.activated.retokenize",style:{"background-color":"#afa2ff","border-color":"#cc22fc"}},{selector:"node.form.merge",style:{"background-color":"#afa2ff","border-color":"#cc22fc"}},{selector:"node.form.supertoken",style:{"background-color":"#afa2ff","border-color":"#cc22fc"}},{selector:"node.pos",style:{width:"data(length)",label:"data(label)","background-color":"#afa2ff"}},{selector:"edge",style:{width:3,opacity:.766,"line-color":"#111","control-point-weights":"0.2 0.25 0.75 0.8"}},{selector:"edge.incomplete",style:{"target-arrow-shape":"triangle","target-arrow-color":"#aaa","line-color":"#aaa","text-margin-y":-10,"curve-style":"unbundled-bezier","control-point-distances":"data(ctrl)","control-point-weights":"0 0.25 0.75 1","arrow-scale":"1.5","edge-distances":"node-position",label:"data(label)","text-events":"yes"}},{selector:"edge.incomplete.vertical",style:{"text-margin-y":0,"text-background-opacity":1,"text-background-color":"white","text-background-shape":"roundrectangle","text-border-color":"black","text-border-width":1,"text-border-opacity":1,"control-point-weights":"0.15 0.45 0.55 0.85","text-margin-x":"data(length)","source-distance-from-node":10,"target-distance-from-node":10}},{selector:"edge.incomplete.horizontal",style:{"text-margin-y":-10,"text-margin-x":0,"text-background-opacity":0,"text-border-opacity":0,"control-point-weights":"0 0.25 0.75 1","source-distance-from-node":0,"target-distance-from-node":0}},{selector:"edge.error",style:{"target-arrow-shape":"triangle","target-arrow-color":"#d11","line-color":"#d11","text-margin-y":-10,"curve-style":"unbundled-bezier","control-point-distances":"data(ctrl)","control-point-weights":"0 0.25 0.75 1","arrow-scale":"1.5","edge-distances":"node-position",label:"data(label)","text-events":"yes"}},{selector:"node.pos.error",style:{"border-color":"#d11"}},{selector:"edge.enhanced",style:{"target-arrow-shape":"triangle","target-arrow-color":"#045","line-color":"#045","text-margin-y":-10,"curve-style":"unbundled-bezier","control-point-distances":"data(ctrl)","control-point-weights":"0 0.25 0.75 1","edge-distances":"node-position","arrow-scale":"1.5",label:"data(label)","text-events":"yes"}},{selector:"edge.dependency",style:{"target-arrow-shape":"triangle","target-arrow-color":"#111","text-margin-y":-10,"curve-style":"unbundled-bezier","control-point-distances":"data(ctrl)","control-point-weights":"0 0.25 0.75 1","edge-distances":"node-position",label:"data(label)","text-events":"yes"}},{selector:"edge.dependency.selected",style:{"line-color":"#cc22fc","target-arrow-color":"#cc22fc"}},{selector:"edge.pos",style:{"curve-style":"haystack"}},{selector:"node.number",style:{"background-opacity":0,"border-opacity":0,padding:0,"text-background-color":"#afa2ff","text-background-opacity":.9,"text-border-color":"#000","text-border-opacity":.9,"text-border-width":"1px","text-background-shape":"roundrectangle","text-halign":"right",label:"data(label)",events:"no"}},{selector:"edge.moving",style:{"line-color":"#00f","target-arrow-color":"#00f"}},{selector:"node.mouse",style:{height:5,width:5,opacity:.5,"border-width":1}},{selector:"edge.locked",style:{opacity:1}}];module.exports=CY_STYLE},{}],8:[function(require,module,exports){(function(global,setImmediate){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var e,t;e="undefined"!=typeof self?self:void 0,t=function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=20)}([function(e,t,n){var r="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},i=n(3),a=i?i.navigator:null,o=i?i.document:null,s=r(""),l=r({}),u=r(function(){}),c="undefined"==typeof HTMLElement?"undefined":r(HTMLElement),d=function d(e){return e&&e.instanceString&&h.fn(e.instanceString)?e.instanceString():null},h={defined:function defined(e){return null!=e},string:function string(e){return null!=e&&(void 0===e?"undefined":r(e))==s},fn:function fn(e){return null!=e&&(void 0===e?"undefined":r(e))===u},array:function array(e){return Array.isArray?Array.isArray(e):null!=e&&e instanceof Array},plainObject:function plainObject(e){return null!=e&&(void 0===e?"undefined":r(e))===l&&!h.array(e)&&e.constructor===Object},object:function object(e){return null!=e&&(void 0===e?"undefined":r(e))===l},number:function number(e){return null!=e&&(void 0===e?"undefined":r(e))===r(1)&&!isNaN(e)},integer:function integer(e){return h.number(e)&&Math.floor(e)===e},bool:function bool(e){return null!=e&&(void 0===e?"undefined":r(e))===r(!0)},htmlElement:function htmlElement(e){return"undefined"===c?void 0:null!=e&&e instanceof HTMLElement},elementOrCollection:function elementOrCollection(e){return h.element(e)||h.collection(e)},element:function element(e){return"collection"===d(e)&&e._private.single},collection:function collection(e){return"collection"===d(e)&&!e._private.single},core:function core(e){return"core"===d(e)},style:function style(e){return"style"===d(e)},stylesheet:function stylesheet(e){return"stylesheet"===d(e)},event:function event(e){return"event"===d(e)},thread:function thread(e){return"thread"===d(e)},fabric:function fabric(e){return"fabric"===d(e)},emptyString:function emptyString(e){return null==e||!(""!==e&&!e.match(/^\s+$/))},nonemptyString:function nonemptyString(e){return!(!e||!h.string(e)||""===e||e.match(/^\s+$/))},domElement:function domElement(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement},boundingBox:function boundingBox(e){return h.plainObject(e)&&h.number(e.x1)&&h.number(e.x2)&&h.number(e.y1)&&h.number(e.y2)},promise:function promise(e){return h.object(e)&&h.fn(e.then)},touch:function touch(){return i&&("ontouchstart"in i||i.DocumentTouch&&o instanceof DocumentTouch)},gecko:function gecko(){return i&&("undefined"!=typeof InstallTrigger||"MozAppearance"in o.documentElement.style)},webkit:function webkit(){return i&&("undefined"!=typeof webkitURL||"WebkitAppearance"in o.documentElement.style)},chromium:function chromium(){return i&&"undefined"!=typeof chrome},khtml:function khtml(){return a&&a.vendor.match(/kde/i)},khtmlEtc:function khtmlEtc(){return h.khtml()||h.webkit()||h.chromium()},ms:function ms(){return a&&a.userAgent.match(/msie|trident|edge/i)},windows:function windows(){return a&&a.appVersion.match(/Win/i)},mac:function mac(){return a&&a.appVersion.match(/Mac/i)},linux:function linux(){return a&&a.appVersion.match(/Linux/i)},unix:function unix(){return a&&a.appVersion.match(/X11/i)}};e.exports=h},function(e,t,n){var r=n(0),i=n(2),a={MAX_INT:Number.MAX_SAFE_INTEGER||9007199254740991,trueify:function trueify(){return!0},falsify:function falsify(){return!1},zeroify:function zeroify(){return 0},noop:function noop(){},error:function error(e){console.error,console.trace},clone:function clone(e){return this.extend({},e)},copy:function copy(e){return null==e?e:r.array(e)?e.slice():r.plainObject(e)?this.clone(e):e},copyArray:function copyArray(e){return e.slice()},clonePosition:function clonePosition(e){return{x:e.x,y:e.y}},uuid:function uuid(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t}};a.makeBoundingBox=i.makeBoundingBox.bind(i),a._staticEmptyObject={},a.staticEmptyObject=function(){return a._staticEmptyObject},a.extend=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var r=t[n];if(null!=r)for(var i=Object.keys(r),a=0;a<i.length;a++){var o=i[a];e[o]=r[o]}}return e},a.assign=a.extend,a.default=function(e,t){return void 0===e?t:e},a.removeFromArray=function(e,t,n){for(var r=e.length;r>=0&&(e[r]!==t||(e.splice(r,1),n));r--);},a.clearArray=function(e){e.splice(0,e.length)},a.push=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}},a.getPrefixedProperty=function(e,t,n){return n&&(t=this.prependCamel(n,t)),e[t]},a.setPrefixedProperty=function(e,t,n,r){n&&(t=this.prependCamel(n,t)),e[t]=r},[n(21),n(22),{memoize:n(13)},n(23),n(24),n(25),n(27)].forEach(function(e){a.extend(a,e)}),e.exports=a},function(e,t,n){var r={arePositionsSame:function(e,t){return e.x===t.x&&e.y===t.y},copyPosition:function(e){return{x:e.x,y:e.y}},modelToRenderedPosition:function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},renderedToModelPosition:function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},array2point:function(e){return{x:e[0],y:e[1]}},deg2rad:function(e){return Math.PI*e/180},getAngleFromDisp:function(e,t){return Math.atan2(t,e)-Math.PI/2}};r.log2=Math.log2||function(e){return Math.log(e)/Math.log(2)},r.signum=function(e){return e>0?1:e<0?-1:0},r.dist=function(e,t){return Math.sqrt(r.sqdist(e,t))},r.sqdist=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},r.qbezierAt=function(e,t,n,r){return(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n},r.qbezierPtAt=function(e,t,n,i){return{x:r.qbezierAt(e.x,t.x,n.x,i),y:r.qbezierAt(e.y,t.y,n.y,i)}},r.lineAt=function(e,t,n,i){var a_x=t.x-e.x,a_y=t.y-e.y,o=r.dist(e,t),s_x=a_x/o,s_y=a_y/o;return n=null==n?0:n,i=null!=i?i:n*o,{x:e.x+s_x*i,y:e.y+s_y*i}},r.lineAtDist=function(e,t,n){return r.lineAt(e,t,void 0,n)},r.triangleAngle=function(e,t,n){var i=r.dist(t,n),a=r.dist(e,n),o=r.dist(e,t);return Math.acos((i*i+a*a-o*o)/(2*i*a))},r.bound=function(e,t,n){return Math.max(e,Math.min(n,t))},r.makeBoundingBox=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},r.updateBoundingBox=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},r.expandBoundingBoxByPoint=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},r.expandBoundingBox=function(e,t){return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},r.boundingBoxesIntersect=function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},r.inBoundingBox=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},r.pointInBoundingBox=function(e,t){return this.inBoundingBox(e,t.x,t.y)},r.boundingBoxInBoundingBox=function(e,t){return r.inBoundingBox(e,t.x1,t.y1)&&r.inBoundingBox(e,t.x2,t.y2)},r.roundRectangleIntersectLine=function(e,t,n,r,i,a,o){var s=this.getRoundRectangleRadius(i,a),l=i/2,u=a/2,c=void 0,d=n-l+s-o,h=r-u-o,p=n+l-s+o,f=h;if((c=this.finiteLinesIntersect(e,t,n,r,d,h,p,f,!1)).length>0)return c;var v=n+l+o,g=r-u+s-o,y=v,m=r+u-s+o;if((c=this.finiteLinesIntersect(e,t,n,r,v,g,y,m,!1)).length>0)return c;var b=n-l+s-o,x=r+u+o,w=n+l-s+o,E=x;if((c=this.finiteLinesIntersect(e,t,n,r,b,x,w,E,!1)).length>0)return c;var P=n-l-o,C=r-u+s-o,S=P,T=r+u-s+o;if((c=this.finiteLinesIntersect(e,t,n,r,P,C,S,T,!1)).length>0)return c;var D=void 0,k=n-l+s,_=r-u+s;if((D=this.intersectLineCircle(e,t,n,r,k,_,s+o)).length>0&&D[0]<=k&&D[1]<=_)return[D[0],D[1]];var M=n+l-s,I=r-u+s;if((D=this.intersectLineCircle(e,t,n,r,M,I,s+o)).length>0&&D[0]>=M&&D[1]<=I)return[D[0],D[1]];var N=n+l-s,B=r+u-s;if((D=this.intersectLineCircle(e,t,n,r,N,B,s+o)).length>0&&D[0]>=N&&D[1]>=B)return[D[0],D[1]];var z=n-l+s,L=r+u-s;return(D=this.intersectLineCircle(e,t,n,r,z,L,s+o)).length>0&&D[0]<=z&&D[1]>=L?[D[0],D[1]]:[]},r.inLineVicinity=function(e,t,n,r,i,a,o){var s=o,l=Math.min(n,i),u=Math.max(n,i),c=Math.min(r,a),d=Math.max(r,a);return l-s<=e&&e<=u+s&&c-s<=t&&t<=d+s},r.inBezierVicinity=function(e,t,n,r,i,a,o,s,l){var u_x1=Math.min(n,o,i)-l,u_x2=Math.max(n,o,i)+l,u_y1=Math.min(r,s,a)-l,u_y2=Math.max(r,s,a)+l;return!(e<u_x1||e>u_x2||t<u_y1||t>u_y2)},r.solveQuadratic=function(e,t,n,r){var i=t*t-4*e*(n-=r);if(i<0)return[];var a=Math.sqrt(i),o=2*e;return[(-t+a)/o,(-t-a)/o]},r.solveCubic=function(e,t,n,r,i){var a,o=void 0,s=void 0,l=void 0,u=void 0,c=void 0,d=void 0,h=void 0;return s=-27*(r/=e)+(t/=e)*(9*(n/=e)-t*t*2),a=(o=(3*n-t*t)/9)*o*o+(s/=54)*s,i[1]=0,d=t/3,a>0?(u=(u=s+Math.sqrt(a))<0?-Math.pow(-u,1/3):Math.pow(u,1/3),c=(c=s-Math.sqrt(a))<0?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-d+u+c,d+=(u+c)/2,i[4]=i[2]=-d,d=Math.sqrt(3)*(-c+u)/2,i[3]=d,void(i[5]=-d)):(i[5]=i[3]=0,0===a?(h=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=2*h-d,void(i[4]=i[2]=-(h+d))):(l=(o=-o)*o*o,l=Math.acos(s/Math.sqrt(l)),h=2*Math.sqrt(o),i[0]=-d+h*Math.cos(l/3),i[2]=-d+h*Math.cos((l+2*Math.PI)/3),void(i[4]=-d+h*Math.cos((l+4*Math.PI)/3))))},r.sqdistToQuadraticBezier=function(e,t,n,r,i,a,o,s){var l=1*n*n-4*n*i+2*n*o+4*i*i-4*i*o+o*o+r*r-4*r*a+2*r*s+4*a*a-4*a*s+s*s,u=9*n*i-3*n*n-3*n*o-6*i*i+3*i*o+9*r*a-3*r*r-3*r*s-6*a*a+3*a*s,c=3*n*n-6*n*i+n*o-n*e+2*i*i+2*i*e-o*e+3*r*r-6*r*a+r*s-r*t+2*a*a+2*a*t-s*t,d=1*n*i-n*n+n*e-i*e+r*a-r*r+r*t-a*t,h=[];this.solveCubic(l,u,c,d,h);for(var p=[],f=0;f<6;f+=2)Math.abs(h[f+1])<1e-7&&h[f]>=0&&h[f]<=1&&p.push(h[f]);p.push(1),p.push(0);for(var v=-1,g=void 0,y=void 0,m=void 0,b=0;b<p.length;b++)g=Math.pow(1-p[b],2)*n+2*(1-p[b])*p[b]*i+p[b]*p[b]*o,y=Math.pow(1-p[b],2)*r+2*(1-p[b])*p[b]*a+p[b]*p[b]*s,m=Math.pow(g-e,2)+Math.pow(y-t,2),v>=0?m<v&&(v=m):v=m;return v},r.sqdistToFiniteLine=function(e,t,n,r,i,a){var o=[e-n,t-r],s=[i-n,a-r],l=s[0]*s[0]+s[1]*s[1],u=o[0]*o[0]+o[1]*o[1],c=o[0]*s[0]+o[1]*s[1],d=c*c/l;return c<0?u:d>l?(e-i)*(e-i)+(t-a)*(t-a):u-d},r.pointInsidePolygonPoints=function(e,t,n){for(var r=void 0,i=void 0,a=void 0,o=void 0,s=0,l=0;l<n.length/2;l++)if(r=n[2*l],i=n[2*l+1],l+1<n.length/2?(a=n[2*(l+1)],o=n[2*(l+1)+1]):(a=n[2*(l+1-n.length/2)],o=n[2*(l+1-n.length/2)+1]),r==e&&a==e);else{if(!(r>=e&&e>=a||r<=e&&e<=a))continue;(e-r)/(a-r)*(o-i)+i>t&&s++}return s%2!=0},r.pointInsidePolygon=function(e,t,n,i,a,o,s,l,u){var c=new Array(n.length),d=void 0;null!=l[0]?(d=Math.atan(l[1]/l[0]),l[0]<0?d+=Math.PI/2:d=-d-Math.PI/2):d=l;for(var h=Math.cos(-d),p=Math.sin(-d),f=0;f<c.length/2;f++)c[2*f]=o/2*(n[2*f]*h-n[2*f+1]*p),c[2*f+1]=s/2*(n[2*f+1]*h+n[2*f]*p),c[2*f]+=i,c[2*f+1]+=a;var v=void 0;if(u>0){var g=this.expandPolygon(c,-u);v=this.joinLines(g)}else v=c;return r.pointInsidePolygonPoints(e,t,v)},r.joinLines=function(e){for(var t=new Array(e.length/2),n=void 0,r=void 0,i=void 0,a=void 0,o=void 0,s=void 0,l=void 0,u=void 0,c=0;c<e.length/4;c++){n=e[4*c],r=e[4*c+1],i=e[4*c+2],a=e[4*c+3],c<e.length/4-1?(o=e[4*(c+1)],s=e[4*(c+1)+1],l=e[4*(c+1)+2],u=e[4*(c+1)+3]):(o=e[0],s=e[1],l=e[2],u=e[3]);var d=this.finiteLinesIntersect(n,r,i,a,o,s,l,u,!0);t[2*c]=d[0],t[2*c+1]=d[1]}return t},r.expandPolygon=function(e,t){for(var n=new Array(2*e.length),r=void 0,i=void 0,a=void 0,o=void 0,s=0;s<e.length/2;s++){r=e[2*s],i=e[2*s+1],s<e.length/2-1?(a=e[2*(s+1)],o=e[2*(s+1)+1]):(a=e[0],o=e[1]);var l=o-i,u=-(a-r),c=Math.sqrt(l*l+u*u),d=l/c,h=u/c;n[4*s]=r+d*t,n[4*s+1]=i+h*t,n[4*s+2]=a+d*t,n[4*s+3]=o+h*t}return n},r.intersectLineEllipse=function(e,t,n,r,i,a){var o=n-e,s=r-t;o/=i,s/=a;var l=Math.sqrt(o*o+s*s),u=l-1;if(u<0)return[];var c=u/l;return[(n-e)*c+e,(r-t)*c+t]},r.checkInEllipse=function(e,t,n,r,i,a,o){return e-=i,t-=a,(e/=n/2+o)*e+(t/=r/2+o)*t<=1},r.intersectLineCircle=function(e,t,n,r,i,a,o){var s=[n-e,r-t],l=[e-i,t-a],u=s[0]*s[0]+s[1]*s[1],c=2*(l[0]*s[0]+l[1]*s[1]),h=c*c-4*u*(l[0]*l[0]+l[1]*l[1]-o*o);if(h<0)return[];var p=(-c+Math.sqrt(h))/(2*u),f=(-c-Math.sqrt(h))/(2*u),v=Math.min(p,f),g=Math.max(p,f),y=[];if(v>=0&&v<=1&&y.push(v),g>=0&&g<=1&&y.push(g),0===y.length)return[];var m=y[0]*s[0]+e,b=y[0]*s[1]+t;return y.length>1?y[0]==y[1]?[m,b]:[m,b,y[1]*s[0]+e,y[1]*s[1]+t]:[m,b]},r.findCircleNearPoint=function(e,t,n,r,i){var a=r-e,o=i-t,s=Math.sqrt(a*a+o*o);return[e+a/s*n,t+o/s*n]},r.findMaxSqDistanceToOrigin=function(e){for(var t=1e-6,n=void 0,r=0;r<e.length/2;r++)(n=e[2*r]*e[2*r]+e[2*r+1]*e[2*r+1])>t&&(t=n);return t},r.midOfThree=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},r.finiteLinesIntersect=function(e,t,n,r,i,a,o,s,l){var u=e-i,c=n-e,d=o-i,h=t-a,p=r-t,f=s-a,v=d*h-f*u,g=c*h-p*u,y=f*c-d*p;if(0!==y){var m=v/y,b=g/y;return-.001<=m&&m<=1.001&&-.001<=b&&b<=1.001?[e+m*c,t+m*p]:l?[e+m*c,t+m*p]:[]}return 0===v||0===g?this.midOfThree(e,n,o)===o?[o,s]:this.midOfThree(e,n,i)===i?[i,a]:this.midOfThree(i,o,n)===n?[n,r]:[]:[]},r.polygonIntersectLine=function(e,t,n,i,a,o,s,l){var u=[],c=void 0,d=new Array(n.length),h=!0;5===arguments.length&&(h=!1);var p=void 0;if(h){for(var f=0;f<d.length/2;f++)d[2*f]=n[2*f]*o+i,d[2*f+1]=n[2*f+1]*s+a;if(l>0){var v=r.expandPolygon(d,-l);p=r.joinLines(v)}else p=d}else p=n;for(var g=void 0,y=void 0,m=void 0,b=void 0,x=0;x<p.length/2;x++)g=p[2*x],y=p[2*x+1],x<p.length/2-1?(m=p[2*(x+1)],b=p[2*(x+1)+1]):(m=p[0],b=p[1]),0!==(c=this.finiteLinesIntersect(e,t,i,a,g,y,m,b)).length&&u.push(c[0],c[1]);return u},r.shortenIntersection=function(e,t,n){var r=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(r[0]*r[0]+r[1]*r[1]),a=(i-n)/i;return a<0&&(a=1e-5),[t[0]+a*r[0],t[1]+a*r[1]]},r.generateUnitNgonPointsFitToSquare=function(e,t){var n=r.generateUnitNgonPoints(e,t);return r.fitPolygonToSquare(n)},r.fitPolygonToSquare=function(e){for(var t=void 0,n=void 0,r=e.length/2,i=1/0,a=1/0,o=-1/0,s=-1/0,l=0;l<r;l++)t=e[2*l],n=e[2*l+1],i=Math.min(i,t),o=Math.max(o,t),a=Math.min(a,n),s=Math.max(s,n);for(var u=2/(o-i),c=2/(s-a),d=0;d<r;d++)t=e[2*d]=e[2*d]*u,n=e[2*d+1]=e[2*d+1]*c,i=Math.min(i,t),o=Math.max(o,t),a=Math.min(a,n),s=Math.max(s,n);if(a<-1)for(var h=0;h<r;h++)n=e[2*h+1]=e[2*h+1]+(-1-a);return e},r.generateUnitNgonPoints=function(e,t){var n=1/e*2*Math.PI,r=e%2==0?Math.PI/2+n/2:Math.PI/2;r+=t;for(var i=new Array(2*e),a=void 0,o=0;o<e;o++)a=o*n+r,i[2*o]=Math.cos(a),i[2*o+1]=Math.sin(-a);return i},r.getRoundRectangleRadius=function(e,t){return Math.min(e/4,t/4,8)},r.getCutRectangleCornerLength=function(){return 8},r.bezierPtsToQuadCoeff=function(e,t,n){return[e-2*t+n,2*(t-e),e]},r.getBarrelCurveConstants=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},e.exports=r},function(e,t,n){e.exports="undefined"==typeof window?null:window},function(e,t,n){var r=n(1),i={};[n(44),n(46),n(47)].forEach(function(e){r.assign(i,e)}),e.exports=i},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},i=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};i.prototype={fulfill:function fulfill(e){return a(this,1,"fulfillValue",e)},reject:function reject(e){return a(this,2,"rejectReason",e)},then:function then(e,t){var n=this,r=new i;return n.onFulfilled.push(l(e,r,"fulfill")),n.onRejected.push(l(t,r,"reject")),o(n),r.proxy}};var a=function a(e,t,n,r){return 0===e.state&&(e.state=t,e[n]=r,o(e)),e},o=function o(e){1===e.state?s(e,"onFulfilled",e.fulfillValue):2===e.state&&s(e,"onRejected",e.rejectReason)},s=function s(e,t,n){if(0!==e[t].length){var r=e[t];e[t]=[];var i=function i(){for(var e=0;e<r.length;e++)r[e](n)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},l=function l(e,t,n){return function(r){if("function"!=typeof e)t[n].call(t,r);else{var i;try{i=e(r)}catch(e){return void t.reject(e)}u(t,i)}}},u=function e(t,n){if(t!==n&&t.proxy!==n){var i;if("object"===(void 0===n?"undefined":r(n))&&null!==n||"function"==typeof n)try{i=n.then}catch(e){return void t.reject(e)}if("function"!=typeof i)t.fulfill(n);else{var a=!1;try{i.call(n,function(r){a||(a=!0,r===n?t.reject(new TypeError("circular thenable chain")):e(t,r))},function(e){a||(a=!0,t.reject(e))})}catch(e){a||t.reject(e)}}}else t.reject(new TypeError("cannot resolve promise with itself"))};i.all=function(e){return new i(function(t,n){for(var r=new Array(e.length),i=0,a=function a(n,_a){r[n]=_a,++i===e.length&&t(r)},o=0;o<e.length;o++)!function(t){var r=e[t];null!=r&&null!=r.then?r.then(function(e){a(t,e)},function(e){n(e)}):a(t,r)}(o)})},i.resolve=function(e){return new i(function(t,n){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},e.exports="undefined"!=typeof Promise?Promise:i},function(e,t,n){var r=n(0),i=n(1),a=n(10),o=function o(e){var t=this;if(t._private={selectorText:e,invalid:!0},null==e||r.string(e)&&e.match(/^\s*$/))t.length=0;else if("*"===e||"edge"===e||"node"===e)t[0]=a(),t[0].group="*"===e?e:e+"s",t[0].groupOnly=!0,t[0].length=1,t._private.invalid=!1,t.length=1;else if(r.elementOrCollection(e)){var n=e.collection();t[0]=a(),t[0].collection=n,t[0].length=1,t.length=1}else if(r.fn(e))t[0]=a(),t[0].filter=e,t[0].length=1,t.length=1;else{if(!r.string(e))return void i.error("A selector must be created from a string; found ",e);if(!t.parse(e))return}t._private.invalid=!1},s=o.prototype;s.valid=function(){return!this._private.invalid},s.invalid=function(){return this._private.invalid},s.text=function(){return this._private.selectorText},s.size=function(){return this.length},s.eq=function(e){return this[e]},s.sameText=function(e){return this.text()===e.text()},s.toString=s.selector=function(){if(null!=this._private.toStringCache)return this._private.toStringCache;var e=void 0,t="",n=function n(e){return null==e?"":e},i=function i(e){return r.string(e)?'"'+e+'"':n(e)},a=function a(e){return" "+e+" "};for(e=0;e<this.length;e++){t+=function t(r){var o="",s=void 0;r.subject===r&&(o+="$");var u=n(r.group);for(o+=u.substring(0,u.length-1),s=0;s<r.data.length;s++){var c=r.data[s];c.value?o+="["+c.field+a(n(c.operator))+i(c.value)+"]":o+="["+n(c.operator)+c.field+"]"}for(s=0;s<r.meta.length;s++){var d=r.meta[s];o+="[["+d.field+a(n(d.operator))+i(d.value)+"]]"}for(s=0;s<r.colonSelectors.length;s++)o+=r.colonSelectors[e];for(s=0;s<r.ids.length;s++)o+="#"+r.ids[e];for(s=0;s<r.classes.length;s++)o+="."+r.classes[s];if(null!=r.source&&null!=r.target&&(o=t(r.source)+" -> "+t(r.target)),null!=r.connectedNodes){var h=r.connectedNodes;o=t(h[0])+" <-> "+t(h[1])}return null!=r.parent&&(o=t(r.parent)+" > "+o),null!=r.ancestor&&(o=t(r.ancestor)+" "+o),null!=r.child&&(o+=" > "+t(r.child)),null!=r.descendant&&(o+=" "+t(r.descendant)),o}(this[e]),this.length>1&&e<this.length-1&&(t+=", ")}return this._private.toStringCache=t,t},[n(50),n(53)].forEach(function(e){return i.assign(s,e)}),e.exports=o},function(e,t,n){var r=n(1),i=n(0),a=n(28),o=n(8),s=n(14),l_generate=function generate(e,t,n){for(var i=null!=n?n:r.uuid();e.hasElementWithId(i);)i=r.uuid();return i},u=function u(e,t,n){if(void 0!==e&&i.core(e)){var u=new a,c=!1;if(t){if(t.length>0&&i.plainObject(t[0])&&!i.element(t[0])){c=!0;for(var d=[],h=new o,p=0,f=t.length;p<f;p++){var v=t[p];null==v.data&&(v.data={});var g=v.data;if(null==g.id)g.id=l_generate(e,v);else if(e.hasElementWithId(g.id)||h.has(g.id))continue;var y=new s(e,v,!1);d.push(y),h.add(g.id)}t=d}}else t=[];this.length=0;for(var m=0,b=t.length;m<b;m++){var x=t[m];if(null!=x){var w=x._private.data.id;(null==n||n.unique&&!u.has(w))&&(u.set(w,{index:this.length,ele:x}),this[this.length]=x,this.length++)}}this._private={cy:e,map:u},c&&this.restore()}else r.error("A collection must have a reference to the core")},c=s.prototype=u.prototype;c.instanceString=function(){return"collection"},c.spawn=function(e,t,n){return i.core(e)||(n=t,t=e,e=this.cy()),new u(e,t,n)},c.spawnSelf=function(){return this.spawn(this)},c.cy=function(){return this._private.cy},c.renderer=function(){return this._private.cy.renderer()},c.element=function(){return this[0]},c.collection=function(){return i.collection(this)?this:new u(this._private.cy,[this])},c.unique=function(){return new u(this._private.cy,this,{unique:!0})},c.hasElementWithId=function(e){return this._private.map.has(e)},c.getElementById=function(e){var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new u(t)},c.$id=c.getElementById,c.poolIndex=function(){var t=this._private.cy._private.elements,n=this._private.data.id;return t._private.map.get(n).index},c.json=function(e){var t=this.element(),n=this.cy();if(null==t&&e)return this;if(null!=t){var a=t._private;if(i.plainObject(e)){n.startBatch(),e.data&&t.data(e.data),e.position&&t.position(e.position);var o=function o(n,r,i){var o=e[n];null!=o&&o!==a[n]&&(o?t[r]():t[i]())};return o("removed","remove","restore"),o("selected","select","unselect"),o("selectable","selectify","unselectify"),o("locked","lock","unlock"),o("grabbable","grabify","ungrabify"),null!=e.classes&&t.classes(e.classes),n.endBatch(),this}if(void 0===e){var s={data:r.copy(a.data),position:r.copy(a.position),group:a.group,removed:a.removed,selected:a.selected,selectable:a.selectable,locked:a.locked,grabbable:a.grabbable,classes:null};s.classes="";var l=0;return a.classes.forEach(function(e){return s.classes+=0==l++?e:" "+e}),s}}},c.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t].json();e.push(r)}return e},c.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var i=this[n].json(),a=new s(e,i,!1);t.push(a)}return new u(e,t)},c.copy=c.clone,c.restore=function(e){var t=this,n=t.cy(),o=n._private;void 0===e&&(e=!0);for(var s=[],c=[],d=void 0,h=0,p=t.length;h<p;h++){var f=t[h];f.removed()&&(f.isNode()?s.push(f):c.push(f))}d=s.concat(c);var v=void 0,g=function g(){d.splice(v,1),v--};for(v=0;v<d.length;v++){var y=d[v],m=y._private,b=m.data;if(y.clearTraversalCache(),void 0===b.id)b.id=l_generate(n,y);else if(i.number(b.id))b.id=""+b.id;else{if(i.emptyString(b.id)||!i.string(b.id)){r.error("Can not create element with invalid string ID `"+b.id+"`"),g();continue}if(n.hasElementWithId(b.id)){r.error("Can not create second element with ID `"+b.id+"`"),g();continue}}var x=b.id;if(y.isNode()){var w=m.position;null==w.x&&(w.x=0),null==w.y&&(w.y=0)}if(y.isEdge()){for(var E=y,P=["source","target"],C=P.length,S=!1,T=0;T<C;T++){var D=P[T],k=b[D];i.number(k)&&(k=b[D]=""+b[D]),null==k||""===k?(r.error("Can not create edge `"+x+"` with unspecified "+D),S=!0):n.hasElementWithId(k)||(r.error("Can not create edge `"+x+"` with nonexistant "+D+" `"+k+"`"),S=!0)}if(S){g();continue}var _=n.getElementById(b.source),M=n.getElementById(b.target);_._private.edges.push(E),M._private.edges.push(E),E._private.source=_,E._private.target=M}m.map=new a,m.map.set(x,{ele:y,index:0}),m.removed=!1,n.addToPool(y)}for(var I=0;I<s.length;I++){var N=s[I],B=N._private.data;i.number(B.parent)&&(B.parent=""+B.parent);var z=B.parent;if(null!=z){var L=n.getElementById(z);if(L.empty())B.parent=void 0;else{for(var A=!1,O=L;!O.empty();){if(N.same(O)){A=!0,B.parent=void 0;break}O=O.parent()}A||(L[0]._private.children.push(N),N._private.parent=L[0],o.hasCompoundNodes=!0)}}}if(d.length>0){for(var R=new u(n,d),V=0;V<R.length;V++){var q=R[V];q.isNode()||(q.parallelEdges().clearTraversalCache(),q.source().clearTraversalCache(),q.target().clearTraversalCache())}(o.hasCompoundNodes?n.collection().merge(R).merge(R.connectedNodes()).merge(R.parent()):R).dirtyCompoundBoundsCache().updateStyle(e),e?R.emitAndNotify("add"):R.emit("add")}return t},c.removed=function(){var e=this[0];return e&&e._private.removed},c.inside=function(){var e=this[0];return e&&!e._private.removed},c.remove=function(e){function i(e){var r=c[e.id()];e.removed()||r||(c[e.id()]=!0,e.isNode()?(l.push(e),function t(e){for(var t=e._private.edges,n=0;n<t.length;n++)i(t[n])}(e),function n(e){for(var t=e._private.children,n=0;n<t.length;n++)i(t[n])}(e)):l.unshift(e))}function a(e,t){var n=e._private.edges;r.removeFromArray(n,t),e.clearTraversalCache()}var o=this,s=[],l=[],c={},d=o._private.cy;void 0===e&&(e=!0);for(var h=0,p=o.length;h<p;h++)i(o[h]);var f=[];f.ids={},o.dirtyCompoundBoundsCache(),d.removeFromPool(l);for(var v=0;v<l.length;v++){var g=l[v];if(g._private.removed=!0,s.push(g),g.isEdge()){var y=g.source()[0],m=g.target()[0];a(y,g),a(m,g),g.parallelEdges().clearTraversalCache()}else{var b=g.parent();0!==b.length&&function(e,t){t=t[0];var n=(e=e[0])._private.children,i=e.id();r.removeFromArray(n,t),f.ids[i]||(f.ids[i]=!0,f.push(e))}(b,g)}}var x=d._private.elements;d._private.hasCompoundNodes=!1;for(var w=0;w<x.length;w++)if(x[w].isParent()){d._private.hasCompoundNodes=!0;break}var E=new u(this.cy(),s);E.size()>0&&(e&&this.cy().notify({type:"remove",eles:E}),E.emit("remove"));for(var P=0;P<f.length;P++){var C=f[P];C.removed()||C.updateStyle()}return new u(d,s)},c.move=function(e){var t=this._private.cy;if(void 0!==e.source||void 0!==e.target){var n=e.source,r=e.target,i=t.hasElementWithId(n),a=t.hasElementWithId(r);if(i||a){var o=this.jsons();this.remove();for(var s=0;s<o.length;s++){var l=o[s],u=this[s];"edges"===l.group&&(i&&(l.data.source=n),a&&(l.data.target=r),l.scratch=u._private.scratch)}return t.add(o)}}else if(void 0!==e.parent){var c=e.parent;if(null===c||t.hasElementWithId(c)){var h=this.jsons(),p=this.descendants(),f=p.union(p.union(this).connectedEdges()).jsons();this.remove();for(var v=0;v<h.length;v++){var g=h[v],y=this[v];"nodes"===g.group&&(g.data.parent=null===c?void 0:c,g.scratch=y._private.scratch)}return t.add(h.concat(f))}}return this},[n(29),n(43),n(48),n(49),n(54),n(55),n(56),n(57),n(62),n(63),n(64),n(7),n(65),n(66),n(67),n(68),n(69)].forEach(function(e){r.extend(c,e)}),e.exports=u},function(e,t,n){var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=("function"==typeof Symbol&&Symbol.iterator,function(){function e(t){if(function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._obj=Object.create(null),null!=t){var n;n=null!=t.instanceString&&t.instanceString()===this.instanceString()?t.toArray():t;for(var i=0;i<n.length;i++)this.add(n[i])}}return i(e,[{key:"instanceString",value:function value(){return"set"}},{key:"add",value:function value(e){this._obj[e]=1}},{key:"delete",value:function value(e){this._obj[e]=0}},{key:"clear",value:function value(){this._obj=Object.create(null)}},{key:"has",value:function value(e){return 1===this._obj[e]}},{key:"toArray",value:function value(){var e=this;return Object.keys(this._obj).filter(function(t){return e.has(t)})}},{key:"forEach",value:function value(e,t){return this.toArray().forEach(e,t)}},{key:"size",get:function get(){return this.toArray().length}}]),e}());e.exports=a},function(e,t,n){e.exports=n(32)},function(e,t,n){e.exports=function r(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}}},function(e,t,n){function r(e){i.assign(this,l,e),this.listeners=[],this.emitting=0}var i=n(1),a=n(0),o=n(16),s=/^([^.]+)(\.(?:[^.]+))?$/,l={qualifierCompare:function qualifierCompare(e,t){return e===t},eventMatches:function eventMatches(){return!0},eventFields:function eventFields(){return{}},callbackContext:function callbackContext(e){return e},beforeEmit:function beforeEmit(){},afterEmit:function afterEmit(){},bubble:function bubble(){return!1},parent:function parent(){return null},context:void 0},u=r.prototype,c=function c(e,t,n,r,o,l,u){a.fn(r)&&(o=r,r=null),u&&(l=null==l?u:i.assign({},l,u));for(var c=n.split(/\s+/),d=0;d<c.length;d++){var h=c[d];if(!a.emptyString(h)){var p=h.match(s);if(p&&!1===t(e,h,p[1],p[2]?p[2]:null,r,o,l))break}}},d=function d(e,t){return new o(t.type,i.assign(t,e.eventFields(e.context)))};u.on=u.addListener=function(e,t,n,r,i){return c(this,function(e,t,n,r,i,o,s){a.fn(o)&&e.listeners.push({event:t,callback:o,type:n,namespace:r,qualifier:i,conf:s})},e,t,n,r,i),this},u.one=function(e,t,n,r){return this.on(e,t,n,r,{one:!0})},u.removeListener=u.off=function(e,t,n,r){var a=this;0!==this.emitting&&(this.listeners=i.copyArray(this.listeners));for(var o=this.listeners,s=o.length-1;s>=0;s--)!function(i){var s=o[i];c(a,function(e,t,n,r,a,l){if(s.type===n&&(!r||s.namespace===r)&&(!a||e.qualifierCompare(s.qualifier,a))&&(!l||s.callback===l))return o.splice(i,1),!1},e,t,n,r)}(s);return this},u.emit=u.trigger=function(e,t,n){var r=this.listeners,o=r.length;return this.emitting++,a.array(t)||(t=[t]),function h(e,t,n){if(a.event(n))t(e,n);else if(a.plainObject(n))t(e,d(e,n));else for(var r=n.split(/\s+/),i=0;i<r.length;i++){var o=r[i];if(!a.emptyString(o)){var l=o.match(s);if(l){var u=l[1],c=l[2]?l[2]:null;t(e,d(e,{type:u,namespace:c,target:e.context}))}}}}(this,function(e,a){null!=n&&(r=[{event:a.event,type:a.type,namespace:a.namespace,callback:n}],o=r.length);for(var s=0;s<o;s++)!function(n){var o=r[n];if(o.type===a.type&&(!o.namespace||o.namespace===a.namespace||".*"===o.namespace)&&e.eventMatches(e.context,o,a)){var s=[a];null!=t&&i.push(s,t),e.beforeEmit(e.context,o,a),o.conf&&o.conf.one&&(e.listeners=e.listeners.filter(function(e){return e!==o}));var l=e.callbackContext(e.context,o,a),u=o.callback.apply(l,s);e.afterEmit(e.context,o,a),!1===u&&(a.stopPropagation(),a.preventDefault())}}(s);e.bubble(e.context)&&!a.isPropagationStopped()&&e.parent(e.context).emit(a,t)},e),this.emitting--,this},e.exports=r},function(e,t,n){var r=n(3),i=n(1),a=n(7),o=n(0),s=n(5),l=n(4),u=function u(e){var t=this,n=(e=i.extend({},e)).container;n&&!o.htmlElement(n)&&o.htmlElement(n[0])&&(n=n[0]);var l=n?n._cyreg:null;(l=l||{})&&l.cy&&(l.cy.destroy(),l={});var u=l.readies=l.readies||[];n&&(n._cyreg=l),l.cy=t;var c=void 0!==r&&void 0!==n&&!e.headless,d=e;d.layout=i.extend({name:c?"grid":"null"},d.layout),d.renderer=i.extend({name:c?"canvas":"null"},d.renderer);var h=function h(e,t,n){return void 0!==t?t:void 0!==n?n:e},p=this._private={container:n,ready:!1,options:d,elements:new a(this),listeners:[],aniEles:new a(this),scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:h(!0,d.zoomingEnabled),userZoomingEnabled:h(!0,d.userZoomingEnabled),panningEnabled:h(!0,d.panningEnabled),userPanningEnabled:h(!0,d.userPanningEnabled),boxSelectionEnabled:h(!0,d.boxSelectionEnabled),autolock:h(!1,d.autolock,d.autolockNodes),autoungrabify:h(!1,d.autoungrabify,d.autoungrabifyNodes),autounselectify:h(!1,d.autounselectify),styleEnabled:void 0===d.styleEnabled?c:d.styleEnabled,zoom:o.number(d.zoom)?d.zoom:1,pan:{x:o.plainObject(d.pan)&&o.number(d.pan.x)?d.pan.x:0,y:o.plainObject(d.pan)&&o.number(d.pan.y)?d.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter();var f=d.selectionType;p.selectionType=void 0===f||"additive"!==f&&"single"!==f?"single":f,o.number(d.minZoom)&&o.number(d.maxZoom)&&d.minZoom<d.maxZoom?(p.minZoom=d.minZoom,p.maxZoom=d.maxZoom):o.number(d.minZoom)&&void 0===d.maxZoom?p.minZoom=d.minZoom:o.number(d.maxZoom)&&void 0===d.minZoom&&(p.maxZoom=d.maxZoom),p.styleEnabled&&t.setStyle([]),t.initRenderer(i.extend({hideEdgesOnViewport:d.hideEdgesOnViewport,textureOnViewport:d.textureOnViewport,wheelSensitivity:o.number(d.wheelSensitivity)&&d.wheelSensitivity>0?d.wheelSensitivity:1,motionBlur:void 0!==d.motionBlur&&d.motionBlur,motionBlurOpacity:void 0===d.motionBlurOpacity?.05:d.motionBlurOpacity,pixelRatio:o.number(d.pixelRatio)&&d.pixelRatio>0?d.pixelRatio:void 0,desktopTapThreshold:void 0===d.desktopTapThreshold?4:d.desktopTapThreshold,touchTapThreshold:void 0===d.touchTapThreshold?8:d.touchTapThreshold},d.renderer));!function(e,t){if(e.some(o.promise))return s.all(e).then(t);t(e)}([d.style,d.elements],function(e){var n=e[0],r=e[1];p.styleEnabled&&t.style().append(n),function v(e,n,r){t.notifications(!1);var a=t.mutableElements();a.length>0&&a.remove(),null!=e&&(o.plainObject(e)||o.array(e))&&t.add(e),t.one("layoutready",function(e){t.notifications(!0),t.emit(e),t.notify({type:"load",eles:t.mutableElements()}),t.one("load",n),t.emit("load")}).one("layoutstop",function(){t.one("done",r),t.emit("done")});var s=i.extend({},t._private.options.layout);s.eles=t.elements(),t.layout(s).run()}(r,function(){t.startAnimationLoop(),p.ready=!0,o.fn(d.ready)&&t.on("ready",d.ready);for(var e=0;e<u.length;e++){var n=u[e];t.on("ready",n)}l&&(l.readies=[]),t.emit("ready")},d.done)})},c=u.prototype;i.extend(c,{instanceString:function instanceString(){return"core"},isReady:function isReady(){return this._private.ready},isDestroyed:function isDestroyed(){return this._private.destroyed},ready:function ready(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function destroy(){var e=this;if(!e.isDestroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function hasElementWithId(e){return this._private.elements.hasElementWithId(e)},getElementById:function getElementById(e){return this._private.elements.getElementById(e)},selectionType:function selectionType(){return this._private.selectionType},hasCompoundNodes:function hasCompoundNodes(){return this._private.hasCompoundNodes},headless:function headless(){return"null"===this._private.options.renderer.name},styleEnabled:function styleEnabled(){return this._private.styleEnabled},addToPool:function addToPool(e){return this._private.elements.merge(e),this},removeFromPool:function removeFromPool(e){return this._private.elements.unmerge(e),this},container:function container(){return this._private.container},options:function options(){return i.copy(this._private.options)},json:function json(e){var t=this,n=t._private,r=t.mutableElements();if(o.plainObject(e)){if(t.startBatch(),e.elements){var a={},s=function s(e,n){for(var r=0;r<e.length;r++){var o=e[r],s=o.data.id,l=t.getElementById(s);a[s]=!0,0!==l.length?l.json(o):n?t.add(i.extend({group:n},o)):t.add(o)}};if(o.array(e.elements))s(e.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var c=l[u],d=e.elements[c];o.array(d)&&s(d,c)}r.stdFilter(function(e){return!a[e.id()]}).remove()}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===n.pan.x&&e.pan.y===n.pan.y||t.pan(e.pan));for(var h=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],p=0;p<h.length;p++){var f=h[p];null!=e[f]&&t[f](e[f])}return t.endBatch(),this}if(void 0===e){var v={elements:{}};return r.forEach(function(e){var t=e.group();v.elements[t]||(v.elements[t]=[]),v.elements[t].push(e.json())}),this._private.styleEnabled&&(v.style=t.style().json()),v.zoomingEnabled=t._private.zoomingEnabled,v.userZoomingEnabled=t._private.userZoomingEnabled,v.zoom=t._private.zoom,v.minZoom=t._private.minZoom,v.maxZoom=t._private.maxZoom,v.panningEnabled=t._private.panningEnabled,v.userPanningEnabled=t._private.userPanningEnabled,v.pan=i.copy(t._private.pan),v.boxSelectionEnabled=t._private.boxSelectionEnabled,v.renderer=i.copy(t._private.options.renderer),v.hideEdgesOnViewport=t._private.options.hideEdgesOnViewport,v.textureOnViewport=t._private.options.textureOnViewport,v.wheelSensitivity=t._private.options.wheelSensitivity,v.motionBlur=t._private.options.motionBlur,v}},scratch:l.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:l.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})}),c.$id=c.getElementById,[n(70),n(71),n(79),n(80),n(81),n(82),n(83),n(84),n(85),n(94)].forEach(function(e){i.extend(c,e)}),e.exports=u},function(e,t,n){e.exports=function(e,t){t||(t=function t(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var n=function n(){var i=arguments,a=void 0,o=t.apply(this,i),s=n.cache;return(a=s[o])||(a=s[o]=e.apply(this,i)),a};return n.cache={},n}},function(e,t,n){var r=n(1),i=n(0),a=n(8);e.exports=function o(e,t,n){if(n=!(void 0!==n&&!n),void 0!==e&&void 0!==t&&i.core(e)){var o=t.group;if(null==o&&(o=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"===o||"edges"===o){this.length=1,this[0]=this;var s=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:o,style:{},rstyle:{},styleCxts:[],removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,active:!1,classes:new a,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1};if(t.renderedPosition){var l=t.renderedPosition,u=e.pan(),c=e.zoom();s.position={x:(l.x-u.x)/c,y:(l.y-u.y)/c}}if(i.string(t.classes))for(var d=t.classes.split(/\s+/),h=0,p=d.length;h<p;h++){var f=d[h];f&&""!==f&&s.classes.add(f)}(t.style||t.css)&&e.style().applyBypass(this,t.style||t.css),this.createEmitter(),(void 0===n||n)&&this.restore()}else r.error("An element must be of type `nodes` or `edges`; you specified `"+o+"`")}else r.error("An element must have a core reference and parameters set")}},function(e,t,n){var r=n(1),i=[{selector:":selected",matches:function matches(e){return e.selected()}},{selector:":unselected",matches:function matches(e){return!e.selected()}},{selector:":selectable",matches:function matches(e){return e.selectable()}},{selector:":unselectable",matches:function matches(e){return!e.selectable()}},{selector:":locked",matches:function matches(e){return e.locked()}},{selector:":unlocked",matches:function matches(e){return!e.locked()}},{selector:":visible",matches:function matches(e){return e.visible()}},{selector:":hidden",matches:function matches(e){return!e.visible()}},{selector:":transparent",matches:function matches(e){return e.transparent()}},{selector:":grabbed",matches:function matches(e){return e.grabbed()}},{selector:":free",matches:function matches(e){return!e.grabbed()}},{selector:":removed",matches:function matches(e){return e.removed()}},{selector:":inside",matches:function matches(e){return!e.removed()}},{selector:":grabbable",matches:function matches(e){return e.grabbable()}},{selector:":ungrabbable",matches:function matches(e){return!e.grabbable()}},{selector:":animated",matches:function matches(e){return e.animated()}},{selector:":unanimated",matches:function matches(e){return!e.animated()}},{selector:":parent",matches:function matches(e){return e.isParent()}},{selector:":childless",matches:function matches(e){return e.isChildless()}},{selector:":child",matches:function matches(e){return e.isChild()}},{selector:":orphan",matches:function matches(e){return e.isOrphan()}},{selector:":nonorphan",matches:function matches(e){return e.isChild()}},{selector:":loop",matches:function matches(e){return e.isLoop()}},{selector:":simple",matches:function matches(e){return e.isSimple()}},{selector:":active",matches:function matches(e){return e.active()}},{selector:":inactive",matches:function matches(e){return!e.active()}},{selector:":backgrounding",matches:function matches(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function matches(e){return!e.backgrounding()}}].sort(function(e,t){return r.sort.descending(e.selector,t.selector)}),o="("+i.map(function(e){return e.selector}).join("|")+")";e.exports={stateSelectors:i,stateSelectorMatches:function e(t,n){return(e.lookup=e.lookup||function(){for(var e={},t=void 0,n=0;n<i.length;n++)e[(t=i[n]).selector]=t.matches;return e}())[t](n)},stateSelectorRegex:o}},function(e,t,n){function r(){return!1}function i(){return!0}var a=function a(e,t){this.recycle(e,t)};a.prototype={instanceString:function instanceString(){return"event"},recycle:function recycle(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=r,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?i:r):null!=e&&e.type?t=e:this.type=e,null!=t&&(this.originalEvent=t.originalEvent,this.type=null!=t.type?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,a=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:n.x*a+o.x,y:n.y*a+o.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function preventDefault(){this.isDefaultPrevented=i;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function stopPropagation(){this.isPropagationStopped=i;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function stopImmediatePropagation(){this.isImmediatePropagationStopped=i,this.stopPropagation()},isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r},e.exports=a},function(e,t,n){var r=n(1);e.exports=function i(e,t){function n(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?o?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?r.MAX_INT:0}function i(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var o=e.cy().hasCompoundNodes(),s=n(e)-n(t);if(0!==s)return s;var l=i(e)-i(t);if(0!==l)return l;var u=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==u?u:e.poolIndex()-t.poolIndex()}},function(e,t,n){var r=n(0),i=n(1),a=n(6),o=function e(t){return this instanceof e?r.core(t)?(this._private={cy:t,coreStyle:{}},this.length=0,void this.resetToDefault()):void i.error("A style must have a core reference"):new e(t)},s=o.prototype;s.instanceString=function(){return"style"},s.clear=function(){for(var e=0;e<this.length;e++)this[e]=void 0;return this.length=0,this._private.newStyle=!0,this},s.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},s.core=function(){return this._private.coreStyle},s.selector=function(e){var t="core"===e?null:new a(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this},s.css=function(){var t=arguments;switch(t.length){case 1:for(var n=t[0],r=0;r<this.properties.length;r++){var a=this.properties[r],o=n[a.name];void 0===o&&(o=n[i.dash2camel(a.name)]),void 0!==o&&this.cssRule(a.name,o)}break;case 2:this.cssRule(t[0],t[1])}return this},s.style=s.css,s.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n),!this[r].selector&&(this._private.coreStyle[n.name]=n)}return this},s.append=function(e){return r.stylesheet(e)?e.appendToStyle(this):r.array(e)?this.appendFromJson(e):r.string(e)&&this.appendFromString(e),this},o.fromJson=function(e,t){var n=new o(e);return n.fromJson(t),n},o.fromString=function(e,t){return new o(e).fromString(t)},[n(86),n(87),n(88),n(89),n(90),n(91),n(92),n(93)].forEach(function(e){i.extend(s,e)}),o.types=s.types,o.properties=s.properties,e.exports=o},function(e,t,n){var r=n(1);e.exports={setupDequeueing:function setupDequeueing(e){return function(){var t=this,n=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var i=r.debounce(function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},e.deqRedrawThreshold),o=e.priority||r.noop;n.beforeRender(function a(_a2,o){for(var s=r.performanceNow(),l=n.averageRedrawTime,u=n.lastRedrawTime,c=[],d=n.cy.extent(),h=n.getPixelRatio();;){var p=r.performanceNow(),f=p-s,v=p-o;if(u<1e3/60){var g=1e3/60-(_a2?l:0);if(v>=e.deqFastCost*g)break}else if(_a2){if(f>=e.deqCost*u||f>=e.deqAvgCost*l)break}else if(v>=e.deqNoDrawCost*(1e3/60))break;var y=e.deq(t,h,d);if(!(y.length>0))break;for(var m=0;m<y.length;m++)c.push(y[m])}c.length>0&&(e.onDeqd(t,c),!_a2&&e.shouldRedraw(t,c,h,d)&&i())},o(t))}}}}},function(e,t,n){var r=n(0),i=n(12),a=n(95),o=n(138),s=function s(e){return void 0===e&&(e={}),r.plainObject(e)?new i(e):r.string(e)?a.apply(a,arguments):void 0};s.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(s),e.apply(null,t),this},s.version=n(139),s.stylesheet=s.Stylesheet=o,e.exports=s},function(e,t,n){var r=n(0);e.exports={hex2tuple:function hex2tuple(e){if((4===e.length||7===e.length)&&"#"===e[0]){var n=void 0,r=void 0,i=void 0;return 4===e.length?(n=parseInt(e[1]+e[1],16),r=parseInt(e[2]+e[2],16),i=parseInt(e[3]+e[3],16)):(n=parseInt(e[1]+e[2],16),r=parseInt(e[3]+e[4],16),i=parseInt(e[5]+e[6],16)),[n,r,i]}},hsl2tuple:function hsl2tuple(e){function t(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var n=void 0,r=void 0,i=void 0,a=void 0,o=void 0,s=void 0,l=void 0,u=void 0,c=new RegExp("^"+this.regex.hsla+"$").exec(e);if(c){if((r=parseInt(c[1]))<0?r=(360- -1*r%360)%360:r>360&&(r%=360),r/=360,(i=parseFloat(c[2]))<0||i>100)return;if(i/=100,(a=parseFloat(c[3]))<0||a>100)return;if(a/=100,void 0!==(o=c[4])&&((o=parseFloat(o))<0||o>1))return;if(0===i)s=l=u=Math.round(255*a);else{var d=a<.5?a*(1+i):a+i-a*i,h=2*a-d;s=Math.round(255*t(h,d,r+1/3)),l=Math.round(255*t(h,d,r)),u=Math.round(255*t(h,d,r-1/3))}n=[s,l,u,o]}return n},rgb2tuple:function rgb2tuple(e){var t=void 0,n=new RegExp("^"+this.regex.rgba+"$").exec(e);if(n){t=[];for(var r=[],i=1;i<=3;i++){var a=n[i];if("%"===a[a.length-1]&&(r[i]=!0),a=parseFloat(a),r[i]&&(a=a/100*255),a<0||a>255)return;t.push(Math.floor(a))}var o=r[1]||r[2]||r[3],s=r[1]&&r[2]&&r[3];if(o&&!s)return;var l=n[4];if(void 0!==l){if((l=parseFloat(l))<0||l>1)return;t.push(l)}}return t},colorname2tuple:function colorname2tuple(e){return this.colors[e.toLowerCase()]},color2tuple:function color2tuple(e){return(r.array(e)?e:null)||this.colorname2tuple(e)||this.hex2tuple(e)||this.rgb2tuple(e)||this.hsl2tuple(e)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}},function(e,t,n){var r=n(0);e.exports={mapEmpty:function mapEmpty(e){return null==e||0===Object.keys(e).length},pushMap:function pushMap(e){var t=this.getMap(e);null==t?this.setMap(this.extend({},e,{value:[e.value]})):t.push(e.value)},setMap:function setMap(e){for(var t=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var o=n[a];r.plainObject(o)&&this.error("Tried to set map with object key"),a<n.length-1?(null==t[o]&&(t[o]={}),t=t[o]):t[o]=e.value}},getMap:function getMap(e){for(var t=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var o=n[a];if(r.plainObject(o)&&this.error("Tried to get map with object key"),null==(t=t[o]))return t}return t},deleteMap:function deleteMap(e){for(var t=e.map,n=e.keys,i=n.length,a=e.keepChildren,o=0;o<i;o++){var s=n[o];if(r.plainObject(s)&&this.error("Tried to delete map with object key"),o===e.keys.length-1)if(a)for(var l=Object.keys(t),u=0;u<l.length;u++){var c=l[u];a[c]||(t[c]=void 0)}else t[s]=void 0;else t=t[s]}}}},function(e,t,n){e.exports={regex:{number:"(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",rgba:"rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",rgbaNoBackRefs:"rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hsla:"hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hslaNoBackRefs:"hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hex3:"\\#[0-9a-fA-F]{3}",hex6:"\\#[0-9a-fA-F]{6}"}}},function(e,t,n){var r=n(13),i=n(0);e.exports={camel2dash:r(function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),dash2camel:r(function(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),prependCamel:r(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),capitalize:function capitalize(e){return i.emptyString(e)?e:e.charAt(0).toUpperCase()+e.substring(1)}}},function(e,t,n){var r=n(3),i=r?r.performance:null,a={},o=i&&i.now?function(){return i.now()}:function(){return Date.now()},s=function(){if(r){if(r.requestAnimationFrame)return function(e){r.requestAnimationFrame(e)};if(r.mozRequestAnimationFrame)return function(e){r.mozRequestAnimationFrame(e)};if(r.webkitRequestAnimationFrame)return function(e){r.webkitRequestAnimationFrame(e)};if(r.msRequestAnimationFrame)return function(e){r.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(o())},1e3/60)}}();a.requestAnimationFrame=function(e){s(e)},a.performanceNow=o,a.debounce=n(26),a.now=function(){return Date.now()},e.exports=a},function(e,t){function r(e){var t=_typeof(e);return!!e&&("object"==t||"function"==t)}function a(e){return"symbol"==_typeof(e)||function i(e){return!!e&&"object"==_typeof(e)}(e)&&b.call(e)==u}function o(e){if("number"==typeof e)return e;if(a(e))return l;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var n=h.test(e);return n||p.test(e)?f(e.slice(2),n?2:8):d.test(e)?l:+e}var s="Expected a function",l=NaN,u="[object Symbol]",c=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,p=/^0o[0-7]+$/i,f=parseInt,v="object"==(void 0===global?"undefined":_typeof(global))&&global&&global.Object===Object&&global,g="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,y=v||g||Function("return this")(),b=Object.prototype.toString,x=Math.max,w=Math.min,E=function E(){return y.Date.now()};e.exports=function n(e,t,n){function i(t){var n=v,r=g;return v=g=void 0,C=t,m=e.apply(r,n)}function u(e){var n=e-P;return void 0===P||n>=t||n<0||T&&e-C>=y}function c(){var e=E();if(u(e))return d(e);b=setTimeout(c,function l(e){var i=t-(e-P);return T?w(i,y-(e-C)):i}(e))}function d(e){return b=void 0,D&&v?i(e):(v=g=void 0,m)}function f(){var e=E(),n=u(e);if(v=arguments,g=this,P=e,n){if(void 0===b)return function a(e){return C=e,b=setTimeout(c,t),S?i(e):m}(P);if(T)return b=setTimeout(c,t),i(P)}return void 0===b&&(b=setTimeout(c,t)),m}var v,g,y,m,b,P,C=0,S=!1,T=!1,D=!0;if("function"!=typeof e)throw new TypeError(s);return t=o(t)||0,r(n)&&(S=!!n.leading,y=(T="maxWait"in n)?x(o(n.maxWait)||0,t):y,D="trailing"in n?!!n.trailing:D),f.cancel=function h(){void 0!==b&&clearTimeout(b),C=0,v=P=g=b=void 0},f.flush=function p(){return void 0===b?m:d(E())},f}},function(e,t,n){function r(e,t){return e<t?-1:e>t?1:0}e.exports={sort:{ascending:r,descending:function i(e,t){return-1*r(e,t)}}}},function(e,t,n){function r(){this._obj={}}var i=r.prototype;i.set=function(e,t){this._obj[e]=t},i.delete=function(e){this._obj[e]=null},i.has=function(e){return null!=this._obj[e]},i.get=function(e){return this._obj[e]},e.exports=r},function(e,t,n){var r=n(1),i={};[n(30),n(31),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42)].forEach(function(e){r.extend(i,e)}),e.exports=i},function(e,t,n){var r=n(0),i=function i(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,n,i){var a;r.plainObject(t)&&!r.elementOrCollection(t)&&(t=(a=t).roots||a.root,n=a.visit,i=a.directed),i=2!==arguments.length||r.fn(n)?i:n,n=r.fn(n)?n:function(){};for(var o,s=this._private.cy,l=t=r.string(t)?this.filter(t):t,u=[],c=[],d={},h={},p={},f=0,v=this.nodes(),g=this.edges(),y=0;y<l.length;y++)l[y].isNode()&&(u.unshift(l[y]),e.bfs&&(p[l[y].id()]=!0,c.push(l[y])),h[l[y].id()]=0);for(;0!==u.length;){l=e.bfs?u.shift():u.pop();if(e.dfs){if(p[l.id()])continue;p[l.id()]=!0,c.push(l)}var m,b=h[l.id()],x=d[l.id()],w=null==x?void 0:x.connectedNodes().not(l)[0];if(!0===(m=n(l,x,w,f++,b))){o=l;break}if(!1===m)break;var E=l.connectedEdges(i?function(e){return e.data("source")===l.id()}:void 0).intersect(g);for(y=0;y<E.length;y++){var P=E[y],C=P.connectedNodes(function(e){return e.id()!==l.id()}).intersect(v);0===C.length||p[C.id()]||(C=C[0],u.push(C),e.bfs&&(p[C.id()]=!0,c.push(C)),d[C.id()]=P,h[C.id()]=h[l.id()]+1)}}var S=[];for(y=0;y<c.length;y++){var T=c[y],D=d[T.id()];D&&S.push(D),S.push(T)}return{path:s.collection(S,{unique:!0}),found:s.collection(o)}}},a={breadthFirstSearch:i({bfs:!0}),depthFirstSearch:i({dfs:!0})};a.bfs=a.breadthFirstSearch,a.dfs=a.depthFirstSearch,e.exports=a},function(e,t,n){var r=n(0),i=n(9),a={dijkstra:function dijkstra(e,t,n){var a;r.plainObject(e)&&!r.elementOrCollection(e)&&(e=(a=e).root,t=a.weight,n=a.directed);var o=this._private.cy;t=r.fn(t)?t:function(){return 1};for(var s=r.string(e)?this.filter(e)[0]:e[0],l={},u={},c={},d=this.edges().filter(function(e){return!e.isLoop()}),h=this.nodes(),p=function p(e){return l[e.id()]},f=new i(function(e,t){return p(e)-p(t)}),v=0;v<h.length;v++){var g=h[v];l[g.id()]=g.same(s)?0:1/0,f.push(g)}for(;f.size()>0;){var y=f.pop(),m=p(y),b=y.id();if(c[b]=m,m!==1/0){var x=y.neighborhood().intersect(h);for(v=0;v<x.length;v++){var w=x[v],E=w.id(),P=function(e,r){for(var i,a=(n?e.edgesTo(r):e.edgesWith(r)).intersect(d),o=1/0,s=0;s<a.length;s++){var l=a[s],u=t(l);(u<o||!i)&&(o=u,i=l)}return{edge:i,dist:o}}(y,w),C=m+P.dist;C<p(w)&&(function(e,t){l[e.id()]=t,f.updateItem(e)}(w,C),u[E]={node:y,edge:P.edge})}}}return{distanceTo:function distanceTo(e){var t=r.string(e)?h.filter(e)[0]:e[0];return c[t.id()]},pathTo:function pathTo(e){var t=r.string(e)?h.filter(e)[0]:e[0],n=[],i=t;if(t.length>0)for(n.unshift(t);u[i.id()];){var a=u[i.id()];n.unshift(a.edge),n.unshift(a.node),i=a.node}return o.collection(n)}}}};e.exports=a},function(e,t,n){e.exports=n(33)},function(e,t,n){var r,i,a;(function(){var n,o,s,l,u,c,d,h,p,f,v,g,y,m,b;s=Math.floor,f=Math.min,o=function o(e,t){return e<t?-1:e>t?1:0},p=function p(e,t,n,r,i){var a;if(null==n&&(n=0),null==i&&(i=o),n<0)throw new Error("lo must be non-negative");for(null==r&&(r=e.length);n<r;)i(t,e[a=s((n+r)/2)])<0?r=a:n=a+1;return[].splice.apply(e,[n,n-n].concat(t)),t},c=function c(e,t,n){return null==n&&(n=o),e.push(t),m(e,0,e.length-1,n)},u=function u(e,t){var n,r;return null==t&&(t=o),n=e.pop(),e.length?(r=e[0],e[0]=n,b(e,0,t)):r=n,r},h=function h(e,t,n){var r;return null==n&&(n=o),r=e[0],e[0]=t,b(e,0,n),r},d=function d(e,t,n){var r;return null==n&&(n=o),e.length&&n(e[0],t)<0&&(t=(r=[e[0],t])[0],e[0]=r[1],b(e,0,n)),t},l=function l(e,t){var n,r,i,a,l,u;for(null==t&&(t=o),l=[],r=0,i=(a=function(){u=[];for(var t=0,n=s(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)u.push(t);return u}.apply(this).reverse()).length;r<i;r++)n=a[r],l.push(b(e,n,t));return l},y=function y(e,t,n){var r;if(null==n&&(n=o),-1!==(r=e.indexOf(t)))return m(e,0,r,n),b(e,r,n)},v=function v(e,t,n){var r,i,a,s,u;if(null==n&&(n=o),!(i=e.slice(0,t)).length)return i;for(l(i,n),a=0,s=(u=e.slice(t)).length;a<s;a++)r=u[a],d(i,r,n);return i.sort(n).reverse()},g=function g(e,t,n){var r,i,a,s,c,d,h,v,g;if(null==n&&(n=o),10*t<=e.length){if(!(a=e.slice(0,t).sort(n)).length)return a;for(i=a[a.length-1],s=0,d=(h=e.slice(t)).length;s<d;s++)n(r=h[s],i)<0&&(p(a,r,0,null,n),a.pop(),i=a[a.length-1]);return a}for(l(e,n),g=[],c=0,v=f(t,e.length);0<=v?c<v:c>v;0<=v?++c:--c)g.push(u(e,n));return g},m=function m(e,t,n,r){var i,a,s;for(null==r&&(r=o),i=e[n];n>t&&r(i,a=e[s=n-1>>1])<0;)e[n]=a,n=s;return e[n]=i},b=function b(e,t,n){var r,i,a,s,l;for(null==n&&(n=o),i=e.length,l=t,a=e[t],r=2*t+1;r<i;)(s=r+1)<i&&!(n(e[r],e[s])<0)&&(r=s),e[t]=e[r],r=2*(t=r)+1;return e[t]=a,m(e,l,t,n)},n=function(){function e(e){this.cmp=null!=e?e:o,this.nodes=[]}return e.push=c,e.pop=u,e.replace=h,e.pushpop=d,e.heapify=l,e.updateItem=y,e.nlargest=v,e.nsmallest=g,e.prototype.push=function(e){return c(this.nodes,e,this.cmp)},e.prototype.pop=function(){return u(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return h(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return d(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return l(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return y(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),function(n,o){i=[],void 0!==(a="function"==typeof(r=o)?r.apply(t,i):r)&&(e.exports=a)}(0,function(){return n})}).call(this)},function(e,t,n){var r=n(0),i={kruskal:function kruskal(e){function t(e){for(var t=0;t<a.length;t++){var n=a[t];if(n.anySame(e))return{eles:n,index:t}}}var n=this.cy();e=r.fn(e)?e:function(){return 1};for(var i=n.collection(n,[]),a=[],o=this.nodes(),s=0;s<o.length;s++)a.push(o[s].collection());var u=this.edges().toArray().sort(function(t,n){return e(t)-e(n)});for(s=0;s<u.length;s++){var c=u[s],d=c.source()[0],h=c.target()[0],p=t(d),f=t(h);p.index!==f.index&&(i=i.add(c),a[p.index]=p.eles.add(f.eles),a.splice(f.index,1))}return o.add(i)}};e.exports=i},function(e,t,n){var r=n(0),i={aStar:function aStar(e){e=e||{};var n=this._private.cy;if(null!=e&&null!=e.root){var i=r.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.goal){var a=r.string(e.goal)?this.filter(e.goal)[0]:e.goal[0];if(null!=e.heuristic&&r.fn(e.heuristic))var o=e.heuristic;else o=function o(){return 0};if(null!=e.weight&&r.fn(e.weight))var s=e.weight;else s=function s(e){return 1};if(null!=e.directed)var l=e.directed;else l=!1;var u=i.id(),c=a.id(),d=[],h=[u],p={},f={},v={},g={};v[u]=0,g[u]=o(i);for(var y=0;h.length>0;){var m=function(e,t){if(0!==e.length){for(var n=0,r=t[e[0]],i=1;i<e.length;i++){var a=t[e[i]];a<r&&(r=a,n=i)}return n}}(h,g),b=n.getElementById(h[m]),x=b.id();if(y++,x==c){var w=function e(t,r,i,a){if(t==r)return a.unshift(n.getElementById(r)),a;if(r in i){var o=i[r],s=f[r];return a.unshift(n.getElementById(s)),a.unshift(n.getElementById(r)),e(t,o,i,a)}}(u,c,p,[]);return{found:!0,distance:v[x],path:this.spawn(w),steps:y}}d.push(x),h.splice(m,1);for(var E=b._private.edges,P=0;P<E.length;P++){var C=E[P];if(this.hasElementWithId(C.id())&&(!l||C.data("source")===x)){var S=C.source(),T=C.target(),D=S.id()!==x?S:T,k=D.id();if(this.hasElementWithId(k)&&-1==d.indexOf(k)){var _=v[x]+s(C);-1!=h.indexOf(k)?_<v[k]&&(v[k]=_,g[k]=_+o(D),p[k]=x):(v[k]=_,g[k]=_+o(D),h.push(k),p[k]=x,f[k]=C.id())}}}}return{found:!1,distance:void 0,path:void 0,steps:y}}}}};e.exports=i},function(e,t,n){var r=n(0),i={floydWarshall:function floydWarshall(e){e=e||{};var t=this.cy();if(null!=e.weight&&r.fn(e.weight))var n=e.weight;else n=function n(e){return 1};if(null!=e.directed)var i=e.directed;else i=!1;for(var a=this.edges().stdFilter(function(e){return!e.isLoop()}),o=this.nodes(),s=o.length,l={},u=0;u<s;u++)l[o[u].id()]=u;var c=[];for(u=0;u<s;u++){for(var d=new Array(s),h=0;h<s;h++)d[h]=u==h?0:1/0;c.push(d)}var p=[],f=[],v=function v(e){for(var t=0;t<s;t++){for(var n=new Array(s),r=0;r<s;r++)n[r]=void 0;e.push(n)}};v(p),v(f);for(u=0;u<a.length;u++){var g=l[a[u].source().id()],y=l[a[u].target().id()],m=n(a[u]);c[g][y]>m&&(c[g][y]=m,p[g][y]=y,f[g][y]=a[u])}if(!i)for(u=0;u<a.length;u++){g=l[a[u].target().id()],y=l[a[u].source().id()],m=n(a[u]);c[g][y]>m&&(c[g][y]=m,p[g][y]=y,f[g][y]=a[u])}for(var b=0;b<s;b++)for(u=0;u<s;u++)for(h=0;h<s;h++)c[u][b]+c[b][h]<c[u][h]&&(c[u][h]=c[u][b]+c[b][h],p[u][h]=p[u][b]);var x=[];for(u=0;u<s;u++)x.push(o[u].id());return{distance:function distance(e,n){if(r.string(e))var i=t.filter(e)[0].id();else i=e.id();if(r.string(n))var a=t.filter(n)[0].id();else a=n.id();return c[l[i]][l[a]]},path:function path(e,n){if(r.string(e))var i=t.filter(e)[0].id();else i=e.id();if(r.string(n))var a=t.filter(n)[0].id();else a=n.id();var o=function(e,n,r,i,a){if(e===n)return t.getElementById(i[e]);if(void 0!==r[e][n]){for(var o=[t.getElementById(i[e])],s=e;e!==n;){s=e,e=r[e][n];var l=a[s][e];o.push(l),o.push(t.getElementById(i[e]))}return o}}(l[i],l[a],p,x,f);return t.collection(o)}}}};e.exports=i},function(e,t,n){var r=n(0),i=n(1),a={bellmanFord:function bellmanFord(e){var t=this;if(null!=(e=e||{}).weight&&r.fn(e.weight))var n=e.weight;else n=function n(e){return 1};if(null!=e.directed)var a=e.directed;else a=!1;if(null!=e.root){if(r.string(e.root))var o=this.filter(e.root)[0];else o=e.root[0];for(var s=this._private.cy,l=this.edges().stdFilter(function(e){return!e.isLoop()}),u=this.nodes(),c=u.length,d={},h=0;h<c;h++)d[u[h].id()]=h;var p=[],f=[],v=[];for(h=0;h<c;h++)u[h].id()===o.id()?p[h]=0:p[h]=1/0,f[h]=void 0;var g=!1;for(h=1;h<c;h++){g=!1;for(var y=0;y<l.length;y++){var w,m=d[l[y].source().id()],b=d[l[y].target().id()],x=n(l[y]);if((w=p[m]+x)<p[b]&&(p[b]=w,f[b]=m,v[b]=l[y],g=!0),!a)(w=p[b]+x)<p[m]&&(p[m]=w,f[m]=b,v[m]=l[y],g=!0)}if(!g)break}if(g)for(y=0;y<l.length;y++){m=d[l[y].source().id()],b=d[l[y].target().id()],x=n(l[y]);if(p[m]+x<p[b])return i.error("Graph contains a negative weight cycle for Bellman-Ford"),{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0}}var E=[];for(h=0;h<c;h++)E.push(u[h].id());return{distanceTo:function distanceTo(e){if(r.string(e))var t=s.filter(e)[0].id();else t=e.id();return p[d[t]]},pathTo:function pathTo(e){if(r.string(e))var n=s.filter(e)[0].id();else n=e.id();var a=function(e,t,n,r,i,a){for(;;){if(i.push(s.getElementById(r[n])),i.push(a[n]),t===n)return i;var o=e[n];if(void 0===o)return;n=o}}(f,d[o.id()],d[n],E,[],v);return null!=a&&a.reverse(),t.spawn(a)},hasNegativeWeightCycle:!1}}}};e.exports=a},function(e,t,n){var r=n(1),i={kargerStein:function kargerStein(e){var t=this;e=e||{};var i=function e(t,r,i,a){return i<=a?r:e(t,function n(e,t,_n){for(var r=_n[e],i=r[1],a=r[2],o=t[i],s=t[a],l=_n.filter(function(e){return!(t[e[1]]===o&&t[e[2]]===s||t[e[1]]===s&&t[e[2]]===o)}),u=0;u<l.length;u++){var c=l[u];c[1]===s?(l[u]=c.slice(0),l[u][1]=o):c[2]===s&&(l[u]=c.slice(0),l[u][2]=o)}for(u=0;u<t.length;u++)t[u]===s&&(t[u]=o);return l}(Math.floor(Math.random()*r.length),t,r),i-1,a)},a=this._private.cy,o=this.edges().stdFilter(function(e){return!e.isLoop()}),s=this.nodes(),l=s.length,u=o.length,c=Math.ceil(Math.pow(Math.log(l)/Math.LN2,2)),d=Math.floor(l/Math.sqrt(2));if(!(l<2)){for(var h={},p=0;p<l;p++)h[s[p].id()]=p;var f=[];for(p=0;p<u;p++){var v=o[p];f.push([p,h[v.source().id()],h[v.target().id()]])}var g,y=1/0,m=[];for(p=0;p<l;p++)m.push(p);for(var b=0;b<=c;b++){var x=m.slice(0),w=i(x,f,l,d),E=x.slice(0),P=i(x,w,d,2),C=i(E,w,d,2);P.length<=C.length&&P.length<y?(y=P.length,g=[P,x]):C.length<=P.length&&C.length<y&&(y=C.length,g=[C,E])}var S=g[0].map(function(e){return o[e[0]]}),T=[],D=[],k=g[1][0];for(p=0;p<g[1].length;p++)g[1][p]===k?T.push(s[p]):D.push(s[p]);return{cut:t.spawn(a,S),partition1:t.spawn(T),partition2:t.spawn(D)}}r.error("At least 2 nodes are required for Karger-Stein algorithm")}};e.exports=i},function(e,t,n){var r=n(0),i={pageRank:function pageRank(e){if(null!=(e=e||{})&&null!=e.dampingFactor)var t=e.dampingFactor;else t=.8;if(null!=e&&null!=e.precision)var n=e.precision;else n=1e-6;if(null!=e&&null!=e.iterations)var i=e.iterations;else i=200;if(null!=e&&null!=e.weight&&r.fn(e.weight))var a=e.weight;else a=function a(e){return 1};for(var o=this._private.cy,s=this.edges().stdFilter(function(e){return!e.isLoop()}),l=this.nodes(),u=l.length,c=s.length,d={},h=0;h<u;h++)d[l[h].id()]=h;var p=[],f=[],v=(1-t)/u;for(h=0;h<u;h++){for(var g=[],y=0;y<u;y++)g.push(0);p.push(g),f.push(0)}for(h=0;h<c;h++){var m=s[h],b=d[m.source().id()],x=d[m.target().id()],w=a(m);p[x][b]+=w,f[b]+=w}var E=1/u+v;for(y=0;y<u;y++)if(0===f[y])for(h=0;h<u;h++)p[h][y]=E;else for(h=0;h<u;h++)p[h][y]=p[h][y]/f[y]+v;var P,C=[],S=[];for(h=0;h<u;h++)C.push(1),S.push(0);for(var T=0;T<i;T++){var D=S.slice(0);for(h=0;h<u;h++)for(y=0;y<u;y++)D[h]+=p[h][y]*C[y];!function(e){for(var t=e.length,n=0,r=0;r<t;r++)n+=e[r];for(r=0;r<t;r++)e[r]=e[r]/n}(D),P=C,C=D;var k=0;for(h=0;h<u;h++)k+=Math.pow(P[h]-C[h],2);if(k<n)break}return{rank:function rank(e){if(r.string(e))var t=o.filter(e)[0].id();else t=e.id();return C[d[t]]}}}};e.exports=i},function(e,t,n){var r=n(0),i=n(1),a={degreeCentralityNormalized:function degreeCentralityNormalized(e){e=e||{};var t=this.cy();if(null!=e.directed)var n=e.directed;else n=!1;var a=this.nodes(),o=a.length;if(n){for(var s={},l={},u=0,c=0,d=0;d<o;d++){var h=a[d],p=this.degreeCentrality(i.extend({},e,{root:h}));u<p.indegree&&(u=p.indegree),c<p.outdegree&&(c=p.outdegree),s[h.id()]=p.indegree,l[h.id()]=p.outdegree}return{indegree:function indegree(e){if(0==u)return 0;if(r.string(e))e=t.filter(e)[0].id();else e=e.id();return s[e]/u},outdegree:function outdegree(e){if(0==c)return 0;if(r.string(e))e=t.filter(e)[0].id();else e=e.id();return l[e]/c}}}var f={},v=0;for(d=0;d<o;d++){h=a[d],p=this.degreeCentrality(i.extend({},e,{root:h}));v<p.degree&&(v=p.degree),f[h.id()]=p.degree}return{degree:function degree(e){if(0==v)return 0;if(r.string(e))e=t.filter(e)[0].id();else e=e.id();return f[e]/v}}},degreeCentrality:function degreeCentrality(e){var t=this;if(null!=(e=e||{})&&null!=e.root){var n=r.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.weight&&r.fn(e.weight))var i=e.weight;else i=function i(e){return 1};if(null!=e.directed)var a=e.directed;else a=!1;if(null!=e.alpha&&r.number(e.alpha))var o=e.alpha;else o=0;if(a){for(var s=n.connectedEdges('edge[target = "'+n.id()+'"]').intersection(t),l=n.connectedEdges('edge[source = "'+n.id()+'"]').intersection(t),u=s.length,c=l.length,d=0,h=0,p=0;p<s.length;p++){d+=i(s[p])}for(p=0;p<l.length;p++){h+=i(l[p])}return{indegree:Math.pow(u,1-o)*Math.pow(d,o),outdegree:Math.pow(c,1-o)*Math.pow(h,o)}}var v=n.connectedEdges().intersection(t),g=v.length,y=0;for(p=0;p<v.length;p++){y+=i(v[p])}return{degree:Math.pow(g,1-o)*Math.pow(y,o)}}}};a.dc=a.degreeCentrality,a.dcn=a.degreeCentralityNormalised=a.degreeCentralityNormalized,e.exports=a},function(e,t,n){var r=n(0),i={closenessCentralityNormalized:function closenessCentralityNormalized(e){e=e||{};var t=this.cy(),n=e.harmonic;void 0===n&&(n=!0);for(var i={},a=0,o=this.nodes(),s=this.floydWarshall({weight:e.weight,directed:e.directed}),l=0;l<o.length;l++){for(var u=0,c=0;c<o.length;c++)if(l!=c){var d=s.distance(o[l],o[c]);u+=n?1/d:d}n||(u=1/u),a<u&&(a=u),i[o[l].id()]=u}return{closeness:function closeness(e){if(0==a)return 0;if(r.string(e))e=t.filter(e)[0].id();else e=e.id();return i[e]/a}}},closenessCentrality:function closenessCentrality(e){if(null!=(e=e||{}).root){if(r.string(e.root))var t=this.filter(e.root)[0];else t=e.root[0];if(null!=e.weight&&r.fn(e.weight))var n=e.weight;else n=function n(){return 1};if(null!=e.directed&&r.bool(e.directed))var i=e.directed;else i=!1;var a=e.harmonic;void 0===a&&(a=!0);for(var o=this.dijkstra({root:t,weight:n,directed:i}),s=0,l=this.nodes(),u=0;u<l.length;u++)if(l[u].id()!=t.id()){var c=o.distanceTo(l[u]);s+=a?1/c:c}return a?s:1/s}}};i.cc=i.closenessCentrality,i.ccn=i.closenessCentralityNormalised=i.closenessCentralityNormalized,e.exports=i},function(e,t,n){var r=n(0),i=n(9),a={betweennessCentrality:function betweennessCentrality(e){var t,n;e=e||{},r.fn(e.weight)?(n=e.weight,t=!0):t=!1;for(var a=null!=e.directed&&e.directed,o=this._private.cy,s=this.nodes(),l={},u={},c=0,d={set:function set(e,t){u[e]=t,t>c&&(c=t)},get:function get(e){return u[e]}},h=0;h<s.length;h++){l[f=(p=s[h]).id()]=a?p.outgoers().nodes():p.openNeighborhood().nodes(),d.set(f,0)}for(var v=0;v<s.length;v++){var g=s[v].id(),y=[],m={},b={},x={},w=new i(function(e,t){return x[e]-x[t]});for(h=0;h<s.length;h++){var f;m[f=s[h].id()]=[],b[f]=0,x[f]=1/0}for(b[g]=1,x[g]=0,w.push(g);!w.empty();){var p=w.pop();if(y.push(p),t)for(var E=0;E<l[p].length;E++){var C=l[p][E],S=o.getElementById(p),T=n(S.edgesTo(C).length>0?S.edgesTo(C)[0]:C.edgesTo(S)[0]);C=C.id(),x[C]>x[p]+T&&(x[C]=x[p]+T,w.nodes.indexOf(C)<0?w.push(C):w.updateItem(C),b[C]=0,m[C]=[]),x[C]==x[p]+T&&(b[C]=b[C]+b[p],m[C].push(p))}else for(E=0;E<l[p].length;E++){C=l[p][E].id();x[C]==1/0&&(w.push(C),x[C]=x[p]+1),x[C]==x[p]+1&&(b[C]=b[C]+b[p],m[C].push(p))}}var D={};for(h=0;h<s.length;h++)D[s[h].id()]=0;for(;y.length>0;)for(C=y.pop(),E=0;E<m[C].length;E++){D[p=m[C][E]]=D[p]+b[p]/b[C]*(1+D[C]),C!=s[v].id()&&d.set(C,d.get(C)+D[C])}}var k={betweenness:function betweenness(e){if(r.string(e))e=o.filter(e).id();else e=e.id();return d.get(e)},betweennessNormalized:function betweennessNormalized(e){if(0==c)return 0;if(r.string(e))e=o.filter(e).id();else e=e.id();return d.get(e)/c}};return k.betweennessNormalised=k.betweennessNormalized,k}};a.bc=a.betweennessCentrality,e.exports=a},function(e,t,n){var r=n(4),i={animate:r.animate(),animation:r.animation(),animated:r.animated(),clearQueue:r.clearQueue(),delay:r.delay(),delayAnimation:r.delayAnimation(),stop:r.stop()};e.exports=i},function(e,t,n){var r=n(1),i=n(45),a=n(2),o=n(0),s={animated:function animated(){return function(){var e=this,n=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return!1;var r=n[0];return r?r._private.animation.current.length>0:void 0}},clearQueue:function clearQueue(){return function(){var e=this,n=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return this;for(var r=0;r<n.length;r++)n[r]._private.animation.queue=[];return this}},delay:function delay(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function delayAnimation(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function animation(){return function(e,t){var n=this,s=void 0!==n.length,l=s?n:[n],u=this._private.cy||this,c=!s,d=!c;if(!u.styleEnabled())return this;var h=u.style();if(e=r.assign({},e,t),0===Object.keys(e).length)return new i(l[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(d&&(e.style=h.getPropsList(e.style||e.css),e.css=void 0),d&&null!=e.renderedPosition){var p=e.renderedPosition,f=u.pan(),v=u.zoom();e.position=a.renderedToModelPosition(p,v,f)}if(c&&null!=e.panBy){var g=e.panBy,y=u.pan();e.pan={x:y.x+g.x,y:y.y+g.y}}var m=e.center||e.centre;if(c&&null!=m){var b=u.getCenterPan(m.eles,e.zoom);null!=b&&(e.pan=b)}if(c&&null!=e.fit){var x=e.fit,w=u.getFitViewport(x.eles||x.boundingBox,x.padding);null!=w&&(e.pan=w.pan,e.zoom=w.zoom)}if(c&&o.plainObject(e.zoom)){var E=u.getZoomedViewport(e.zoom);null!=E&&(E.zoomed&&(e.zoom=E.zoom),E.panned&&(e.pan=E.pan))}return new i(l[0],e)}},animate:function animate(){return function(e,t){var n=this,a=void 0!==n.length?n:[n];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=r.extend({},e,t));for(var o=0;o<a.length;o++){var s=a[o],l=s.animated()&&(void 0===e.queue||e.queue);s.animation(e,l?{queue:!0}:void 0).play()}return this}},stop:function stop(){return function(e,t){var n=this,i=void 0!==n.length?n:[n],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var o=0;o<i.length;o++){for(var l=i[o]._private,u=l.animation.current,c=0;c<u.length;c++){var h=u[c]._private;t&&(h.duration=0)}e&&(l.animation.queue=[]),t||(l.animation.current=[])}return a.notify({eles:this,type:"draw"}),this}}};e.exports=s},function(e,t,n){var r=n(1),i=n(0),a=n(5),o=function o(e,t,n){var a=this._private=r.extend({duration:1e3},t,n);a.target=e,a.style=a.style||a.css,a.started=!1,a.playing=!1,a.hooked=!1,a.applying=!1,a.progress=0,a.completes=[],a.frames=[],a.complete&&i.fn(a.complete)&&a.completes.push(a.complete),this.length=1,this[0]=this},s=o.prototype;r.extend(s,{instanceString:function instanceString(){return"animation"},hook:function hook(){var e=this._private;if(!e.hooked){var n=e.target._private.animation;(e.queue?n.queue:n.current).push(this),i.elementOrCollection(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function play(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function playing(){return this._private.playing},apply:function apply(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function applying(){return this._private.applying},pause:function pause(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function stop(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function rewind(){return this.progress(0)},fastforward:function fastforward(){return this.progress(1)},time:function time(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function progress(e){var t=this._private,n=t.playing;return void 0===e?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function completed(){return 1===this._private.progress},reverse:function reverse(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function n(t,_n2){var r=e[t];null!=r&&(e[t]=e[_n2],e[_n2]=r)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var r=0;r<e.style.length;r++){var i=e.style[r],a=i.name,o=e.startStyle[a];e.startStyle[a]=i,e.style[r]=o}return t&&this.play(),this},promise:function promise(e){var t=this._private,n=void 0;switch(e){case"frame":n=t.frames;break;default:case"complete":case"completed":n=t.completes}return new a(function(e,t){n.push(function(){e()})})}}),s.complete=s.completed,e.exports=o},function(e,t,n){var i=n(1),a=n(0),o={data:function data(e){return e=i.extend({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function beforeGet(e){},beforeSet:function beforeSet(e,t){},onSet:function onSet(e){},canSet:function canSet(e){return!0}},e),function(t,n){var i=e,o=this,s=void 0!==o.length,l=s?o:[o],u=s?o[0]:o;if(a.string(t)){if(i.allowGetting&&void 0===n){var c=void 0;return u&&(i.beforeGet(u),c=u._private[i.field][t]),c}if(i.allowSetting&&void 0!==n&&!i.immutableKeys[t]){var d=function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n);i.beforeSet(o,d);for(var h=0,p=l.length;h<p;h++){var f=l[h];i.canSet(f)&&(f._private[i.field][t]=n)}i.updateStyle&&o.updateStyle(),i.onSet(o),i.settingTriggersEvent&&o[i.triggerFnName](i.settingEvent)}}else if(i.allowSetting&&a.plainObject(t)){var v=t,g=void 0,y=void 0,m=Object.keys(v);i.beforeSet(o,v);for(var b=0;b<m.length;b++){if(y=v[g=m[b]],!i.immutableKeys[g])for(var w=0;w<l.length;w++){var E=l[w];i.canSet(E)&&(E._private[i.field][g]=y)}}i.updateStyle&&o.updateStyle(),i.onSet(o),i.settingTriggersEvent&&o[i.triggerFnName](i.settingEvent)}else if(i.allowBinding&&a.fn(t)){var P=t;o.on(i.bindingEvent,P)}else if(i.allowGetting&&void 0===t){var C=void 0;return u&&(i.beforeGet(u),C=u._private[i.field]),C}return o}},removeData:function removeData(e){return e=i.extend({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),function(t){var n=e,r=this,o=void 0!==r.length?r:[r];if(a.string(t)){for(var s=t.split(/\s+/),l=s.length,u=0;u<l;u++){var c=s[u];if(!a.emptyString(c)&&!n.immutableKeys[c])for(var d=0,h=o.length;d<h;d++)o[d]._private[n.field][c]=void 0}n.triggerEvent&&r[n.triggerFnName](n.event)}else if(void 0===t){for(var p=0,f=o.length;p<f;p++)for(var v=o[p]._private[n.field],g=Object.keys(v),y=0;y<g.length;y++){var m=g[y];!n.immutableKeys[m]&&(v[m]=void 0)}n.triggerEvent&&r[n.triggerFnName](n.event)}return r}}};e.exports=o},function(e,t,n){var r=n(5),i={eventAliasesOn:function eventAliasesOn(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(e,t){var n=this,i=Array.prototype.slice.call(arguments,0);return new r(function(e,t){var a=i.concat([function r(t){n.off.apply(n,o),e(t)}]),o=a.concat([]);n.on.apply(n,a)})}}};e.exports=i},function(e,t,n){var r=n(8),i={classes:function classes(e){e=(e||"").match(/\S+/g)||[];for(var t=this,n=[],i=new r(e),a=0;a<t.length;a++)!function(e){var a=t[e],o=a._private,s=o.classes,l=!1;i.forEach(function(e){s.has(e)||(l=!0)}),l||s.forEach(function(e){i.has(e)||(l=!0)}),l&&(o.classes=new r(i),n.push(a))}(a);return n.length>0&&this.spawn(n).updateStyle().emit("class"),t},addClass:function addClass(e){return this.toggleClass(e,!0)},hasClass:function hasClass(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function toggleClass(e,t){for(var n=e.match(/\S+/g)||[],r=this,i=[],a=0,o=r.length;a<o;a++)for(var s=r[a],l=!1,u=0;u<n.length;u++){var c=n[u],d=s._private.classes,h=d.has(c);t||void 0===t&&!h?(d.add(c),h||l||(i.push(s),l=!0)):(d.delete(c),h&&!l&&(i.push(s),l=!0))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},removeClass:function removeClass(e){return this.toggleClass(e,!1)},flashClass:function flashClass(e,t){var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n}};e.exports=i},function(e,t,n){var r=(n(0),n(6)),i={allAre:function allAre(e){var t=new r(e);return this.every(function(e){return t.matches(e)})},is:function is(e){var t=new r(e);return this.some(function(e){return t.matches(e)})},some:function some(e,t){for(var n=0;n<this.length;n++)if(t?e.apply(t,[this[n],n,this]):e(this[n],n,this))return!0;return!1},every:function every(e,t){for(var n=0;n<this.length;n++)if(!(t?e.apply(t,[this[n],n,this]):e(this[n],n,this)))return!1;return!0},same:function same(e){return e=this.cy().collection(e),this.length===e.length&&this.every(function(t){return e.hasElementWithId(t.id())})},anySame:function anySame(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function allAreNeighbors(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(e){return t.hasElementWithId(e.id())})},contains:function contains(e){e=this.cy().collection(e);var t=this;return e.every(function(e){return t.hasElementWithId(e.id())})}};i.allAreNeighbours=i.allAreNeighbors,i.has=i.contains,e.exports=i},function(e,t,n){var r=n(1),i=n(51),a=n(10),o=function o(e){for(var t=void 0,n=void 0,r=void 0,a=0;a<i.length;a++){var o=i[a],s=o.name,l=e.match(o.regexObj);if(null!=l){n=l,t=o,r=s;var u=l[0];e=e.substring(u.length);break}}return{expr:t,match:n,name:r,remaining:e}};e.exports={parse:function l(e){var t=this,n=t._private.selectorText=e,i=t[0]=a();for(t.length=1,n=function s(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e}(n);;){var l=o(n);if(null==l.expr)return r.error("The selector `"+e+"`is invalid"),!1;var u=l.match.slice(1),c=l.expr.populate(t,i,u);if(!1===c)return!1;if(null!=c&&(i=c),(n=l.remaining).match(/^\s*$/))break}for(var d=0;d<t.length;d++){var h=t[d];if(null!=h.subject){for(;h.subject!==h;)if(null!=h.parent){var p=h.parent,f=h;f.parent=null,p.child=f,h=p}else{if(null==h.ancestor)return h.source||h.target||h.connectedNodes?(r.error("The selector `"+t.text()+"` can not contain a subject selector that applies to the source or target of an edge selector"),!1):(r.error("When adjusting references for the selector `"+t.text()+"`, neither parent nor ancestor was found"),!1);var v=h.ancestor,g=h;g.ancestor=null,v.descendant=g,h=v}t[d]=h.subject}}return!0}}},function(e,t,n){var r=function(){return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(15).stateSelectorRegex,o=n(52),s=n(1),l=n(10),u=function u(e){return e.replace(new RegExp("\\\\("+o.metaChar+")","g"),function(e,t){return t})},c=function c(e,t,n){t===e[e.length-1]&&(e[e.length-1]=n)},d=[{name:"group",query:!0,regex:"("+o.group+")",populate:function populate(e,t,n){var a=r(n,1)[0];t.group="*"===a?a:a+"s"}},{name:"state",query:!0,regex:a,populate:function populate(e,t,n){var a=r(n,1)[0];t.colonSelectors.push(a)}},{name:"id",query:!0,regex:"\\#("+o.id+")",populate:function populate(e,t,n){var a=r(n,1)[0];t.ids.push(u(a))}},{name:"className",query:!0,regex:"\\.("+o.className+")",populate:function populate(e,t,n){var a=r(n,1)[0];t.classes.push(u(a))}},{name:"dataExists",query:!0,regex:"\\[\\s*("+o.variable+")\\s*\\]",populate:function populate(e,t,n){var a=r(n,1)[0];t.data.push({field:u(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+o.variable+")\\s*("+o.comparatorOp+")\\s*("+o.value+")\\s*\\]",populate:function populate(e,t,n){var i=r(n,3),a=i[0],s=i[1],l=i[2];l=null!=new RegExp("^"+o.string+"$").exec(l)?l.substring(1,l.length-1):parseFloat(l),t.data.push({field:u(a),operator:s,value:l})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+o.boolOp+")\\s*("+o.variable+")\\s*\\]",populate:function populate(e,t,n){var i=r(n,2),a=i[0],o=i[1];t.data.push({field:u(o),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+o.meta+")\\s*("+o.comparatorOp+")\\s*("+o.number+")\\s*\\]\\]",populate:function populate(e,t,n){var i=r(n,3),a=i[0],o=i[1],s=i[2];t.meta.push({field:u(a),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:o.separator,populate:function populate(e){var t=e[e.length++]=l();return e.currentSubject=null,t}},{name:"directedEdge",separator:!0,regex:o.directedEdge,populate:function populate(e,t){var n=l(),r=t,i=l();return n.group="edges",n.target=i,n.source=r,n.subject=e.currentSubject,c(e,t,n),i}},{name:"undirectedEdge",separator:!0,regex:o.undirectedEdge,populate:function populate(e,t){var n=l(),r=t,i=l();return n.group="edges",n.connectedNodes=[r,i],n.subject=e.currentSubject,c(e,t,n),i}},{name:"child",separator:!0,regex:o.child,populate:function populate(e,t){var n=l();return n.parent=t,n.subject=e.currentSubject,c(e,t,n),n}},{name:"descendant",separator:!0,regex:o.descendant,populate:function populate(e,t){var n=l();return n.ancestor=t,n.subject=e.currentSubject,c(e,t,n),n}},{name:"subject",modifier:!0,regex:o.subject,populate:function populate(e,t){if(null!=e.currentSubject&&t.subject!=t)return s.error("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t,t.subject=t,e[e.length-1].subject=t}}];d.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)}),e.exports=d},function(e,t,n){var i={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])*"|'+"'(?:\\\\'|[^'])*'",number:n(1).regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};i.variable="(?:[\\w-]|(?:\\\\"+i.metaChar+"))+",i.value=i.string+"|"+i.number,i.className=i.variable,i.id=i.variable,function(){var e=void 0,t=void 0,n=void 0;for(e=i.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],i.comparatorOp+="|@"+t;for(e=i.comparatorOp.split("|"),n=0;n<e.length;n++)(t=e[n]).indexOf("!")>=0||"="!==t&&(i.comparatorOp+="|\\!"+t)}(),e.exports=i},function(e,t,n){var i=n(15).stateSelectorMatches,a=n(0),o=function o(e,t){for(var n=!0,r=0;r<e[t.name].length;r++){var i=e[t.name][r],o=i.operator,s=i.value,l=i.field,u=void 0,c=t.fieldValue(l);if(null!=o&&null!=s){var d=a.string(c)||a.number(c)?""+c:"",h=""+s,p=!1;o.indexOf("@")>=0&&(d=d.toLowerCase(),h=h.toLowerCase(),o=o.replace("@",""),p=!0);var f=!1;o.indexOf("!")>=0&&(o=o.replace("!",""),f=!0),p&&(s=h.toLowerCase(),c=d.toLowerCase());var v=!1;switch(o){case"*=":u=d.indexOf(h)>=0;break;case"$=":u=d.indexOf(h,d.length-h.length)>=0;break;case"^=":u=0===d.indexOf(h);break;case"=":u=c===s;break;case">":v=!0,u=c>s;break;case">=":v=!0,u=c>=s;break;case"<":v=!0,u=c<s;break;case"<=":v=!0,u=c<=s;break;default:u=!1}!f||null==c&&v||(u=!u)}else if(null!=o)switch(o){case"?":u=!!c;break;case"!":u=!c;break;case"^":u=void 0===c}else u=void 0!==c;if(!u){n=!1;break}}return n},s=function s(e,t,n){if(null!=e){var r=!1;if(!t)return!1;n=n();for(var i=0;i<n.length;i++)if(l(e,n[i])){r=!0;break}return r}return!0},l=function l(e,t){if(e.groupOnly)return"*"===e.group||e.group===t.group();if(null!=e.group&&"*"!=e.group&&e.group!=t.group())return!1;var n=t.cy(),r=void 0,a=!0;for(r=0;r<e.colonSelectors.length;r++){var l=e.colonSelectors[r];if(!(a=i(l,t)))break}if(!a)return!1;var u=!0;for(r=0;r<e.ids.length;r++){var c=e.ids[r],d=t.id();if(!(u=u&&c==d))break}if(!u)return!1;var h=!0;for(r=0;r<e.classes.length;r++){var p=e.classes[r];if(!(h=h&&t.hasClass(p)))break}if(!h)return!1;if(!o(e,{name:"data",fieldValue:function fieldValue(e){return t.data(e)}}))return!1;if(!o(e,{name:"meta",fieldValue:function fieldValue(e){return t[e]()}}))return!1;if(null!=e.collection&&!e.collection.hasElementWithId(t.id()))return!1;if(null!=e.filter&&t.collection().some(e.filter))return!1;var f=n.hasCompoundNodes(),v=function v(){return t.source()},g=function g(){return t.target()};if(!s(e.parent,f,function(){return t.parent()}))return!1;if(!s(e.ancestor,f,function(){return t.parents()}))return!1;if(!s(e.child,f,function(){return t.children()}))return!1;if(!s(e.descendant,f,function(){return t.descendants()}))return!1;if(!s(e.source,!0,v))return!1;if(!s(e.target,!0,g))return!1;if(e.connectedNodes){var y=e.connectedNodes[0],m=e.connectedNodes[1];if(s(y,!0,v)&&s(m,!0,g));else if(!s(y,!0,g)||!s(m,!0,v))return!1}return!0};e.exports={matches:function c(e){var t=this;if(t.invalid())return!1;for(var n=0;n<t.length;n++){var r=t[n];if(l(r,e))return!0}return!1},filter:function u(e){var t=this,n=e.cy();if(t.invalid())return n.collection();if(1===t.length&&1===t[0].length&&1===t[0].ids.length)return e.getElementById(t[0].ids[0]).collection();var r=function r(e){for(var n=0;n<t.length;n++){var r=t[n];if(l(r,e))return!0}return!1};return null==t.text()&&(r=function r(){return!0}),e.filter(r)}}},function(e,t,n){function r(e,t,n,r){for(var i=[],a=new s,l=e.cy().hasCompoundNodes(),u=0;u<e.length;u++){var c=e[u];n?i.push(c):l&&r(i,a,c)}for(;i.length>0;){var d=i.shift();t(d),a.add(d.id()),l&&r(i,a,d)}return e}function i(e,t,n){if(n.isParent())for(var r=n._private.children,i=0;i<r.length;i++){var a=r[i];t.has(a.id())||e.push(a)}}function a(e,t,n){if(n.isChild()){var r=n._private.parent;t.has(r.id())||e.push(r)}}function o(e,t,n){a(e,t,n),i(e,t,n)}var s=n(8),l={parent:function parent(e){var t=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var r=0;r<this.length;r++){var a=this[r]._private.parent;a&&t.push(a)}return this.spawn(t,{unique:!0}).filter(e)},parents:function parents(e){for(var t=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){var i=n[r];t.push(i)}n=n.parent()}return this.spawn(t,{unique:!0}).filter(e)},commonAncestors:function commonAncestors(e){for(var t=void 0,n=0;n<this.length;n++){var i=this[n].parents();t=(t=t||i).intersect(i)}return t.filter(e)},orphans:function orphans(e){return this.stdFilter(function(e){return e.isOrphan()}).filter(e)},nonorphans:function nonorphans(e){return this.stdFilter(function(e){return e.isChild()}).filter(e)},children:function children(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];t=t.concat(r._private.children)}return this.spawn(t,{unique:!0}).filter(e)},siblings:function siblings(e){return this.parent().children().not(this).filter(e)},isParent:function isParent(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function isChildless(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function isChild(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function isOrphan(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function descendants(e){var n=[];return function t(e){for(var r=0;r<e.length;r++){var i=e[r];n.push(i),i.children().nonempty()&&t(i.children())}}(this.children()),this.spawn(n,{unique:!0}).filter(e)},forEachDown:function(e){return r(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i)},forEachUp:function(e){return r(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a)},forEachUpAndDown:function(e){return r(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o)}};l.ancestors=l.parents,e.exports=l},function(e,t,n){var a,r=n(4),i=void 0;(i=a={data:r.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:r.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:r.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:r.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:r.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:r.removeData({field:"rscratch",triggerEvent:!1}),id:function id(){var e=this[0];if(e)return e._private.data.id}}).attr=i.data,i.removeAttr=i.removeData,e.exports=a},function(e,t,n){function r(e){return function(t){var n=this;if(void 0===t&&(t=!0),0!==n.length&&n.isNode()&&!n.removed()){for(var r=0,i=n[0],a=i._private.edges,o=0;o<a.length;o++){var s=a[o];!t&&s.isLoop()||(r+=e(i,s))}return r}}}function i(e,t){return function(n){for(var r=void 0,i=this.nodes(),a=0;a<i.length;a++){var s=i[a][e](n);void 0===s||void 0!==r&&!t(s,r)||(r=s)}return r}}var a=n(1),o={};a.extend(o,{degree:r(function(e,t){return t.source().same(t.target())?2:1}),indegree:r(function(e,t){return t.target().same(e)?1:0}),outdegree:r(function(e,t){return t.source().same(e)?1:0})}),a.extend(o,{minDegree:i("degree",function(e,t){return e<t}),maxDegree:i("degree",function(e,t){return e>t}),minIndegree:i("indegree",function(e,t){return e<t}),maxIndegree:i("indegree",function(e,t){return e>t}),minOutdegree:i("outdegree",function(e,t){return e<t}),maxOutdegree:i("outdegree",function(e,t){return e>t})}),a.extend(o,{totalDegree:function totalDegree(e){for(var t=0,n=this.nodes(),r=0;r<n.length;r++)t+=n[r].degree(e);return t}}),e.exports=o},function(e,t,n){var r=n(1),i=n(58),a=n(59),o=n(60),s=n(61);e.exports=r.assign({},i,a,o,s)},function(e,t,n){var s,r=n(4),i=n(0),a=n(2),o=void 0,l=function l(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.isParent()&&!r.locked()){var i=r._private.position,a={x:t.x-i.x,y:t.y-i.y};e.children().shift(a)}}};(o=s={position:r.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function beforeGet(e){e.updateCompoundBounds()},beforeSet:l,onSet:function onSet(e){e.dirtyCompoundBoundsCache()},canSet:function canSet(e){return!e.locked()}}),silentPosition:r.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!1,validKeys:["x","y"],beforeSet:l,onSet:function onSet(e){e.dirtyCompoundBoundsCache()},canSet:function canSet(e){return!e.locked()}}),positions:function positions(e,t){if(i.plainObject(e))t?this.silentPosition(e):this.position(e);else if(i.fn(e)){var n=e,r=this.cy();r.startBatch();for(var a=0;a<this.length;a++){var s,o=this[a];(s=n(o,a))&&(t?o.silentPosition(s):o.position(s))}r.endBatch()}return this},silentPositions:function silentPositions(e){return this.positions(e,!0)},shift:function shift(e,t){var n=void 0;if(i.plainObject(e)?n=e:i.string(e)&&i.number(t)&&((n={x:0,y:0})[e]=t),null!=n)for(var r=0;r<this.length;r++){var a=this[r],o=a.position();a.position({x:o.x+n.x,y:o.y+n.y})}return this},renderedPosition:function renderedPosition(e,t){var n=this[0],r=this.cy(),o=r.zoom(),s=r.pan(),l=i.plainObject(e)?e:void 0,u=void 0!==l||void 0!==t&&i.string(e);if(n&&n.isNode()){if(!u){var c=n.position();return l=a.modelToRenderedPosition(c,o,s),void 0===e?l:l[e]}for(var d=0;d<this.length;d++){var h=this[d];void 0!==t?h.position(e,(t-s[e])/o):void 0!==l&&h.position(a.renderedToModelPosition(l,o,s))}}else if(!u)return;return this},relativePosition:function relativePosition(e,t){var n=this[0],r=this.cy(),a=i.plainObject(e)?e:void 0,o=void 0!==a||void 0!==t&&i.string(e),s=r.hasCompoundNodes();if(n&&n.isNode()){if(!o){var l=n.position(),u=s?n.parent():null,c=u&&u.length>0,d=c;c&&(u=u[0]);var h=d?u.position():{x:0,y:0};return a={x:l.x-h.x,y:l.y-h.y},void 0===e?a:a[e]}for(var p=0;p<this.length;p++){var f=this[p],v=s?f.parent():null,g=v&&v.length>0,y=g;g&&(v=v[0]);var m=y?v.position():{x:0,y:0};void 0!==t?f.position(e,t+m[e]):void 0!==a&&f.position({x:a.x+m.x,y:a.y+m.y})}}else if(!o)return;return this}}).modelPosition=o.point=o.position,o.modelPositions=o.points=o.positions,o.renderedPoint=o.renderedPosition,o.relativePoint=o.relativePosition,e.exports=s},function(e,t,n){function r(e){return{includeNodes:a.default(e.includeNodes,b.includeNodes),includeEdges:a.default(e.includeEdges,b.includeEdges),includeLabels:a.default(e.includeLabels,b.includeLabels),includeOverlays:a.default(e.includeOverlays,b.includeOverlays),useCache:a.default(e.useCache,b.useCache)}}var i=n(0),a=n(1),o=n(2),s=void 0,l=void 0;s=l={},l.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),i=n.pan(),a=t.x1*r+i.x,o=t.x2*r+i.x,s=t.y1*r+i.y,l=t.y2*r+i.y;return{x1:a,x2:o,y1:s,y2:l,w:o-a,h:l-s}},l.dirtyCompoundBoundsCache=function(){var e=this.cy();return e.styleEnabled()&&e.hasCompoundNodes()?(this.forEachUp(function(e){e._private.compoundBoundsClean=!1,e.isParent()&&e.emit("bounds")}),this):this},l.updateCompoundBounds=function(){var e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(e.batching())return this;for(var t=[],n=0;n<this.length;n++){var r=this[n],i=r._private;i.compoundBoundsClean||(function(e){function n(e,t,n){var r=0,i=0,a=t+n;return e>0&&a>0&&(r=t/a*e,i=n/a*e),{biasDiff:r,biasComplementDiff:i}}if(e.isParent()){var r=e._private,i=e.children(),a="include"===e.pstyle("compound-sizing-wrt-labels").value,o={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},s=i.boundingBox({includeLabels:a,includeOverlays:!1,useCache:!1}),l=r.position;0!==s.w&&0!==s.h||((s={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue}).x1=l.x-s.w/2,s.x2=l.x+s.w/2,s.y1=l.y-s.h/2,s.y2=l.y+s.h/2);var u=o.width.left.value;"px"===o.width.left.units&&o.width.val>0&&(u=100*u/o.width.val);var c=o.width.right.value;"px"===o.width.right.units&&o.width.val>0&&(c=100*c/o.width.val);var d=o.height.top.value;"px"===o.height.top.units&&o.height.val>0&&(d=100*d/o.height.val);var h=o.height.bottom.value;"px"===o.height.bottom.units&&o.height.val>0&&(h=100*h/o.height.val);var p=n(o.width.val-s.w,u,c),f=p.biasDiff,v=p.biasComplementDiff,g=n(o.height.val-s.h,d,h),y=g.biasDiff,m=g.biasComplementDiff;r.autoPadding=function(e,t,n,r){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(r){case"width":return e>0?n.pfValue*e:0;case"height":return t>0?n.pfValue*t:0;case"average":return e>0&&t>0?n.pfValue*(e+t)/2:0;case"min":return e>0&&t>0?e>t?n.pfValue*t:n.pfValue*e:0;case"max":return e>0&&t>0?e>t?n.pfValue*e:n.pfValue*t:0;default:return 0}}(s.w,s.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),r.autoWidth=Math.max(s.w,o.width.val),l.x=(-f+s.x1+s.x2+v)/2,r.autoHeight=Math.max(s.h,o.height.val),l.y=(-y+s.y1+s.y2+m)/2,t.push(e)}}(r),e._private.batchingStyle||(i.compoundBoundsClean=!0))}return this};var u=function u(e){return e===1/0||e===-1/0?0:e},c=function c(e,t,n,r,i){r-t!=0&&i-n!=0&&null!=t&&null!=n&&null!=r&&null!=i&&(e.x1=t<e.x1?t:e.x1,e.x2=r>e.x2?r:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2)},d=function d(e,t){return c(e,t.x1,t.y1,t.x2,t.y2)},h=function h(e,t,n){return a.getPrefixedProperty(e,t,n)},p=function p(e,t,n){if(!t.cy().headless()){var i=t._private.rstyle,a=i.arrowWidth/2,s=void 0,l=void 0;"none"!==t.pstyle(n+"-arrow-shape").value&&("source"===n?(s=i.srcX,l=i.srcY):"target"===n?(s=i.tgtX,l=i.tgtY):(s=i.midX,l=i.midY),c(e,s-a,l-a,s+a,l+a))}},f=function f(e,t,n){if(!t.cy().headless()){var r;r=n?n+"-":"";var i=t._private,a=i.rstyle;if(t.pstyle(r+"label").strValue){var o=t.pstyle("text-halign"),s=t.pstyle("text-valign"),l=h(a,"labelWidth",n),u=h(a,"labelHeight",n),d=h(a,"labelX",n),p=h(a,"labelY",n),f=t.pstyle(r+"text-margin-x").pfValue,v=t.pstyle(r+"text-margin-y").pfValue,g=t.isEdge(),y=t.pstyle(r+"text-rotation"),m=t.pstyle("text-outline-width").pfValue,x=t.pstyle("text-border-width").pfValue/2,w=t.pstyle("text-background-padding").pfValue,E=u+2*w,P=l+2*w,C=P/2,S=E/2,T=void 0,D=void 0,k=void 0,_=void 0;if(g)T=d-C,D=d+C,k=p-S,_=p+S;else{switch(o.value){case"left":T=d-P,D=d;break;case"center":T=d-C,D=d+C;break;case"right":T=d,D=d+P}switch(s.value){case"top":k=p-E,_=p;break;case"center":k=p-S,_=p+S;break;case"bottom":k=p,_=p+E}}var M=g&&"autorotate"===y.strValue,I=null!=y.pfValue&&0!==y.pfValue;if(M||I){var N=M?h(i.rstyle,"labelAngle",n):y.pfValue,B=Math.cos(N),z=Math.sin(N),L=function L(e,t){return{x:(e-=d)*B-(t-=p)*z+d,y:e*z+t*B+p}},A=L(T,k),O=L(T,_),R=L(D,k),V=L(D,_);T=Math.min(A.x,O.x,R.x,V.x),D=Math.max(A.x,O.x,R.x,V.x),k=Math.min(A.y,O.y,R.y,V.y),_=Math.max(A.y,O.y,R.y,V.y)}T+=f-Math.max(m,x),D+=f+Math.max(m,x),k+=v-Math.max(m,x),_+=v+Math.max(m,x),c(e,T,k,D,_)}return e}},g=function g(e){return e?"t":"f"},y=function y(e){var t="";return t+=g(e.incudeNodes),t+=g(e.includeEdges),(t+=g(e.includeLabels))+g(e.includeOverlays)},m=function m(e,t){var n=e._private,r=void 0,i=e.cy().headless(),a=t===b?x:y(t);return t.useCache&&!i&&n.bbCache&&n.bbCache[a]?r=n.bbCache[a]:(r=function v(e,t){var n=e._private.cy,r=n.styleEnabled(),i=n.headless(),a={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0},s=e._private,l=r?e.pstyle("display").value:"element",d=e.isNode(),h=e.isEdge(),v=void 0,g=void 0,y=void 0,m=void 0,b=void 0,x=void 0,w="none"!==l;if(w){var E=0;r&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(E=e.pstyle("overlay-padding").value);var C=0;if(r&&(C=e.pstyle("width").pfValue/2),d&&t.includeNodes){var S=e.position();b=S.x,x=S.y;var D=e.outerWidth()/2,_=e.outerHeight()/2;v=b-D-E,c(a,v,y=x-_-E,g=b+D+E,m=x+_+E)}else if(h&&t.includeEdges){var M=s.rstyle||{};if(r&&!i&&(v=Math.min(M.srcX,M.midX,M.tgtX),g=Math.max(M.srcX,M.midX,M.tgtX),y=Math.min(M.srcY,M.midY,M.tgtY),m=Math.max(M.srcY,M.midY,M.tgtY),v-=C,c(a,v,y-=C,g+=C,m+=C)),r&&!i&&"haystack"===e.pstyle("curve-style").strValue){var I=M.haystackPts||[];if(v=I[0].x,y=I[0].y,v>(g=I[1].x)){var N=v;v=g,g=N}if(y>(m=I[1].y)){var B=y;y=m,m=B}c(a,v-C,y-C,g+C,m+C)}else{for(var z=M.bezierPts||M.linePts||[],L=0;L<z.length;L++){var A=z[L];v=A.x-C,g=A.x+C,y=A.y-C,m=A.y+C,c(a,v,y,g,m)}if(0===z.length){var R=e.source().position(),q=e.target().position();if(v=R.x,v>(g=q.x)){var F=v;v=g,g=F}if((y=R.y)>(m=q.y)){var j=y;y=m,m=j}v-=C,c(a,v,y-=C,g+=C,m+=C)}}}if(r&&t.includeEdges&&h&&(p(a,e,"mid-source"),p(a,e,"mid-target"),p(a,e,"source"),p(a,e,"target")),r&&"yes"===e.pstyle("ghost").value){var X=e.pstyle("ghost-offset-x").pfValue,Y=e.pstyle("ghost-offset-y").pfValue;c(a,a.x1+X,a.y1+Y,a.x2+X,a.y2+Y)}r&&(v=a.x1,g=a.x2,y=a.y1,m=a.y2,c(a,v-E,y-E,g+E,m+E)),r&&t.includeLabels&&(f(a,e,null),h&&(f(a,e,"source"),f(a,e,"target")))}return a.x1=u(a.x1),a.y1=u(a.y1),a.x2=u(a.x2),a.y2=u(a.y2),a.w=u(a.x2-a.x1),a.h=u(a.y2-a.y1),a.w>0&&a.h>0&&w&&o.expandBoundingBox(a,1),a}(e,t),i||(n.bbCache=n.bbCache||{},n.bbCache[a]=r)),r},b={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeOverlays:!0,useCache:!0},x=y(b);l.boundingBox=function(e){if(1===this.length&&this[0]._private.bbCache&&(void 0===e||void 0===e.useCache||!0===e.useCache))return e=void 0===e?b:r(e),m(this[0],e);var t={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0},n=r(e=e||a.staticEmptyObject()),i=this,s=i.cy().styleEnabled();s&&this.recalculateRenderedStyle(n.useCache),this.updateCompoundBounds();for(var l={},c=0;c<i.length;c++){var h=i[c];if(s&&h.isEdge()&&"bezier"===h.pstyle("curve-style").strValue&&!l[h.id()]){for(var p=h.parallelEdges(),f=0;f<p.length;f++)l[p[f].id()]=!0;p.recalculateRenderedStyle(n.useCache)}d(t,m(h,n))}return t.x1=u(t.x1),t.y1=u(t.y1),t.x2=u(t.x2),t.y2=u(t.y2),t.w=u(t.x2-t.x1),t.h=u(t.y2-t.y1),t},l.boundingBoxAt=function(e){var t=this.nodes();if(i.plainObject(e)){var n=e;e=function e(){return n}}for(var r=0;r<t.length;r++){var a=t[r],o=a._private,s=o.position,l=e.call(a,a,r);o.bbAtOldPos={x:s.x,y:s.y},l&&(s.x=l.x,s.y=l.y)}this.emit("dirty"),t.dirtyCompoundBoundsCache().updateCompoundBounds();for(var u=this.boundingBox({useCache:!1}),c=0;c<t.length;c++){var d=t[c],h=d._private,p=d._private.position,f=h.bbAtOldPos;p.x=f.x,p.y=f.y}return t.dirtyCompoundBoundsCache(),this.emit("dirty"),u},s.boundingbox=s.boundingBox,s.renderedBoundingbox=s.renderedBoundingBox,e.exports=l},function(e,t,n){var r=n(1),i=void 0,a=void 0;i=a={};var o=function o(e){e.uppercaseName=r.capitalize(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=r.capitalize(e.outerName),i[e.name]=function(){var t=this[0],n=t._private,i=n.cy._private.styleEnabled;if(t){if(!i)return 1;if(t.isParent())return t.updateCompoundBounds(),n[e.autoName]||0;var a=t.pstyle(e.name);switch(a.strValue){case"label":return t.recalculateRenderedStyle(),n.rstyle[e.labelName]||0;default:return a.pfValue}}},i["outer"+e.uppercaseName]=function(){var t=this[0],i=t._private.cy._private.styleEnabled;if(t)return i?t[e.name]()+t.pstyle("border-width").pfValue+2*t.padding():1},i["rendered"+e.uppercaseName]=function(){var t=this[0];if(t)return t[e.name]()*this.cy().zoom()},i["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t)return t[e.outerName]()*this.cy().zoom()}};o({name:"width"}),o({name:"height"}),a.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},e.exports=a},function(e,t,n){var r=function r(e,t){if(e.isEdge())return t(e.renderer())};e.exports={controlPoints:function controlPoints(){var e=this;return r(this,function(t){return t.getControlPoints(e)})},segmentPoints:function segmentPoints(){var e=this;return r(this,function(t){return t.getSegmentPoints(e)})},sourceEndpoint:function sourceEndpoint(){var e=this;return r(this,function(t){return t.getSourceEndpoint(e)})},targetEndpoint:function targetEndpoint(){var e=this;return r(this,function(t){return t.getTargetEndpoint(e)})},midpoint:function midpoint(){var e=this;return r(this,function(t){return t.getEdgeMidpoint(e)})}}},function(e,t,n){var r=n(11),i=n(4),a=n(0),o=n(1),s=n(6),l={qualifierCompare:function qualifierCompare(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function eventMatches(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&a.element(n.target)&&r.matches(n.target)},eventFields:function eventFields(e){return{cy:e.cy(),target:e}},callbackContext:function callbackContext(e,t,n){return null!=t.qualifier?n.target:e},beforeEmit:function beforeEmit(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function bubble(){return!0},parent:function parent(e){return e.isChild()?e.parent():e.cy()}},u=function u(e){return a.string(e)?new s(e):e},c={createEmitter:function createEmitter(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new r(o.assign({context:t},l)))}return this},emitter:function emitter(){return this._private.emitter},on:function on(e,t,n){for(var r=0;r<this.length;r++)this[r].emitter().on(e,u(t),n);return this},removeListener:function removeListener(e,t,n){for(var r=0;r<this.length;r++)this[r].emitter().removeListener(e,u(t),n);return this},one:function one(e,t,n){for(var r=0;r<this.length;r++)this[r].emitter().one(e,u(t),n);return this},once:function once(e,t,n){for(var r=0;r<this.length;r++)this[r].emitter().on(e,u(t),n,{once:!0,onceCollection:this})},emit:function emit(e,t){for(var n=0;n<this.length;n++)this[n].emitter().emit(e,t);return this},emitAndNotify:function emitAndNotify(e,t){if(0!==this.length)return this.cy().notify({type:e,eles:this}),this.emit(e,t),this}};i.eventAliasesOn(c),e.exports=c},function(e,t,n){var r=n(0),i=n(6),a={nodes:function nodes(e){return this.filter(function(e){return e.isNode()}).filter(e)},edges:function edges(e){return this.filter(function(e){return e.isEdge()}).filter(e)},filter:function filter(e,t){if(void 0===e)return this;if(r.string(e)||r.elementOrCollection(e))return new i(e).filter(this);if(r.fn(e)){for(var n=this.spawn(),a=this,o=0;o<a.length;o++){var s=a[o];(t?e.apply(t,[s,o,a]):e(s,o,a))&&n.merge(s)}return n}return this.spawn()},not:function not(e){if(e){r.string(e)&&(e=this.filter(e));for(var t=[],n=e._private.map,i=0;i<this.length;i++){var a=this[i];n.has(a.id())||t.push(a)}return this.spawn(t)}return this},absoluteComplement:function absoluteComplement(){return this.cy().mutableElements().not(this)},intersect:function intersect(e){if(r.string(e)){var t=e;return this.filter(t)}for(var n=[],a=e,o=this.length<e.length,s=o?a._private.map:this._private.map,l=o?this:a,u=0;u<l.length;u++){var c=l[u]._private.data.id,d=s.get(c);d&&n.push(d.ele)}return this.spawn(n)},xor:function xor(e){var t=this._private.cy;r.string(e)&&(e=t.$(e));var n=[],a=e,o=function o(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=i._private.data.id;t.hasElementWithId(a)||n.push(i)}};return o(this,a),o(a,this),this.spawn(n)},diff:function diff(e){var t=this._private.cy;r.string(e)&&(e=t.$(e));var n=[],i=[],a=[],s=e,l=function l(e,t,n){for(var r=0;r<e.length;r++){var i=e[r],o=i._private.data.id;t.hasElementWithId(o)?a.push(i):n.push(i)}};return l(this,s,n),l(s,this,i),{left:this.spawn(n,{unique:!0}),right:this.spawn(i,{unique:!0}),both:this.spawn(a,{unique:!0})}},add:function add(e){var t=this._private.cy;if(!e)return this;if(r.string(e)){var n=e;e=t.mutableElements().filter(n)}for(var i=[],a=0;a<this.length;a++)i.push(this[a]);for(var o=this._private.map,s=0;s<e.length;s++)!o.has(e[s].id())&&i.push(e[s]);return this.spawn(i)},merge:function merge(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&r.string(e)){var i=e;e=n.mutableElements().filter(i)}for(var a=t.map,o=0;o<e.length;o++){var s=e[o],l=s._private.data.id;if(a.has(l)){var c=a.get(l).index;this[c]=s,a.set(l,{ele:s,index:c})}else{var u=this.length++;this[u]=s,a.set(l,{ele:s,index:u})}}return this},unmergeOne:function unmergeOne(e){e=e[0];var t=this._private,n=e._private.data.id,r=t.map,i=r.get(n);if(!i)return this;var a=i.index;this[a]=void 0,r.delete(n);var o=a===this.length-1;if(this.length>1&&!o){var s=this.length-1,l=this[s],u=l._private.data.id;this[s]=void 0,this[a]=l,r.set(u,{ele:l,index:a})}return this.length--,this},unmerge:function unmerge(e){var t=this._private.cy;if(!e)return this;if(e&&r.string(e)){var n=e;e=t.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},map:function map(e,t){for(var n=[],r=this,i=0;i<r.length;i++){var a=r[i],o=t?e.apply(t,[a,i,r]):e(a,i,r);n.push(o)}return n},reduce:function reduce(e,t){for(var n=t,r=this,i=0;i<r.length;i++)n=e(n,r[i],i,r);return n},max:function max(e,t){for(var n=-1/0,r=void 0,i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);s>n&&(n=s,r=o)}return{value:n,ele:r}},min:function min(e,t){for(var n=1/0,r=void 0,i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);s<n&&(n=s,r=o)}return{value:n,ele:r}}},o=a;o.u=o["|"]=o["+"]=o.union=o.or=o.add,o["\\"]=o["!"]=o["-"]=o.difference=o.relativeComplement=o.subtract=o.not,o.n=o["&"]=o["."]=o.and=o.intersection=o.intersect,o["^"]=o["(+)"]=o["(-)"]=o.symmetricDifference=o.symdiff=o.xor,o.fnFilter=o.filterFn=o.stdFilter=o.filter,o.complement=o.abscomp=o.absoluteComplement,e.exports=a},function(e,t,n){e.exports={isNode:function isNode(){return"nodes"===this.group()},isEdge:function isEdge(){return"edges"===this.group()},isLoop:function isLoop(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function isSimple(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function group(){var e=this[0];if(e)return e._private.group}}},function(e,t,n){var r=n(0),i=n(17),a=n(1),o={forEach:function forEach(e,t){if(r.fn(e))for(var n=0;n<this.length;n++){var i=this[n];if(!1===(t?e.apply(t,[i,n,this]):e(i,n,this)))break}return this},toArray:function toArray(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function slice(e,t){var n=[],r=this.length;null==t&&(t=r),null==e&&(e=0),e<0&&(e=r+e),t<0&&(t=r+t);for(var i=e;i>=0&&i<t&&i<r;i++)n.push(this[i]);return this.spawn(n)},size:function size(){return this.length},eq:function eq(e){return this[e]||this.spawn()},first:function first(){return this[0]||this.spawn()},last:function last(){return this[this.length-1]||this.spawn()},empty:function empty(){return 0===this.length},nonempty:function nonempty(){return!this.empty()},sort:function sort(e){if(!r.fn(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function sortByZIndex(){return this.sort(i)},zDepth:function zDepth(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:a.MAX_INT-1}var r=t.source,i=t.target,o=r.zDepth(),s=i.zDepth();return Math.max(o,s,0)}}};o.each=o.forEach,e.exports=o},function(e,t,n){var r=n(0),i=n(1),a=n(5),o=n(2),s={layoutDimensions:function layoutDimensions(e){if((e=i.assign({nodeDimensionsIncludeLabels:!0},e)).nodeDimensionsIncludeLabels){var t=this.boundingBox();return{w:t.w,h:t.h}}return{w:this.outerWidth(),h:this.outerHeight()}},layoutPositions:function layoutPositions(e,t,n){var s=this.nodes(),l=this.cy(),u=t.eles,c=function c(e,t){return e.id()+"$"+t},d=i.memoize(n,c);e.emit({type:"layoutstart",layout:e}),e.animations=[];var p=t.spacingFactor&&1!==t.spacingFactor,f=function(){if(!p)return null;for(var e=o.makeBoundingBox(),t=0;t<s.length;t++){var n=s[t],r=d(n,t);o.expandBoundingBoxByPoint(e,r.x,r.y)}return e}(),v=i.memoize(function(e,n){var i=d(e,n),a=e.position();(r.number(a.x)&&r.number(a.y)||e.silentPosition({x:0,y:0}),p)&&(i=function h(e,t,n){var r_x=t.x1+t.w/2,r_y=t.y1+t.h/2;return{x:r_x+(n.x-r_x)*e,y:r_y+(n.y-r_y)*e}}(Math.abs(t.spacingFactor),f,i));return null!=t.transform&&(i=t.transform(e,i)),i},c);if(t.animate){for(var g=0;g<s.length;g++){var y=s[g],m=v(y,g);if(null==t.animateFilter||t.animateFilter(y,g)){var b=y.animation({position:m,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(b),b.play()}else y.position(m)}if(t.fit){var x=l.animation({fit:{boundingBox:u.boundingBoxAt(v),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(x),x.play()}else if(void 0!==t.zoom&&void 0!==t.pan){var w=l.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(w),w.play()}e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),a.all(e.animations.map(function(e){return e.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else s.positions(v),t.fit&&l.fit(t.eles,t.padding),null!=t.zoom&&l.zoom(t.zoom),t.pan&&l.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function layout(e){return this.cy().makeLayout(i.extend({},e,{eles:this}))}};s.createLayout=s.makeLayout=s.layout,e.exports=s},function(e,t,n){function r(e,t,n){var r,i=n._private,a=i.styleCache=i.styleCache||{};return null!=(r=a[e])?r:r=a[e]=t(n)}function i(e,t){return function(n){return r(e,t,n)}}function a(e,t){var n=function n(e){return t.call(e)};return function(){var t=this[0];if(t)return r(e,n,t)}}function o(e,t){var r=e._private.data.parent?e.parents():null;if(r)for(var i=0;i<r.length;i++){if(!t(r[i]))return!1}return!0}function s(e){var t=e.ok,n=e.edgeOkViaNode||e.ok,r=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var i=this[0],a=e.hasCompoundNodes();if(i){var s=i._private;if(!t(i))return!1;if(i.isNode())return!a||o(i,r);var l=s.source,u=s.target;return n(l)&&(!a||o(l,n))&&(l===u||n(u)&&(!a||o(u,n)))}}}var l=n(0),u={recalculateRenderedStyle:function recalculateRenderedStyle(e){var t=this.cy(),n=t.renderer(),r=t.styleEnabled();return n&&r&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function dirtyStyleCache(){var e=this.cy(),t=function t(e){return e._private.styleCache={}};if(e.hasCompoundNodes()){var n=void 0;(n=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(n.connectedEdges()),n.forEach(t)}else this.forEach(function(e){t(e),e.connectedEdges().forEach(t)});return this},updateStyle:function updateStyle(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t._private.batchingStyle)return t._private.batchStyleEles.merge(this),this;var n=t.hasCompoundNodes(),r=t.style(),i=this;e=!(!e&&void 0!==e),n&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var a=r.apply(i);return a.dirtyStyleCache(),a.dirtyCompoundBoundsCache(),e?a.emitAndNotify("style"):a.emit("style"),this},updateMappers:function updateMappers(e){var t=this._private.cy,n=t.style();if(e=!(!e&&void 0!==e),!t.styleEnabled())return this;var r=n.updateMappers(this);return r.dirtyStyleCache(),r.dirtyCompoundBoundsCache(),e?r.emitAndNotify("style"):r.emit("style"),this},parsedStyle:function parsedStyle(e){var t=this[0],n=t.cy();if(n.styleEnabled())return t?t._private.style[e]||n.style().getDefaultProperty(e):void 0},numericStyle:function numericStyle(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function numericStyleUnits(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function renderedStyle(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];return n?t.style().getRenderedStyle(n,e):void 0},style:function style(e,t){var n=this.cy();if(!n.styleEnabled())return this;var r=n.style();if(l.plainObject(e)){var i=e;r.applyBypass(this,i,!1),this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style")}else if(l.string(e)){if(void 0===t){var a=this[0];return a?r.getStylePropertyValue(a,e):void 0}r.applyBypass(this,e,t,!1),this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style")}else if(void 0===e){var o=this[0];return o?r.getRawStyle(o):void 0}return this},removeStyle:function removeStyle(e){var t=this.cy();if(!t.styleEnabled())return this;var n=t.style(),r=this;if(void 0===e)for(var i=0;i<r.length;i++){var a=r[i];n.removeAllBypasses(a,!1)}else{e=e.split(/\s+/);for(var o=0;o<r.length;o++){var s=r[o];n.removeBypasses(s,e,!1)}}return this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style"),this},show:function show(){return this.css("display","element"),this},hide:function hide(){return this.css("display","none"),this},effectiveOpacity:function effectiveOpacity(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var r=n._private,i=n.pstyle("opacity").value;if(!t)return i;var a=r.data.parent?n.parents():null;if(a)for(var o=0;o<a.length;o++){i*=a[o].pstyle("opacity").value}return i}},transparent:function transparent(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function backgrounding(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}},c=i("eleTakesUpSpace",function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())});u.takesUpSpace=a("takesUpSpace",s({ok:c}));var d=i("eleInteractive",function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&c(e)}),h=i("parentInteractive",function(e){return"visible"===e.pstyle("visibility").value&&c(e)});u.interactive=a("interactive",s({ok:d,parentOk:h,edgeOkViaNode:c})),u.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var p=i("eleVisible",function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&c(e)}),f=c;u.visible=a("visible",s({ok:p,edgeOkViaNode:f})),u.hidden=function(){var e=this[0];if(e)return!e.visible()},u.bypass=u.css=u.style,u.renderedCss=u.renderedStyle,u.removeBypass=u.removeCss=u.removeStyle,u.pstyle=u.parsedStyle,e.exports=u},function(e,t,n){function r(e){return function(){var t=arguments,n=[];if(2===t.length){var r=t[0],i=t[1];this.on(e.event,r,i)}else if(1===t.length){var a=t[0];this.on(e.event,a)}else if(0===t.length){for(var o=0;o<this.length;o++){var s=this[o],l=!e.ableField||s._private[e.ableField],u=s._private[e.field]!=e.value;if(e.overrideAble){var c=e.overrideAble(s);if(void 0!==c&&(l=c,!c))return this}l&&(s._private[e.field]=e.value,u&&n.push(s))}var d=this.spawn(n);d.updateStyle(),d.emit(e.event)}return this}}function i(e){a[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(void 0!==n)return n}return t._private[e.field]}},a[e.on]=r({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),a[e.off]=r({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}var a={};i({field:"locked",overrideField:function overrideField(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),i({field:"grabbable",overrideField:function overrideField(e){return!e.cy().autoungrabify()&&void 0},on:"grabify",off:"ungrabify"}),i({field:"selected",ableField:"selectable",overrideAble:function overrideAble(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),i({field:"selectable",overrideField:function overrideField(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),a.deselect=a.unselect,a.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},i({field:"active",on:"activate",off:"unactivate"}),a.inactive=function(){var e=this[0];if(e)return!e._private.active},e.exports=a},function(e,t,n){function r(e){return function(t){for(var n=[],r=0;r<this.length;r++){var a=this[r]._private[e.attr];a&&n.push(a)}return this.spawn(n,{unique:!0}).filter(t)}}function i(e){return function(t){var n=[],r=this._private.cy,i=e||{};s.string(t)&&(t=r.$(t));for(var a=0;a<t.length;a++)for(var o=t[a]._private.edges,l=0;l<o.length;l++){var u=o[l],c=u._private.data,d=this.hasElementWithId(c.source)&&t.hasElementWithId(c.target),h=t.hasElementWithId(c.source)&&this.hasElementWithId(c.target);if(d||h){if(i.thisIsSrc||i.thisIsTgt){if(i.thisIsSrc&&!d)continue;if(i.thisIsTgt&&!h)continue}n.push(u)}}return this.spawn(n,{unique:!0})}}function a(e){return e=o.extend({},{codirected:!1},e),function(t){for(var n=[],r=this.edges(),i=e,a=0;a<r.length;a++)for(var s=r[a]._private,l=s.source,u=l._private.data.id,c=s.data.target,d=l._private.edges,h=0;h<d.length;h++){var p=d[h],f=p._private.data,v=f.target,g=f.source,y=v===c&&g===u,m=u===v&&c===g;(i.codirected&&y||!i.codirected&&(y||m))&&n.push(p)}return this.spawn(n,{unique:!0}).filter(t)}}var o=n(1),s=n(0),l={},u=function u(e,t){return function(n,r,i,a){var o=n,l=this,u=void 0;if(null==o?u="null":s.elementOrCollection(o)&&1===o.length&&(u="#"+o.id()),1===l.length&&u){var c=l[0]._private,d=c.traversalCache=c.traversalCache||{},h=d[t]=d[t]||{};return h[u]||(h[u]=e.call(l,n,r,i,a))}return e.call(l,n,r,i,a)}},c=function c(e){return function(t){for(var r=[],i=0;i<this.length;i++){var a=this[i];if(a.isNode()){for(var o=!1,s=a.connectedEdges(),l=0;l<s.length;l++){var u=s[l],c=u.source(),d=u.target();if(e.noIncomingEdges&&d===a&&c!==a||e.noOutgoingEdges&&c===a&&d!==a){o=!0;break}}o||r.push(a)}}return this.spawn(r,{unique:!0}).filter(t)}},d=function d(e){return function(t){for(var r=[],i=0;i<this.length;i++){var a=this[i];if(a.isNode())for(var o=a.connectedEdges(),s=0;s<o.length;s++){var l=o[s],u=l.source(),c=l.target();e.outgoing&&u===a?(r.push(l),r.push(c)):e.incoming&&c===a&&(r.push(l),r.push(u))}}return this.spawn(r,{unique:!0}).filter(t)}},h=function h(e){return function(t){for(var n=this,r=[],i={};;){var a=e.outgoing?n.outgoers():n.incomers();if(0===a.length)break;for(var o=!1,s=0;s<a.length;s++){var l=a[s],u=l.id();i[u]||(i[u]=!0,r.push(l),o=!0)}if(!o)break;n=a}return this.spawn(r,{unique:!0}).filter(t)}};l.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},o.extend(l,{roots:c({noIncomingEdges:!0}),leaves:c({noOutgoingEdges:!0}),outgoers:u(d({outgoing:!0}),"outgoers"),successors:h({outgoing:!0}),incomers:u(d({incoming:!0}),"incomers"),predecessors:h({incoming:!0})}),o.extend(l,{neighborhood:u(function(e){for(var t=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],l=s.source(),u=s.target(),c=i===l?u:l;c.length>0&&t.push(c[0]),t.push(s[0])}return this.spawn(t,{unique:!0}).filter(e)},"neighborhood"),closedNeighborhood:function closedNeighborhood(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function openNeighborhood(e){return this.neighborhood(e)}}),l.neighbourhood=l.neighborhood,l.closedNeighbourhood=l.closedNeighborhood,l.openNeighbourhood=l.openNeighborhood,o.extend(l,{source:u(function(e){var t=this[0],n=void 0;return t&&(n=t._private.source||t.cy().collection()),n&&e?n.filter(e):n},"source"),target:u(function(e){var t=this[0],n=void 0;return t&&(n=t._private.target||t.cy().collection()),n&&e?n.filter(e):n},"target"),sources:r({attr:"source"}),targets:r({attr:"target"})}),o.extend(l,{edgesWith:u(i(),"edgesWith"),edgesTo:u(i({thisIsSrc:!0}),"edgesTo")}),o.extend(l,{connectedEdges:u(function(e){for(var t=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode())for(var a=i._private.edges,o=0;o<a.length;o++){var s=a[o];t.push(s)}}return this.spawn(t,{unique:!0}).filter(e)},"connectedEdges"),connectedNodes:u(function(e){for(var t=[],r=0;r<this.length;r++){var i=this[r];i.isEdge()&&(t.push(i.source()[0]),t.push(i.target()[0]))}return this.spawn(t,{unique:!0}).filter(e)},"connectedNodes"),parallelEdges:u(a(),"parallelEdges"),codirectedEdges:u(a({codirected:!0}),"codirectedEdges")}),o.extend(l,{components:function components(){var e=this,t=e.cy(),n=e.spawn(),r=e.nodes().spawnSelf(),i=[],a=function a(e,t){n.merge(e),r.unmerge(e),t.merge(e)};if(r.empty())return e.spawn();do{!function(){var n=t.collection();i.push(n);var o=r[0];a(o,n),e.bfs({directed:!1,roots:o,visit:function visit(e,t,r,i,o){a(e,n)}})}()}while(r.length>0);return i.map(function(e){var t=e.connectedEdges().stdFilter(function(t){return e.anySame(t.source())&&e.anySame(t.target())});return e.union(t)})}}),e.exports=l},function(e,t,n){var r=n(0),i=n(1),a=n(7),o=n(14),s={add:function add(e){var t=void 0,n=this;if(r.elementOrCollection(e)){var s=e;if(s._private.cy===n)t=s.restore();else{for(var l=[],u=0;u<s.length;u++){var c=s[u];l.push(c.json())}t=new a(n,l)}}else if(r.array(e)){t=new a(n,e)}else if(r.plainObject(e)&&(r.array(e.nodes)||r.array(e.edges))){for(var h=e,p=[],f=["nodes","edges"],v=0,g=f.length;v<g;v++){var y=f[v],m=h[y];if(r.array(m))for(var b=0,x=m.length;b<x;b++){var w=i.extend({group:y},m[b]);p.push(w)}}t=new a(n,p)}else{t=new o(n,e).collection()}return t},remove:function remove(e){if(r.elementOrCollection(e));else if(r.string(e)){var t=e;e=this.$(t)}return e.remove()}};e.exports=s},function(e,t,n){var r=n(4),i=n(1),a=n(72),o={animate:r.animate(),animation:r.animation(),animated:r.animated(),clearQueue:r.clearQueue(),delay:r.delay(),delayAnimation:r.delayAnimation(),stop:r.stop(),addToAnimationPool:function addToAnimationPool(e){this.styleEnabled()&&this._private.aniEles.merge(e)},stopAnimationLoop:function stopAnimationLoop(){this._private.animationsRunning=!1},startAnimationLoop:function startAnimationLoop(){var t=this;if(t._private.animationsRunning=!0,t.styleEnabled()){var n=t.renderer();n&&n.beforeRender?n.beforeRender(function(e,n){a(n,t)},n.beforeRenderPriorities.animations):function e(){t._private.animationsRunning&&i.requestAnimationFrame(function(n){a(n,t),e()})}()}}};e.exports=o},function(e,t,n){var i=n(73),a=n(78);e.exports=function r(e,t){function n(t,n){var r=t._private,s=r.animation.current,l=r.animation.queue,u=!1;if(!n&&"none"===t.pstyle("display").value){s=s.splice(0,s.length).concat(l.splice(0,l.length));for(var c=0;c<s.length;c++)s[c].stop()}if(0===s.length){var d=l.shift();d&&s.push(d)}for(var h=function h(e){for(var t=e.length-1;t>=0;t--)(0,e[t])();e.splice(0,e.length)},p=s.length-1;p>=0;p--){var f=s[p],v=f._private;v.stopped?(s.splice(p,1),v.hooked=!1,v.playing=!1,v.started=!1,h(v.frames)):(v.playing||v.applying)&&(v.playing&&v.applying&&(v.applying=!1),v.started||a(t,f,e,n),i(t,f,e,n),v.applying&&(v.applying=!1),h(v.frames),f.completed()&&(s.splice(p,1),v.hooked=!1,v.playing=!1,v.started=!1,h(v.completes)),u=!0)}return n||0!==s.length||0!==l.length||o.push(t),u}for(var r=t._private.aniEles,o=[],s=!1,l=0;l<r.length;l++){var c=n(r[l]);s=s||c}var d=n(t,!0);(s||d)&&(r.length>0?(r.dirtyCompoundBoundsCache(),t.notify({type:"draw",eles:r})):t.notify({type:"draw"})),r.unmerge(o),t.emit("step")}},function(e,t,n){function i(e,t){return!!(null!=e&&null!=t&&(s.number(e)&&s.number(t)||e&&t))}var a=n(74),o=n(77),s=n(0);e.exports=function r(e,t,n,r){var l=!r,u=e._private,c=t._private,d=c.easing,h=c.startTime,f=(r?e:e.cy()).style();if(!c.easingImpl)if(null==d)c.easingImpl=a.linear;else{var v=void 0;v=s.string(d)?f.parse("transition-timing-function",d).value:d;var y=void 0,m=void 0;s.string(v)?(y=v,m=[]):(y=v[1],m=v.slice(2).map(function(e){return+e})),m.length>0?("spring"===y&&m.push(c.duration),c.easingImpl=a[y].apply(null,m)):c.easingImpl=a[y]}var b=c.easingImpl,x=void 0;if(x=0===c.duration?1:(n-h)/c.duration,c.applying&&(x=c.progress),x<0?x=0:x>1&&(x=1),null==c.delay){var w=c.startPosition,E=c.position;if(E&&l&&!e.locked()){var P=e.position();i(w.x,E.x)&&(P.x=o(w.x,E.x,x,b)),i(w.y,E.y)&&(P.y=o(w.y,E.y,x,b)),e.emit("position")}var C=c.startPan,S=c.pan,T=u.pan,D=null!=S&&r;D&&(i(C.x,S.x)&&(T.x=o(C.x,S.x,x,b)),i(C.y,S.y)&&(T.y=o(C.y,S.y,x,b)),e.emit("pan"));var k=c.startZoom,_=c.zoom,M=null!=_&&r;M&&(i(k,_)&&(u.zoom=o(k,_,x,b)),e.emit("zoom")),(D||M)&&e.emit("viewport");var I=c.style;if(I&&I.length>0&&l){for(var N=0;N<I.length;N++){var B=I[N],z=B.name,L=B,A=c.startStyle[z],O=f.properties[A.name],R=o(A,L,x,b,O);f.overrideBypass(e,z,R)}e.emit("style")}}return c.progress=x,x}},function(e,t,n){var r=n(75),i=n(76),a=function a(e,t,n,i){var a=r(e,t,n,i);return function(e,t,n){return e+(t-e)*a(n)}},o={linear:function linear(e,t,n){return e+(t-e)*n},ease:a(.25,.1,.25,1),"ease-in":a(.42,0,1,1),"ease-out":a(0,0,.58,1),"ease-in-out":a(.42,0,.58,1),"ease-in-sine":a(.47,0,.745,.715),"ease-out-sine":a(.39,.575,.565,1),"ease-in-out-sine":a(.445,.05,.55,.95),"ease-in-quad":a(.55,.085,.68,.53),"ease-out-quad":a(.25,.46,.45,.94),"ease-in-out-quad":a(.455,.03,.515,.955),"ease-in-cubic":a(.55,.055,.675,.19),"ease-out-cubic":a(.215,.61,.355,1),"ease-in-out-cubic":a(.645,.045,.355,1),"ease-in-quart":a(.895,.03,.685,.22),"ease-out-quart":a(.165,.84,.44,1),"ease-in-out-quart":a(.77,0,.175,1),"ease-in-quint":a(.755,.05,.855,.06),"ease-out-quint":a(.23,1,.32,1),"ease-in-out-quint":a(.86,0,.07,1),"ease-in-expo":a(.95,.05,.795,.035),"ease-out-expo":a(.19,1,.22,1),"ease-in-out-expo":a(1,0,0,1),"ease-in-circ":a(.6,.04,.98,.335),"ease-out-circ":a(.075,.82,.165,1),"ease-in-out-circ":a(.785,.135,.15,.86),spring:function spring(e,t,n){if(0===n)return o.linear;var r=i(e,t,n);return function(e,t,n){return e+(t-e)*r(n)}},"cubic-bezier":a};e.exports=o},function(e,t,n){e.exports=function r(e,t,n,r){function i(e,t){return 1-3*t+3*e}function a(e,t){return 3*t-6*e}function o(e){return 3*e}function s(e,t,n){return((i(t,n)*e+a(t,n))*e+o(t))*e}function l(e,t,n){return 3*i(t,n)*e*e+2*a(t,n)*e+o(t)}function u(t,r){for(var i=0;i<f;++i){var a=l(r,e,n);if(0===a)return r;r-=(s(r,e,n)-t)/a}return r}function d(t,r,i){var a=void 0,o=void 0,l=0;do{(a=s(o=r+(i-r)/2,e,n)-t)>0?i=o:r=o}while(Math.abs(a)>g&&++l<y);return o}function p(){P=!0,e===t&&n===r||function c(){for(var t=0;t<m;++t)E[t]=s(t*b,e,n)}()}var f=4,v=.001,g=1e-7,y=10,m=11,b=1/(m-1),x="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var w=0;w<4;++w)if("number"!=typeof arguments[w]||isNaN(arguments[w])||!isFinite(arguments[w]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var E=x?new Float32Array(m):new Array(m),P=!1,C=function C(i){return P||p(),e===t&&n===r?i:0===i?0:1===i?1:s(function h(t){for(var r=0,i=1,a=m-1;i!==a&&E[i]<=t;++i)r+=b;var s=r+(t-E[--i])/(E[i+1]-E[i])*b,c=l(s,e,n);return c>=v?u(t,s):0===c?s:d(t,r,r+b)}(i),t,r)};C.getControlPoints=function(){return[{x:e,y:t},{x:n,y:r}]};var S="generateBezier("+[e,t,n,r]+")";return C.toString=function(){return S},C}},function(e,t,n){var r=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var i={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function n(n,r){var i={dx:n.v,dv:e(n)},a=t(n,.5*r,i),o=t(n,.5*r,a),s=t(n,r,o),l=1/6*(i.dx+2*(a.dx+o.dx)+s.dx),u=1/6*(i.dv+2*(a.dv+o.dv)+s.dv);return n.x=n.x+l*r,n.v=n.v+u*r,n}return function e(t,r,i){var l,a={x:-1,v:0,tension:null,friction:null},o=[0],s=0,u=void 0,c=void 0;for(t=parseFloat(t)||500,r=parseFloat(r)||20,i=i||null,a.tension=t,a.friction=r,(l=null!==i)?u=(s=e(t,r))/i*.016:u=.016;c=n(c||a,u),o.push(1+c.x),s+=16,Math.abs(c.x)>1e-4&&Math.abs(c.v)>1e-4;);return l?function(e){return o[e*(o.length-1)|0]}:s}}();e.exports=r},function(e,t,n){function r(e,t,n,r,i){if(1===r)return n;var a=i(t,n,r);return null==e?a:((e.roundValue||e.color)&&(a=Math.round(a)),void 0!==e.min&&(a=Math.max(a,e.min)),void 0!==e.max&&(a=Math.min(a,e.max)),a)}function i(e,t){return null!=e.pfValue||null!=e.value?null==e.pfValue||null!=t&&"%"===t.type.units?e.value:e.pfValue:e}var o=n(0);e.exports=function a(e,t,n,a,s){var l=null!=s?s.type:null;n<0?n=0:n>1&&(n=1);var u=i(e,s),c=i(t,s);if(o.number(u)&&o.number(c))return r(l,u,c,n,a);if(o.array(u)&&o.array(c)){for(var d=[],h=0;h<c.length;h++){var p=u[h],f=c[h];if(null!=p&&null!=f){var v=r(l,p,f,n,a);d.push(v)}else d.push(f)}return d}}},function(e,t,n){e.exports=function r(e,t,n,r){var i=!r,a=e,o=t._private,s=r?e:e.cy(),l=s.style();if(i){var u=a.position();o.startPosition=o.startPosition||{x:u.x,y:u.y},o.startStyle=o.startStyle||l.getAnimationStartStyle(a,o.style)}if(r){var c=s._private.pan;o.startPan=o.startPan||{x:c.x,y:c.y},o.startZoom=null!=o.startZoom?o.startZoom:s._private.zoom}o.started=!0,o.startTime=n-o.progress*o.duration}},function(e,t,n){var r=n(11),i=n(4),a=n(0),o=n(1),s=n(6),l={qualifierCompare:function qualifierCompare(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function eventMatches(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&a.element(n.target)&&r.matches(n.target)},eventFields:function eventFields(e){return{cy:e,target:e}},callbackContext:function callbackContext(e,t,n){return null!=t.qualifier?n.target:e}},u=function u(e){return a.string(e)?new s(e):e},c={createEmitter:function createEmitter(){var e=this._private;return e.emitter||(e.emitter=new r(o.assign({context:this},l))),this},emitter:function emitter(){return this._private.emitter},on:function on(e,t,n){return this.emitter().on(e,u(t),n),this},removeListener:function removeListener(e,t,n){return this.emitter().removeListener(e,u(t),n),this},one:function one(e,t,n){return this.emitter().one(e,u(t),n),this},once:function once(e,t,n){return this.emitter().one(e,u(t),n),this},emit:function emit(e,t){return this.emitter().emit(e,t),this}};i.eventAliasesOn(c),e.exports=c},function(e,t,n){var r={png:function png(e){return e=e||{},this._private.renderer.png(e)},jpg:function jpg(e){var t=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",t.jpg(e)}};r.jpeg=r.jpg,e.exports=r},function(e,t,n){var r=n(1),i=n(0),a={layout:function layout(e){var t=this;if(null!=e)if(null!=e.name){var n=e.name,a=t.extension("layout",n);if(null!=a){var o;return o=i.string(e.eles)?t.$(e.eles):null!=e.eles?e.eles:t.$(),new a(r.extend({},e,{cy:t,eles:o}))}r.error("Can not apply layout: No such layout `"+n+"` found; did you include its JS file?")}else r.error("A `name` must be specified to make a layout");else r.error("Layout options must be specified to make a layout")}};a.createLayout=a.makeLayout=a.layout,e.exports=a},function(e,t,n){var r={notify:function notify(e){var t=this._private;if(t.batchingNotify){var n=t.batchNotifyEles,r=t.batchNotifyTypes;return e.eles&&n.merge(e.eles),void(r.ids[e.type]||(r.push(e.type),r.ids[e.type]=!0))}if(t.notificationsEnabled){var i=this.renderer();!this.isDestroyed()&&i&&i.notify(e)}},notifications:function notifications(e){var t=this._private;if(void 0===e)return t.notificationsEnabled;t.notificationsEnabled=!!e},noNotifications:function noNotifications(e){this.notifications(!1),e(),this.notifications(!0)},batching:function batching(){return this._private.batchCount>0},startBatch:function startBatch(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchingStyle=e.batchingNotify=!0,e.batchStyleEles=this.collection(),e.batchNotifyEles=this.collection(),e.batchNotifyTypes=[],e.batchNotifyTypes.ids={}),e.batchCount++,this},endBatch:function endBatch(){var e=this._private;return e.batchCount--,0===e.batchCount&&(e.batchingStyle=!1,e.batchStyleEles.updateStyle(),e.batchingNotify=!1,this.notify({type:e.batchNotifyTypes,eles:e.batchNotifyEles})),this},batch:function batch(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function batchData(e){var t=this;return this.batch(function(){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r],a=e[i];t.getElementById(i).data(a)}})}};e.exports=r},function(e,t,n){var r=n(1),i={renderTo:function renderTo(e,t,n,r){return this._private.renderer.renderTo(e,t,n,r),this},renderer:function renderer(){return this._private.renderer},forceRender:function forceRender(){return this.notify({type:"draw"}),this},resize:function resize(){return this.invalidateSize(),this.notify({type:"resize"}),this.emit("resize"),this},initRenderer:function initRenderer(e){var t=this,n=t.extension("renderer",e.name);null!=n?(t._private.renderer=new n(r.extend({},e,{cy:t})),this.notify({type:"init"})):r.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",e.name)},destroyRenderer:function destroyRenderer(){var e=this;e.notify({type:"destroy"});var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null},onRender:function onRender(e){return this.on("render",e)},offRender:function offRender(e){return this.off("render",e)}};i.invalidateDimensions=i.resize,e.exports=i},function(e,t,n){var r=n(0),i=n(7),a={collection:function collection(e,t){return r.string(e)?this.$(e):r.elementOrCollection(e)?e.collection():r.array(e)?new i(this,e,t):new i(this)},nodes:function nodes(e){var t=this.$(function(e){return e.isNode()});return e?t.filter(e):t},edges:function edges(e){var t=this.$(function(e){return e.isEdge()});return e?t.filter(e):t},$:function $(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function mutableElements(){return this._private.elements}};a.elements=a.filter=a.$,e.exports=a},function(e,t,n){var r=n(0),i=n(18),a={style:function style(e){return e&&this.setStyle(e).update(),this._private.style},setStyle:function setStyle(e){var t=this._private;return r.stylesheet(e)?t.style=e.generateStyle(this):r.array(e)?t.style=i.fromJson(this,e):r.string(e)?t.style=i.fromString(this,e):t.style=i(this),t.style}};e.exports=a},function(e,t,n){var r=n(1),i=n(0),a=n(5),o={apply:function(e){var t=this,n=t._private,i=n.cy.collection();n.newStyle&&(n.contextStyles={},n.propDiffs={},t.cleanElements(e,!0));for(var a=0;a<e.length;a++){var o=e[a],s=t.getContextMeta(o);if(!s.empty){i.merge(o);var l=t.getContextStyle(s),u=t.applyContextStyle(s,l,o);n.newStyle||t.updateTransitions(o,u.diffProps),t.updateStyleHints(o)}}return n.newStyle=!1,i},getPropertiesDiff:function(e,t){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},i=e+"-"+t,a=r[i];if(a)return a;for(var o=[],s={},l=0;l<n.length;l++){var u=n[l],h="t"===e[l]!==("t"===t[l]),p=u.mappedProperties.length>0;if(h||p){var f=void 0;h&&p?f=u.properties:h?f=u.properties:p&&(f=u.mappedProperties);for(var v=0;v<f.length;v++){for(var g=f[v],y=g.name,m=!1,b=l+1;b<n.length;b++){var x=n[b];if("t"===t[b]&&(m=null!=x.properties[g.name]))break}s[y]||m||(s[y]=!0,o.push(y))}}}return r[i]=o,o},getContextMeta:function(e){var r,t=this,n="",i=e._private.styleCxtKey||"";t._private.newStyle&&(i="");for(var a=0;a<t.length;a++){var o=t[a];n+=o.selector&&o.selector.matches(e)?"t":"f"}return r=t.getPropertiesDiff(i,n),e._private.styleCxtKey=n,{key:n,diffPropNames:r,empty:0===r.length}},getContextStyle:function(e){var t=e.key,r=this._private.contextStyles=this._private.contextStyles||{};if(r[t])return r[t];for(var i={_private:{key:t}},a=0;a<this.length;a++){var o=this[a];if("t"===t[a])for(var s=0;s<o.properties.length;s++){var l=o.properties[s];i[l.name]=l}}return r[t]=i,i},applyContextStyle:function(e,t,n){for(var i=e.diffPropNames,a={},o=0;o<i.length;o++){var s=i[o],l=t[s],u=n.pstyle(s);if(!l){if(!u)continue;l=u.bypass?{name:s,deleteBypassed:!0}:{name:s,delete:!0}}if(u!==l){var c=a[s]={prev:u};this.applyParsedProperty(n,l),c.next=n.pstyle(s),c.next&&c.next.bypass&&(c.next=c.next.bypassed)}}return{diffProps:a}},updateStyleHints:function(e){var t=e._private;if(!e.removed()){var r=!1;if("nodes"===t.group)for(var i=1;i<=this.pieBackgroundN;i++){if(e.pstyle("pie-"+i+"-background-size").value>0){r=!0;break}}t.hasPie=r;var o=e.pstyle("text-transform").strValue,s=e.pstyle("label").strValue,l=e.pstyle("source-label").strValue,u=e.pstyle("target-label").strValue,c=e.pstyle("font-style").strValue,d=e.pstyle("font-size").pfValue+"px",h=e.pstyle("font-family").strValue,p=e.pstyle("font-weight").strValue,b=c+"$"+d+"$"+h+"$"+p+"$"+o+"$"+e.pstyle("text-valign").strValue+"$"+e.pstyle("text-valign").strValue+"$"+e.pstyle("text-outline-width").pfValue+"$"+e.pstyle("text-wrap").strValue+"$"+e.pstyle("text-max-width").pfValue;t.labelStyleKey=b,t.sourceLabelKey=b+"$"+l,t.targetLabelKey=b+"$"+u,t.labelKey=b+"$"+s,t.fontKey=c+"$"+p+"$"+d+"$"+h,t.styleKey=Date.now()}},applyParsedProperty:function(e,t){var n=this,a=t,o=e._private.style,s=void 0,l=n.types,u=n.properties[a.name].type,c=a.bypass,d=o[a.name],h=d&&d.bypass,p=e._private,f=function f(){n.checkZOrderTrigger(e,a.name,d?d.value:null,a.value)};if("curve-style"===t.name&&"haystack"===t.value&&e.isEdge()&&(e.isLoop()||e.source().isParent()||e.target().isParent())&&(a=t=this.parse(t.name,"bezier",c)),a.delete)return o[a.name]=void 0,f(),!0;if(a.deleteBypassed)return d?!!d.bypass&&(d.bypassed=void 0,f(),!0):(f(),!0);if(a.deleteBypass)return d?!!d.bypass&&(o[a.name]=d.bypassed,f(),!0):(f(),!0);var v=function v(){r.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+e.id()+"` for property `"+a.name+"` with data field `"+a.field+"`); try a `["+a.field+"]` selector to limit scope to elements with `"+a.field+"` defined")};switch(a.mapped){case l.mapData:for(var g=a.field.split("."),y=p.data,m=0;m<g.length&&y;m++)y=y[g[m]];var b=void 0;if((b=i.number(y)?(y-a.fieldMin)/(a.fieldMax-a.fieldMin):0)<0?b=0:b>1&&(b=1),u.color){var x=a.valueMin[0],w=a.valueMax[0],E=a.valueMin[1],P=a.valueMax[1],C=a.valueMin[2],S=a.valueMax[2],T=null==a.valueMin[3]?1:a.valueMin[3],D=null==a.valueMax[3]?1:a.valueMax[3],k=[Math.round(x+(w-x)*b),Math.round(E+(P-E)*b),Math.round(C+(S-C)*b),Math.round(T+(D-T)*b)];s={bypass:a.bypass,name:a.name,value:k,strValue:"rgb("+k[0]+", "+k[1]+", "+k[2]+")"}}else{if(!u.number)return!1;var _=a.valueMin+(a.valueMax-a.valueMin)*b;s=this.parse(a.name,_,a.bypass,"mapping")}s||(s=this.parse(a.name,d.strValue,a.bypass,"mapping")),s||v(),s.mapping=a,a=s;break;case l.data:var M=a.field.split("."),I=p.data;if(I)for(var N=0;N<M.length;N++){I=I[M[N]]}if(!(s=this.parse(a.name,I,a.bypass,"mapping"))){var z=d?d.strValue:"";s=this.parse(a.name,z,a.bypass,"mapping")}s||v(),s.mapping=a,a=s;break;case l.fn:var A=(0,a.value)(e);(s=this.parse(a.name,A,a.bypass,"mapping")).mapping=a,a=s;break;case void 0:break;default:return!1}return c?(a.bypassed=h?d.bypassed:d,o[a.name]=a):h?d.bypassed=a:o[a.name]=a,f(),!0},cleanElements:function(e,t){for(var r=this.properties,i=0;i<e.length;i++){var a=e[i];if(t)for(var o=a._private.style,s=0;s<r.length;s++){var l=r[s],u=o[l.name];u&&(u.bypass?u.bypassed=null:o[l.name]=null)}else a._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateMappers:function(e){for(var r=this._private.cy.collection(),i=0;i<e.length;i++){for(var a=e[i],o=a._private.style,s=!1,l=0;l<this.properties.length;l++){var c=o[this.properties[l].name];if(c&&c.mapping){var d=c.mapping;this.applyParsedProperty(a,d),s=!0}}s&&(this.updateStyleHints(a),r.merge(a))}return r},updateTransitions:function(e,t,n){var r=this,o=e._private,s=e.pstyle("transition-property").value,l=e.pstyle("transition-duration").pfValue,u=e.pstyle("transition-delay").pfValue;if(s.length>0&&l>0){for(var c={},d=!1,h=0;h<s.length;h++){var p=s[h],f=e.pstyle(p),v=t[p];if(v){var y=v.prev,m=null!=v.next?v.next:f,b=!1,x=void 0;y&&(i.number(y.pfValue)&&i.number(m.pfValue)?(b=m.pfValue-y.pfValue,x=y.pfValue+1e-6*b):i.number(y.value)&&i.number(m.value)?(b=m.value-y.value,x=y.value+1e-6*b):i.array(y.value)&&i.array(m.value)&&(b=y.value[0]!==m.value[0]||y.value[1]!==m.value[1]||y.value[2]!==m.value[2],x=y.strValue),b&&(c[p]=m.strValue,this.applyBypass(e,p,x),d=!0))}}if(!d)return;o.transitioning=!0,new a(function(t){u>0?e.delayAnimation(u).play().promise().then(t):t()}).then(function(){return e.animation({style:c,duration:l,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(e,s),e.emitAndNotify("style"),o.transitioning=!1})}else o.transitioning&&(this.removeBypasses(e,s),e.emitAndNotify("style"),o.transitioning=!1)},checkZOrderTrigger:function(e,t,n,r){var i=this.properties[t];null==i.triggersZOrder||null!=n&&!i.triggersZOrder(n,r)||this._private.cy.notify({type:"zorder",eles:e})}};e.exports=o},function(e,t,n){var r=n(0),i=n(1),a={applyBypass:function(e,t,n,a){var o=this,s=[];if("*"===t||"**"===t){if(void 0!==n)for(var l=0;l<o.properties.length;l++){var c=o.properties[l].name,d=this.parse(c,n,!0);d&&s.push(d)}}else if(r.string(t)){var h=this.parse(t,n,!0);h&&s.push(h)}else{if(!r.plainObject(t))return!1;var p=t;a=n;for(var f=Object.keys(p),v=0;v<f.length;v++){var g=f[v],y=(o.properties[g],p[g]);if(void 0===y&&(y=p[i.dash2camel(g)]),void 0!==y){var m=this.parse(g,y,!0);m&&s.push(m)}}}if(0===s.length)return!1;for(var b=!1,x=0;x<e.length;x++){for(var w=e[x],E={},P=void 0,C=0;C<s.length;C++){var S=s[C];if(a){var T=w.pstyle(S.name);P=E[S.name]={prev:T}}b=this.applyParsedProperty(w,S)||b,a&&(P.next=w.pstyle(S.name))}b&&this.updateStyleHints(w),a&&this.updateTransitions(w,E,!0)}return b},overrideBypass:function(e,t,n){t=i.camel2dash(t);for(var r=0;r<e.length;r++){var a=e[r],o=a._private.style[t],s=this.properties[t].type,l=s.color,u=s.mutiple;if(o&&o.bypass){var c=null!=o.pfValue?o.pfValue:o.value;o.value=n,null!=o.pfValue&&(o.pfValue=n),o.strValue=l?"rgb("+n.join(",")+")":u?n.join(" "):""+n,this.checkZOrderTrigger(a,t,c,n)}else this.applyBypass(a,t,n)}},removeAllBypasses:function(e,t){return this.removeBypasses(e,this.propertyNames,t)},removeBypasses:function(e,t,n){for(var r=0;r<e.length;r++){for(var i=e[r],a={},o=0;o<t.length;o++){var s=t[o],l=this.properties[s],u=i.pstyle(l.name);if(u&&u.bypass){var c=this.parse(s,"",!0),d=a[l.name]={prev:u};this.applyParsedProperty(i,c),d.next=i.pstyle(l.name)}}this.updateStyleHints(i),n&&this.updateTransitions(i,a,!0)}}};e.exports=a},function(e,t,n){var r=n(3),i={getEmSizeInPixels:function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},containerCss:function(e){var n=this._private.cy.container();if(r&&n&&r.getComputedStyle)return r.getComputedStyle(n).getPropertyValue(e)}};e.exports=i},function(e,t,n){var r=n(1),i=n(0),a={getRenderedStyle:function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},getRawStyle:function(e,t){var n=this;if(e=e[0]){for(var i={},a=0;a<n.properties.length;a++){var o=n.properties[a],s=n.getStylePropertyValue(e,o.name,t);null!=s&&(i[o.name]=s,i[r.dash2camel(o.name)]=s)}return i}},getIndexedStyle:function(e,t,n,r){var i=e.pstyle(t)[n][r];return null!=i?i:e.cy().style().getDefaultProperty(t)[n][0]},getStylePropertyValue:function(e,t,n){if(e=e[0]){var i=this.properties[t];i.alias&&(i=i.pointsTo);var a=i.type,o=e.pstyle(i.name),s=e.cy().zoom();if(o){var l=o.units?a.implicitUnits||"px":null;return l?[].concat(o.pfValue).map(function(e){return e*(n?s:1)+l}).join(" "):o.strValue}}},getAnimationStartStyle:function(e,t){for(var n={},r=0;r<t.length;r++){var o=t[r].name,s=e.pstyle(o);void 0!==s&&(s=i.plainObject(s)?this.parse(o,s.strValue):this.parse(o,s)),s&&(n[o]=s)}return n},getPropsList:function(e){var n=[],i=e,a=this.properties;if(i)for(var o=Object.keys(i),s=0;s<o.length;s++){var l=o[s],u=i[l],c=a[l]||a[r.camel2dash(l)],d=this.parse(c.name,u);d&&n.push(d)}return n}};e.exports=a},function(e,t,n){var r={appendFromJson:function(e){for(var t=this,n=0;n<e.length;n++){var r=e[n],i=r.selector,a=r.style||r.css,o=Object.keys(a);t.selector(i);for(var s=0;s<o.length;s++){var l=o[s],u=a[l];t.css(l,u)}}return t},fromJson:function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},json:function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,i=n.properties,a={},o=0;o<i.length;o++){var s=i[o];a[s.name]=s.strValue}e.push({selector:r?r.toString():"core",style:a})}return e}};e.exports=r},function(e,t,n){var r=n(1),i=n(6),a={appendFromString:function(e){function t(){s=s.length>l.length?s.substr(l.length):""}function n(){u=u.length>c.length?u.substr(c.length):""}var o=this,s=""+e,l=void 0,u=void 0,c=void 0;for(s=s.replace(/[\/][*](\s|.)+?[*][\/]/g,"");!s.match(/^\s*$/);){var d=s.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!d){r.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+s);break}l=d[0];var h=d[1];if("core"!==h&&new i(h)._private.invalid)r.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),t();else{var p=d[2],f=!1;u=p;for(var v=[];!u.match(/^\s*$/);){var g=u.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!g){r.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+p),f=!0;break}c=g[0];var y=g[1],m=g[2];this.properties[y]?o.parse(y,m)?(v.push({name:y,val:m}),n()):(r.error("Skipping property: Invalid property definition in: "+c),n()):(r.error("Skipping property: Invalid property name in: "+c),n())}if(f){t();break}o.selector(h);for(var b=0;b<v.length;b++){var x=v[b];o.css(x.name,x.val)}t()}}return o},fromString:function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t}};e.exports=a},function(e,t,n){var r=n(1),i=n(0),a={};!function(){var e=r.regex.number,t=r.regex.rgbaNoBackRefs,n=r.regex.hslaNoBackRefs,o=r.regex.hex3,s=r.regex.hex6,l=function l(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},u=function u(r){var i=e+"|\\w+|"+t+"|"+n+"|"+o+"|"+s;return"^"+r+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+i+")\\s*\\,\\s*("+i+")\\)$"},c=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];a.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"]},color:{color:!0},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontletiant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:["rectangle","roundrectangle","cutrectangle","bottomroundrectangle","barrel","ellipse","triangle","square","pentagon","hexagon","concavehexagon","heptagon","octagon","tag","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-cross","triangle-backcurve","half-triangle-overshot","vee","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:l("data")},layoutData:{mapping:!0,regex:l("layoutData")},scratch:{mapping:!0,regex:l("scratch")},mapData:{mapping:!0,regex:u("mapData")},mapLayoutData:{mapping:!0,regex:u("mapLayoutData")},mapScratch:{mapping:!0,regex:u("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:c,singleRegexMatchValue:!0},urls:{regexes:c,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-line"],singleEnum:!0,validate:function validate(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return i.string(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]}};var h={zeroNonZero:function zeroNonZero(e,t){return 0===e&&0!==t||0!==e&&0===t},anyDiff:function anyDiff(e,t){return e!==t}},p=a.types,f=a.properties=[{name:"label",type:p.text},{name:"text-rotation",type:p.textRotation},{name:"text-margin-x",type:p.bidirectionalSize},{name:"text-margin-y",type:p.bidirectionalSize},{name:"source-label",type:p.text},{name:"source-text-rotation",type:p.textRotation},{name:"source-text-margin-x",type:p.bidirectionalSize},{name:"source-text-margin-y",type:p.bidirectionalSize},{name:"source-text-offset",type:p.size},{name:"target-label",type:p.text},{name:"target-text-rotation",type:p.textRotation},{name:"target-text-margin-x",type:p.bidirectionalSize},{name:"target-text-margin-y",type:p.bidirectionalSize},{name:"target-text-offset",type:p.size},{name:"text-valign",type:p.valign},{name:"text-halign",type:p.halign},{name:"color",type:p.color},{name:"text-outline-color",type:p.color},{name:"text-outline-width",type:p.size},{name:"text-outline-opacity",type:p.zeroOneNumber},{name:"text-opacity",type:p.zeroOneNumber},{name:"text-background-color",type:p.color},{name:"text-background-opacity",type:p.zeroOneNumber},{name:"text-background-padding",type:p.size},{name:"text-border-opacity",type:p.zeroOneNumber},{name:"text-border-color",type:p.color},{name:"text-border-width",type:p.size},{name:"text-border-style",type:p.borderStyle},{name:"text-background-shape",type:p.textBackgroundShape},{name:"text-transform",type:p.textTransform},{name:"text-wrap",type:p.textWrap},{name:"text-max-width",type:p.size},{name:"text-events",type:p.bool},{name:"font-family",type:p.fontFamily},{name:"font-style",type:p.fontStyle},{name:"font-weight",type:p.fontWeight},{name:"font-size",type:p.size},{name:"min-zoomed-font-size",type:p.size},{name:"events",type:p.bool},{name:"display",type:p.display,triggersZOrder:h.anyDiff},{name:"visibility",type:p.visibility,triggersZOrder:h.anyDiff},{name:"opacity",type:p.zeroOneNumber,triggersZOrder:h.zeroNonZero},{name:"z-compound-depth",type:p.zCompoundDepth,triggersZOrder:h.anyDiff},{name:"z-index-compare",type:p.zIndexCompare,triggersZOrder:h.anyDiff},{name:"z-index",type:p.nonNegativeInt,triggersZOrder:h.anyDiff},{name:"overlay-padding",type:p.size},{name:"overlay-color",type:p.color},{name:"overlay-opacity",type:p.zeroOneNumber},{name:"transition-property",type:p.propList},{name:"transition-duration",type:p.time},{name:"transition-delay",type:p.time},{name:"transition-timing-function",type:p.easing},{name:"height",type:p.nodeSize},{name:"width",type:p.nodeSize},{name:"shape",type:p.nodeShape},{name:"shape-polygon-points",type:p.polygonPointList},{name:"background-color",type:p.color},{name:"background-opacity",type:p.zeroOneNumber},{name:"background-blacken",type:p.nOneOneNumber},{name:"padding",type:p.sizeMaybePercent},{name:"padding-relative-to",type:p.paddingRelativeTo},{name:"border-color",type:p.color},{name:"border-opacity",type:p.zeroOneNumber},{name:"border-width",type:p.size},{name:"border-style",type:p.borderStyle},{name:"background-image",type:p.urls},{name:"background-image-crossorigin",type:p.bgCrossOrigin},{name:"background-image-opacity",type:p.zeroOneNumbers},{name:"background-position-x",type:p.bgPos},{name:"background-position-y",type:p.bgPos},{name:"background-width-relative-to",type:p.bgRelativeTo},{name:"background-height-relative-to",type:p.bgRelativeTo},{name:"background-repeat",type:p.bgRepeat},{name:"background-fit",type:p.bgFit},{name:"background-clip",type:p.bgClip},{name:"background-width",type:p.bgWH},{name:"background-height",type:p.bgWH},{name:"position",type:p.position},{name:"compound-sizing-wrt-labels",type:p.compoundIncludeLabels},{name:"min-width",type:p.size},{name:"min-width-bias-left",type:p.sizeMaybePercent},{name:"min-width-bias-right",type:p.sizeMaybePercent},{name:"min-height",type:p.size},{name:"min-height-bias-top",type:p.sizeMaybePercent},{name:"min-height-bias-bottom",type:p.sizeMaybePercent},{name:"line-style",type:p.lineStyle},{name:"line-color",type:p.color},{name:"curve-style",type:p.curveStyle},{name:"haystack-radius",type:p.zeroOneNumber},{name:"source-endpoint",type:p.edgeEndpoint},{name:"target-endpoint",type:p.edgeEndpoint},{name:"control-point-step-size",type:p.size},{name:"control-point-distances",type:p.bidirectionalSizes},{name:"control-point-weights",type:p.numbers},{name:"segment-distances",type:p.bidirectionalSizes},{name:"segment-weights",type:p.numbers},{name:"edge-distances",type:p.edgeDistances},{name:"arrow-scale",type:p.positiveNumber},{name:"loop-direction",type:p.angle},{name:"loop-sweep",type:p.angle},{name:"source-distance-from-node",type:p.size},{name:"target-distance-from-node",type:p.size},{name:"ghost",type:p.bool},{name:"ghost-offset-x",type:p.bidirectionalSize},{name:"ghost-offset-y",type:p.bidirectionalSize},{name:"ghost-opacity",type:p.zeroOneNumber},{name:"selection-box-color",type:p.color},{name:"selection-box-opacity",type:p.zeroOneNumber},{name:"selection-box-border-color",type:p.color},{name:"selection-box-border-width",type:p.size},{name:"active-bg-color",type:p.color},{name:"active-bg-opacity",type:p.zeroOneNumber},{name:"active-bg-size",type:p.size},{name:"outside-texture-bg-color",type:p.color},{name:"outside-texture-bg-opacity",type:p.zeroOneNumber}],v=a.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];a.pieBackgroundN=16,f.push({name:"pie-size",type:p.sizeMaybePercent});for(var g=1;g<=a.pieBackgroundN;g++)f.push({name:"pie-"+g+"-background-color",type:p.color}),f.push({name:"pie-"+g+"-background-size",type:p.percent}),f.push({name:"pie-"+g+"-background-opacity",type:p.zeroOneNumber});var y=a.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:p.arrowShape},{name:"arrow-color",type:p.color},{name:"arrow-fill",type:p.arrowFill}].forEach(function(e){y.forEach(function(t){var n=t+"-"+e.name,r=e.type;f.push({name:n,type:r})})},{}),a.propertyNames=f.map(function(e){return e.name});for(var m=0;m<f.length;m++){var b=f[m];f[b.name]=b}for(var x=0;x<v.length;x++){var w=v[x],E=f[w.pointsTo],P={name:w.name,alias:!0,pointsTo:E};f.push(P),f[w.name]=P}}(),a.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},a.getDefaultProperties=r.memoize(function(){for(var e=r.extend({events:"yes","text-events":"no","text-valign":"top","text-halign":"center",color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var n=1;n<=a.pieBackgroundN;n++){var r=t.name.replace("{{i}}",n),i=t.value;e[r]=i}return e},{}),{"line-style":"solid","line-color":"#999","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"edge-distances":"intersection","curve-style":"bezier","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node"},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(e,t){return a.arrowPrefixes.forEach(function(n){var r=n+"-"+t.name,i=t.value;e[r]=i}),e},{})),t={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var o=i.name,s=e[o],l=this.parse(o,s);t[o]=l}}return t}),a.addDefaultStylesheet=function(){this.selector("$node > node").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3,"curve-style":"haystack"}).selector(":parent <-> node").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector("node:parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125}),this.defaultLength=this.length},e.exports=a},function(e,t,n){var r=n(1),i=n(0),a=n(2),o={parse:function(e,t,n,a){var o=this;if(i.fn(t))return o.parseImplWarn(e,t,n,a);var l=[e,t,n,"mapping"===a||!0===a||!1===a||null==a?"dontcare":a].join("$"),u=o.propCache=o.propCache||{},c=void 0;return(c=u[l])||(c=u[l]=o.parseImplWarn(e,t,n,a)),(n||"mapping"===a)&&(c=r.copy(c))&&(c.value=r.copy(c.value)),c},parseImplWarn:function(e,t,n,i){var a=this.parseImpl(e,t,n,i);return a||null==t||r.error("The style property `%s: %s` is invalid",e,t),a},parseImpl:function(e,t,n,o){var s=this;e=r.camel2dash(e);var l=s.properties[e],u=t,c=s.types;if(!l)return null;if(void 0===t)return null;l.alias&&(l=l.pointsTo,e=l.name);var d=i.string(t);d&&(t=t.trim());var h=l.type;if(!h)return null;if(n&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(i.fn(t))return{name:e,value:t,strValue:"fn",mapped:c.fn,bypass:n};var p=void 0,f=void 0;if(!d||o);else{if(p=new RegExp(c.data.regex).exec(t)){if(n)return!1;var v=c.data;return{name:e,value:p,strValue:""+t,mapped:v,field:p[1],bypass:n}}if(f=new RegExp(c.mapData.regex).exec(t)){if(n)return!1;if(h.multiple)return!1;var g=c.mapData;if(!h.color&&!h.number)return!1;var y=this.parse(e,f[4]);if(!y||y.mapped)return!1;var m=this.parse(e,f[5]);if(!m||m.mapped)return!1;if(y.value===m.value)return!1;if(h.color){var b=y.value,x=m.value;if(!(b[0]!==x[0]||b[1]!==x[1]||b[2]!==x[2]||b[3]!==x[3]&&(null!=b[3]&&1!==b[3]||null!=x[3]&&1!==x[3])))return!1}return{name:e,value:f,strValue:""+t,mapped:g,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:y.value,valueMax:m.value,bypass:n}}}if(h.multiple&&"multiple"!==o){var w;if(w=d?t.split(/\s+/):i.array(t)?t:[t],h.evenMultiple&&w.length%2!=0)return null;for(var E=[],P=[],C=[],S=!1,T=0;T<w.length;T++){var D=s.parse(e,w[T],n,"multiple");S=S||i.string(D.value),E.push(D.value),C.push(null!=D.pfValue?D.pfValue:D.value),P.push(D.units)}return h.validate&&!h.validate(E,P)?null:h.singleEnum&&S?1===E.length&&i.string(E[0])?{name:e,value:E[0],strValue:E[0],bypass:n}:null:{name:e,value:E,pfValue:C,strValue:E.map(function(e,t){return e+(P[t]||"")}).join(" "),bypass:n,units:P}}var k=function k(){for(var r=0;r<h.enums.length;r++)if(h.enums[r]===t)return{name:e,value:t,strValue:""+t,bypass:n};return null};if(h.number){var _=void 0,M="px";if(h.units&&(_=h.units),h.implicitUnits&&(M=h.implicitUnits),!h.unitless)if(d){var I="px|em"+(h.allowPercent?"|\\%":"");_&&(I=_);var N=t.match("^("+r.regex.number+")("+I+")?$");N&&(t=N[1],_=N[2]||M)}else _&&!h.implicitUnits||(_=M);if(t=parseFloat(t),isNaN(t)&&void 0===h.enums)return null;if(isNaN(t)&&void 0!==h.enums)return t=u,k();if(h.integer&&!i.integer(t))return null;if(void 0!==h.min&&(t<h.min||h.strictMin&&t===h.min)||void 0!==h.max&&(t>h.max||h.strictMax&&t===h.max))return null;var B={name:e,value:t,strValue:""+t+(_||""),units:_,bypass:n};return h.unitless||"px"!==_&&"em"!==_?B.pfValue=t:B.pfValue="px"!==_&&_?this.getEmSizeInPixels()*t:t,"ms"!==_&&"s"!==_||(B.pfValue="ms"===_?t:1e3*t),"deg"!==_&&"rad"!==_||(B.pfValue="rad"===_?t:a.deg2rad(t)),"%"===_&&(B.pfValue=t/100),B}if(h.propList){var z=[],L=""+t;if("none"===L);else{for(var A=L.split(","),O=0;O<A.length;O++){var R=A[O].trim();s.properties[R]&&z.push(R)}if(0===z.length)return null}return{name:e,value:z,strValue:0===z.length?"none":z.join(", "),bypass:n}}if(h.color){var V=r.color2tuple(t);return V?{name:e,value:V,pfValue:V,strValue:""+t,bypass:n}:null}if(h.regex||h.regexes){if(h.enums){var q=k();if(q)return q}for(var F=h.regexes?h.regexes:[h.regex],j=0;j<F.length;j++){var Y=new RegExp(F[j]).exec(t);if(Y)return{name:e,value:h.singleRegexMatchValue?Y[1]:Y,strValue:""+t,bypass:n}}return null}return h.string?{name:e,value:""+t,strValue:""+t,bypass:n}:h.enums?k():null}};e.exports=o},function(e,t,n){var r=n(0),i=n(3),a=n(2),o={autolock:function autolock(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function autoungrabify(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function autounselectify(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},panningEnabled:function panningEnabled(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function userPanningEnabled(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function zoomingEnabled(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function userZoomingEnabled(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function boxSelectionEnabled(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function pan(){var e=arguments,t=this._private.pan,n=void 0,i=void 0,a=void 0,o=void 0,s=void 0;switch(e.length){case 0:return t;case 1:if(r.string(e[0]))return t[n=e[0]];if(r.plainObject(e[0])){if(!this._private.panningEnabled)return this;o=(a=e[0]).x,s=a.y,r.number(o)&&(t.x=o),r.number(s)&&(t.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],i=e[1],"x"!==n&&"y"!==n||!r.number(i)||(t[n]=i),this.emit("pan viewport")}return this.notify({type:"viewport"}),this},panBy:function panBy(e,t){var n=arguments,i=this._private.pan,a=void 0,o=void 0,s=void 0,l=void 0,u=void 0;if(!this._private.panningEnabled)return this;switch(n.length){case 1:r.plainObject(e)&&(l=(s=n[0]).x,u=s.y,r.number(l)&&(i.x+=l),r.number(u)&&(i.y+=u),this.emit("pan viewport"));break;case 2:o=t,"x"!==(a=e)&&"y"!==a||!r.number(o)||(i[a]+=o),this.emit("pan viewport")}return this.notify({type:"viewport"}),this},fit:function fit(e,t){var n=this.getFitViewport(e,t);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.emit("pan zoom viewport"),this.notify({type:"viewport"})}return this},getFitViewport:function getFitViewport(e,t){if(r.number(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n=void 0;if(r.string(e)){var i=e;e=this.$(i)}else if(r.boundingBox(e)){var a=e;(n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1}else r.elementOrCollection(e)||(e=this.mutableElements());if(!r.elementOrCollection(e)||!e.empty()){n=n||e.boundingBox();var o=this.width(),s=this.height(),l=void 0;if(t=r.number(t)?t:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:l=(l=(l=Math.min((o-2*t)/n.w,(s-2*t)/n.h))>this._private.maxZoom?this._private.maxZoom:l)<this._private.minZoom?this._private.minZoom:l,pan:{x:(o-l*(n.x1+n.x2))/2,y:(s-l*(n.y1+n.y2))/2}}}}},minZoom:function minZoom(e){return void 0===e?this._private.minZoom:(r.number(e)&&(this._private.minZoom=e),this)},maxZoom:function maxZoom(e){return void 0===e?this._private.maxZoom:(r.number(e)&&(this._private.maxZoom=e),this)},getZoomedViewport:function getZoomedViewport(e){var t=this._private,n=t.pan,i=t.zoom,o=void 0,s=void 0,l=!1;if(t.zoomingEnabled||(l=!0),r.number(e)?s=e:r.plainObject(e)&&(s=e.level,null!=e.position?o=a.modelToRenderedPosition(e.position,i,n):null!=e.renderedPosition&&(o=e.renderedPosition),null==o||t.panningEnabled||(l=!0)),s=(s=s>t.maxZoom?t.maxZoom:s)<t.minZoom?t.minZoom:s,l||!r.number(s)||s===i||null!=o&&(!r.number(o.x)||!r.number(o.y)))return null;if(null!=o){var u=n,c=i,d=s;return{zoomed:!0,panned:!0,zoom:d,pan:{x:-d/c*(o.x-u.x)+o.x,y:-d/c*(o.y-u.y)+o.y}}}return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function zoom(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return null!=t&&t.zoomed?(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify({type:"viewport"}),this):this},viewport:function viewport(e){var t=this._private,n=!0,i=!0,a=[],o=!1,s=!1;if(!e)return this;if(r.number(e.zoom)||(n=!1),r.plainObject(e.pan)||(i=!1),!n&&!i)return this;if(n){var l=e.zoom;l<t.minZoom||l>t.maxZoom||!t.zoomingEnabled?o=!0:(t.zoom=l,a.push("zoom"))}if(i&&(!o||!e.cancelOnFailedZoom)&&t.panningEnabled){var u=e.pan;r.number(u.x)&&(t.pan.x=u.x,s=!1),r.number(u.y)&&(t.pan.y=u.y,s=!1),s||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify({type:"viewport"})),this},center:function center(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify({type:"viewport"})),this},getCenterPan:function getCenterPan(e,t){if(this._private.panningEnabled){if(r.string(e)){var n=e;e=this.mutableElements().filter(n)}else r.elementOrCollection(e)||(e=this.mutableElements());if(0!==e.length){var i=e.boundingBox(),a=this.width(),o=this.height();return{x:(a-(t=void 0===t?this._private.zoom:t)*(i.x1+i.x2))/2,y:(o-t*(i.y1+i.y2))/2}}}},reset:function reset(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function invalidateSize(){this._private.sizeCache=null},size:function size(){var e=this._private,t=e.container;return e.sizeCache=e.sizeCache||(t?function(){var e=i.getComputedStyle(t),n=function n(t){return parseFloat(e.getPropertyValue(t))};return{width:t.clientWidth-n("padding-left")-n("padding-right"),height:t.clientHeight-n("padding-top")-n("padding-bottom")}}():{width:1,height:1})},width:function width(){return this.size().width},height:function height(){return this.size().height},extent:function extent(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function renderedExtent(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}}};o.centre=o.center,o.autolockNodes=o.autolock,o.autoungrabifyNodes=o.autoungrabify,e.exports=o},function(e,t,n){function r(e,t,n){var r=n,a=function a(n){s.error("Can not register `"+t+"` for `"+e+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===e){if(c.prototype[t])return a(t);c.prototype[t]=n}else if("collection"===e){if(u.prototype[t])return a(t);u.prototype[t]=n}else if("layout"===e){for(var o=function o(e){this.options=e,n.call(this,e),h.plainObject(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},d=o.prototype=Object.create(n.prototype),v=[],g=0;g<v.length;g++){var y=v[g];d[y]=d[y]||function(){return this}}d.start&&!d.run?d.run=function(){return this.start(),this}:!d.start&&d.run&&(d.start=function(){return this.run(),this});var m=n.prototype.stop;d.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var n=0;n<t.length;n++)t[n].stop()}return m?m.call(this):this.emit("layoutstop"),this},d.destroy||(d.destroy=function(){return this}),d.cy=function(){return this._private.cy};var b=function b(e){return e._private.cy};s.assign(d,{createEmitter:function createEmitter(){return this._private.emitter=new p({eventFields:function eventFields(e){return{layout:e,cy:b(e),target:e}},bubble:function bubble(){return!0},parent:function parent(e){return b(e)},context:this}),this},emitter:function emitter(){return this._private.emitter},on:function on(e,t){return this.emitter().on(e,t),this},one:function one(e,t){return this.emitter().one(e,t),this},once:function once(e,t){return this.emitter().one(e,t),this},removeListener:function removeListener(e,t){return this.emitter().removeListener(e,t),this},emit:function emit(e,t){return this.emitter().emit(e,t),this}}),l.eventAliasesOn(d),r=o}else if("renderer"===e&&"null"!==t&&"base"!==t){var x=i("renderer","base"),w=x.prototype,E=n,P=n.prototype,C=function C(){x.apply(this,arguments),E.apply(this,arguments)},S=C.prototype;for(var T in w){var D=w[T];if(null!=P[T])return a(T);S[T]=D}for(var _ in P)S[_]=P[_];w.clientFunctions.forEach(function(e){S[e]=S[e]||function(){s.error("Renderer does not implement `renderer."+e+"()` on its prototype")}}),r=C}return s.setMap({map:f,keys:[e,t],value:r})}function i(e,t){return s.getMap({map:f,keys:[e,t]})}var s=n(1),l=n(4),u=n(7),c=n(12),d=n(96),h=n(0),p=n(11),f={},v={},g=function g(){return 2===arguments.length?i.apply(null,arguments):3===arguments.length?r.apply(null,arguments):4===arguments.length?function o(e,t,n,r){return s.getMap({map:v,keys:[e,t,n,r]})}.apply(null,arguments):5===arguments.length?function a(e,t,n,r,i){return s.setMap({map:v,keys:[e,t,n,r],value:i})}.apply(null,arguments):void s.error("Invalid extension access syntax")};c.prototype.extension=g,d.forEach(function(e){e.extensions.forEach(function(t){r(e.type,t.name,t.impl)})}),e.exports=g},function(e,t,n){e.exports=[{type:"layout",extensions:n(97)},{type:"renderer",extensions:n(107)}]},function(e,t,n){e.exports=[{name:"breadthfirst",impl:n(98)},{name:"circle",impl:n(99)},{name:"concentric",impl:n(100)},{name:"cose",impl:n(101)},{name:"grid",impl:n(102)},{name:"null",impl:n(103)},{name:"preset",impl:n(104)},{name:"random",impl:n(105)},{name:"tree",impl:n(106)}]},function(e,t,n){function r(e){this.options=i.extend({},s,e)}var i=n(1),a=n(2),o=n(0),s={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function animateFilter(e,t){return!0},ready:void 0,stop:void 0,transform:function transform(e,t){return t}};r.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=r.nodes().not(":parent"),s=r,l=a.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u=void 0;if(o.elementOrCollection(t.roots))u=t.roots;else if(o.array(t.roots)){for(var c=[],d=0;d<t.roots.length;d++){var h=t.roots[d],p=n.getElementById(h);c.push(p)}u=n.collection(c)}else if(o.string(t.roots))u=n.$(t.roots);else if(t.directed)u=i.roots();else{for(var f=[],v=i;v.length>0;)!function(){var e=n.collection();r.bfs({roots:v[0],visit:function visit(t,n,r,i,a){e=e.add(t)},directed:!1}),v=v.not(e),f.push(e)}();u=n.collection();for(var g=0;g<f.length;g++)!function(e){var t=f[g],n=t.maxDegree(!1),r=t.filter(function(e){return e.degree(!1)===n});u=u.add(r)}()}var y=[],m={},b={},x={},w={},E={};s.bfs({roots:u,directed:t.directed,visit:function visit(e,t,n,r,i){var a=e[0],o=a.id();if(y[i]||(y[i]=[]),y[i].push(a),m[o]=!0,b[o]=i,x[o]=n,w[o]=t,n){var s=n.id();(E[s]=E[s]||[]).push(e)}}});for(var P=[],C=0;C<i.length;C++){var S=i[C];m[S.id()]||P.push(S)}for(var T=3*P.length,D=0;0!==P.length&&D<T;){for(var k=P.shift(),_=k.neighborhood().nodes(),M=!1,I=0;I<_.length;I++){var N=b[_[I].id()];if(void 0!==N){y[N].push(k),M=!0;break}}M||P.push(k),D++}for(;0!==P.length;){var B=P.shift();0===y.length&&y.push([]),y[0].push(B)}var z=function z(){for(var e=0;e<y.length;e++)for(var t=y[e],n=0;n<t.length;n++){var r=t[n];null!=r?r._private.scratch.breadthfirst={depth:e,index:n}:(t.splice(n,1),n--)}};z();for(var L=0;L<t.maximalAdjustments;L++){for(var A=y.length,O=[],R=0;R<A;R++)for(var V=y[R],q=V.length,F=0;F<q;F++){var j=V[F],X=j._private.scratch.breadthfirst,Y=function(e){for(var t=e.connectedEdges(function(t){return t.data("target")===e.id()}),n=e._private.scratch.breadthfirst,r=0,i=void 0,a=0;a<t.length;a++){var s=t[a].source()[0],l=s._private.scratch.breadthfirst;n.depth<=l.depth&&r<l.depth&&(r=l.depth,i=s)}return i}(j);Y&&(X.intEle=Y,O.push(j))}for(var W=0;W<O.length;W++){var H=O[W],Z=H._private.scratch.breadthfirst,U=Z.intEle._private.scratch.breadthfirst;y[Z.depth][Z.index]=null;for(var G=U.depth+1;G>y.length-1;)y.push([]);y[G].push(H),Z.depth=G,Z.index=y[G].length-1}z()}var Q=0;if(t.avoidOverlap)for(var K=0;K<i.length;K++){var ee=i[K].layoutDimensions(t),te=ee.w,ne=ee.h;Q=Math.max(Q,te,ne)}for(var re={},ie=function ie(e){if(re[e.id()])return re[e.id()];for(var t=e._private.scratch.breadthfirst.depth,n=e.neighborhood().nodes().not(":parent").intersection(i),r=0,a=0,o=0;o<n.length;o++){var l=n[o]._private.scratch.breadthfirst,u=l.index,c=l.depth,d=y[c].length;(t>c||0===t)&&(r+=u/d,a++)}return r/=a=Math.max(1,a),0===a&&(r=void 0),re[e.id()]=r,r},ae=function ae(e,t){return ie(e)-ie(t)},oe=0;oe<3;oe++){for(var se=0;se<y.length;se++)y[se]=y[se].sort(ae);z()}for(var le=0,ue=0;ue<y.length;ue++)le=Math.max(y[ue].length,le);for(var ce={x:l.x1+l.w/2,y:l.x1+l.h/2},de={},he=y.length-1;he>=0;he--)for(var pe=y[he],fe=0;fe<pe.length;fe++){var ve=pe[fe];de[ve.id()]=function(e,n){var r=e._private.scratch.breadthfirst,i=r.depth,a=r.index,o=y[i].length,s=Math.max(l.w/(o+1),Q),u=Math.max(l.h/(y.length+1),Q),c=Math.min(l.w/2/y.length,l.h/2/y.length);if(c=Math.max(c,Q),t.circle){if(t.circle){var d=c*i+c-(y.length>0&&y[0].length<=3?c/2:0),h=2*Math.PI/y[i].length*a;return 0===i&&1===y[0].length&&(d=1),{x:ce.x+d*Math.cos(h),y:ce.y+d*Math.sin(h)}}return{x:ce.x+(a+1-(o+1)/2)*s,y:(i+1)*u}}return{x:ce.x+(a+1-(o+1)/2)*s,y:(i+1)*u}}(ve,y.length)}return i.layoutPositions(this,t,function(e){return de[e.id()]}),this},e.exports=r},function(e,t,n){function r(e){this.options=i.extend({},s,e)}var i=n(1),a=n(2),o=n(0),s={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function animateFilter(e,t){return!0},ready:void 0,stop:void 0,transform:function transform(e,t){return t}};r.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,s=r.nodes().not(":parent");t.sort&&(s=s.sort(t.sort));for(var l=a.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u={x:l.x1+l.w/2,y:l.y1+l.h/2},d=(void 0===t.sweep?2*Math.PI-2*Math.PI/s.length:t.sweep)/Math.max(1,s.length-1),h=void 0,p=0,f=0;f<s.length;f++){var g=s[f].layoutDimensions(t),y=g.w,m=g.h;p=Math.max(p,y,m)}if(h=o.number(t.radius)?t.radius:s.length<=1?0:Math.min(l.h,l.w)/2-p,s.length>1&&t.avoidOverlap){p*=1.75;var b=Math.cos(d)-Math.cos(0),x=Math.sin(d)-Math.sin(0),w=Math.sqrt(p*p/(b*b+x*x));h=Math.max(w,h)}return s.layoutPositions(this,t,function E(e,n){var r=t.startAngle+n*d*(i?1:-1),a=h*Math.cos(r),o=h*Math.sin(r);return{x:u.x+a,y:u.y+o}}),this},e.exports=r},function(e,t,n){function r(e){this.options=i.extend({},o,e)}var i=n(1),a=n(2),o={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function concentric(e){return e.degree()},levelWidth:function levelWidth(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function animateFilter(e,t){return!0},ready:void 0,stop:void 0,transform:function transform(e,t){return t}};r.prototype.run=function(){for(var e=this.options,t=e,n=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,r=e.cy,o=t.eles.nodes().not(":parent"),s=a.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},u=[],c=(t.startAngle,0),d=0;d<o.length;d++){var p,h=o[d];p=t.concentric(h),u.push({value:p,node:h}),h._private.scratch.concentric=p}o.updateStyle();for(var f=0;f<o.length;f++){var g=o[f].layoutDimensions(t);c=Math.max(c,g.w,g.h)}u.sort(function(e,t){return t.value-e.value});for(var y=t.levelWidth(o),m=[[]],b=m[0],x=0;x<u.length;x++){var w=u[x];b.length>0&&Math.abs(b[0].value-w.value)>=y&&(b=[],m.push(b)),b.push(w)}var E=c+t.minNodeSpacing;if(!t.avoidOverlap){var P=m.length>0&&m[0].length>1,S=(Math.min(s.w,s.h)/2-E)/(m.length+P?1:0);E=Math.min(E,S)}for(var T=0,D=0;D<m.length;D++){var k=m[D],_=void 0===t.sweep?2*Math.PI-2*Math.PI/k.length:t.sweep,M=k.dTheta=_/Math.max(1,k.length-1);if(k.length>1&&t.avoidOverlap){var I=Math.cos(M)-Math.cos(0),N=Math.sin(M)-Math.sin(0),B=Math.sqrt(E*E/(I*I+N*N));T=Math.max(B,T)}k.r=T,T+=E}if(t.equidistant){for(var z=0,L=0,A=0;A<m.length;A++){var R=m[A].r-L;z=Math.max(z,R)}L=0;for(var V=0;V<m.length;V++){var q=m[V];0===V&&(L=q.r),q.r=L,L+=z}}for(var F={},j=0;j<m.length;j++)for(var X=m[j],Y=X.dTheta,W=X.r,H=0;H<X.length;H++){var Z=X[H],$=t.startAngle+(n?1:-1)*Y*H,U={x:l.x+W*Math.cos($),y:l.y+W*Math.sin($)};F[Z.node.id()]=U}return o.layoutPositions(this,t,function(e){var t=e.id();return F[t]}),this},e.exports=r},function(e,t,n){function r(e){this.options=a.extend({},u,e),this.options.layout=this}var i,a=n(1),o=n(2),s=n(0),l=n(5),u={ready:function ready(){},stop:function stop(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function animateFilter(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function nodeRepulsion(e){return 2048},nodeOverlap:4,idealEdgeLength:function idealEdgeLength(e){return 32},edgeElasticity:function edgeElasticity(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1,weaver:!1};r.prototype.run=function(){function e(e){var t={type:"message",message:e};d.trigger(t)}var t=this.options,n=t.cy,r=this,o=this.thread,u=t.weaver?t.weaver.Thread:null,d={listeners:[],on:function on(e,t){return this.listeners.push({event:e,callback:t}),this},trigger:function trigger(e){s.string(e)&&(e={type:e});return this.listeners.filter(function t(_t2){return _t2.event===e.type}).forEach(function n(t){t.callback(e)}),this},pass:function pass(e){return this.pass=e,this},run:function run(e){var t=this.pass;return new l(function(n){n(e(t))})},stop:function stop(){return this},stopped:function stopped(){return!0}};o&&!o.stopped()||(o=this.thread=u?new u:d),r.stopped=!1,!0!==t.animate&&!1!==t.animate||r.emit({type:"layoutstart",layout:r}),i=!0===t.debug;var h=c(n,r,t);i&&p(h),t.randomize&&f(h,n);var g=Date.now(),y=!1,m=function m(e){e=e||{},y&&!e.next||!e.force&&Date.now()-g<t.animationThreshold||(y=!0,a.requestAnimationFrame(function(){v(h,n,t),!0===t.fit&&n.fit(t.padding),y=!1,e.next&&e.next()}))};o.on("message",function(e){var t=e.message;h.layoutNodes=t,m()}),o.pass({layoutInfo:h,options:{animate:t.animate,refresh:t.refresh,componentSpacing:t.componentSpacing,nodeOverlap:t.nodeOverlap,nestingFactor:t.nestingFactor,gravity:t.gravity,numIter:t.numIter,initialTemp:t.initialTemp,coolingFactor:t.coolingFactor,minTemp:t.minTemp}}).run(function(t){var r=t.layoutInfo,i=t.options,a=function a(e,t,n){o(e,t),d(e,t),h(e,t),p(e,t),f(e,t)},o=function o(e,t){for(var n=0;n<e.graphSet.length;n++)for(var r=e.graphSet[n],i=r.length,a=0;a<i;a++)for(var o=e.layoutNodes[e.idToIndex[r[a]]],s=a+1;s<i;s++){var u=e.layoutNodes[e.idToIndex[r[s]]];l(o,u,e,t)}},s=function s(e){return-e+2*e*Math.random()},l=function l(e,t,n,r){if(e.cmptId===t.cmptId||n.isCompound){var i=t.positionX-e.positionX,a=t.positionY-e.positionY;0===i&&0===a&&(i=s(1),a=s(1));var o=u(e,t,i,a);if(o>0){l=r.nodeOverlap*o;var h=l*i/(d=Math.sqrt(i*i+a*a)),p=l*a/d}else{var f=c(e,i,a),v=c(t,-1*i,-1*a),g=v.x-f.x,y=v.y-f.y,m=g*g+y*y,d=Math.sqrt(m),l=(e.nodeRepulsion+t.nodeRepulsion)/m;h=l*g/d,p=l*y/d}e.isLocked||(e.offsetX-=h,e.offsetY-=p),t.isLocked||(t.offsetX+=h,t.offsetY+=p)}},u=function u(e,t,n,r){if(n>0)var i=e.maxX-t.minX;else i=t.maxX-e.minX;if(r>0)var a=e.maxY-t.minY;else a=t.maxY-e.minY;return i>=0&&a>=0?Math.sqrt(i*i+a*a):0},c=function c(e,t,n){var r=e.positionX,i=e.positionY,a=e.height||1,o=e.width||1,s=n/t,l=a/o,u={};return 0===t&&0<n?(u.x=r,u.y=i+a/2,u):0===t&&0>n?(u.x=r,u.y=i+a/2,u):0<t&&-1*l<=s&&s<=l?(u.x=r+o/2,u.y=i+o*n/2/t,u):0>t&&-1*l<=s&&s<=l?(u.x=r-o/2,u.y=i-o*n/2/t,u):0<n&&(s<=-1*l||s>=l)?(u.x=r+a*t/2/n,u.y=i+a/2,u):0>n&&(s<=-1*l||s>=l)?(u.x=r-a*t/2/n,u.y=i-a/2,u):u},d=function d(e,t){for(var n=0;n<e.edgeSize;n++){var r=e.layoutEdges[n],i=e.idToIndex[r.sourceId],a=e.layoutNodes[i],o=e.idToIndex[r.targetId],s=e.layoutNodes[o],l=s.positionX-a.positionX,u=s.positionY-a.positionY;if(0!==l||0!==u){var d=c(a,l,u),h=c(s,-1*l,-1*u),p=h.x-d.x,f=h.y-d.y,v=Math.sqrt(p*p+f*f),g=Math.pow(r.idealLength-v,2)/r.elasticity;if(0!==v)var y=g*p/v,m=g*f/v;else y=0,m=0;a.isLocked||(a.offsetX+=y,a.offsetY+=m),s.isLocked||(s.offsetX-=y,s.offsetY-=m)}}},h=function h(e,t){for(var n=0;n<e.graphSet.length;n++){var r=e.graphSet[n],i=r.length;if(0===n)var a=e.clientHeight/2,o=e.clientWidth/2;else{var s=e.layoutNodes[e.idToIndex[r[0]]],l=e.layoutNodes[e.idToIndex[s.parentId]];a=l.positionX,o=l.positionY}for(var u=0;u<i;u++){var c=e.layoutNodes[e.idToIndex[r[u]]];if(!c.isLocked){var d=a-c.positionX,h=o-c.positionY,p=Math.sqrt(d*d+h*h);if(p>1){var f=t.gravity*d/p,v=t.gravity*h/p;c.offsetX+=f,c.offsetY+=v}}}}},p=function p(e,t){var n=[],r=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;r<=i;){var a=n[r++],o=e.idToIndex[a],s=e.layoutNodes[o],l=s.children;if(0<l.length&&!s.isLocked){for(var u=s.offsetX,c=s.offsetY,d=0;d<l.length;d++){var h=e.layoutNodes[e.idToIndex[l[d]]];h.offsetX+=u,h.offsetY+=c,n[++i]=l[d]}s.offsetX=0,s.offsetY=0}}},f=function f(e,t){for(var n=0;n<e.nodeSize;n++){0<(r=e.layoutNodes[n]).children.length&&(r.maxX=void 0,r.minX=void 0,r.maxY=void 0,r.minY=void 0)}for(n=0;n<e.nodeSize;n++){if(!(0<(r=e.layoutNodes[n]).children.length||r.isLocked)){var i=v(r.offsetX,r.offsetY,e.temperature);r.positionX+=i.x,r.positionY+=i.y,r.offsetX=0,r.offsetY=0,r.minX=r.positionX-r.width,r.maxX=r.positionX+r.width,r.minY=r.positionY-r.height,r.maxY=r.positionY+r.height,g(r,e)}}for(n=0;n<e.nodeSize;n++){var r;0<(r=e.layoutNodes[n]).children.length&&!r.isLocked&&(r.positionX=(r.maxX+r.minX)/2,r.positionY=(r.maxY+r.minY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY)}},v=function v(e,t,n){var r=Math.sqrt(e*e+t*t);if(r>n)var i={x:n*e/r,y:n*t/r};else i={x:e,y:t};return i},g=function e(t,n){var r=t.parentId;if(null!=r){var i=n.layoutNodes[n.idToIndex[r]],a=!1;return(null==i.maxX||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,a=!0),(null==i.minX||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,a=!0),(null==i.maxY||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,a=!0),(null==i.minY||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,a=!0),a?e(i,n):void 0}},y=0;do{for(var m=0;m<i.refresh&&y<i.numIter;){var n;if(!(n=(a(r,i),r.temperature=r.temperature*i.coolingFactor,!(r.temperature<i.minTemp))))break;m++,y++}!0===i.animate&&e(r.layoutNodes)}while(n&&y+1<i.numIter);return function(e,t){for(var n=r.layoutNodes,i=[],a=0;a<n.length;a++){var o=n[a],s=o.cmptId;(i[s]=i[s]||[]).push(o)}var l=0;for(a=0;a<i.length;a++){if(u=i[a]){u.x1=1/0,u.x2=-1/0,u.y1=1/0,u.y2=-1/0;for(var c=0;c<u.length;c++){var d=u[c];u.x1=Math.min(u.x1,d.positionX-d.width/2),u.x2=Math.max(u.x2,d.positionX+d.width/2),u.y1=Math.min(u.y1,d.positionY-d.height/2),u.y2=Math.max(u.y2,d.positionY+d.height/2)}u.w=u.x2-u.x1,u.h=u.y2-u.y1,l+=u.w*u.h}}i.sort(function(e,t){return t.w*t.h-e.w*e.h});var h=0,p=0,f=0,v=0,g=Math.sqrt(l)*r.clientWidth/r.clientHeight;for(a=0;a<i.length;a++){var u;if(u=i[a]){for(c=0;c<u.length;c++){(d=u[c]).isLocked||(d.positionX+=h,d.positionY+=p)}h+=u.w+t.componentSpacing,f+=u.w+t.componentSpacing,v=Math.max(v,u.h),f>g&&(p+=v+t.componentSpacing,h=0,f=0,v=0)}}}(0,i),r}).then(function(e){h.layoutNodes=e.layoutNodes,o.stop(),b()});var b=function b(){!0===t.animate||!1===t.animate?m({force:!0,next:function next(){r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r})}}):t.eles.nodes().layoutPositions(r,t,function(e){var t=h.layoutNodes[h.idToIndex[e.data("id")]];return{x:t.positionX,y:t.positionY}})};return this},r.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},r.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var c=function c(e,t,n){var r=n.eles.edges(),i=n.eles.nodes(),a={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:o.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},l=n.eles.components(),u={};for(c=0;c<l.length;c++)for(var h=l[c],p=0;p<h.length;p++){u[h[p].id()]=c}for(c=0;c<a.nodeSize;c++){var g=(v=i[c]).layoutDimensions(n);(y={}).isLocked=v.locked(),y.id=v.data("id"),y.parentId=v.data("parent"),y.cmptId=u[v.id()],y.children=[],y.positionX=v.position("x"),y.positionY=v.position("y"),y.offsetX=0,y.offsetY=0,y.height=g.w,y.width=g.h,y.maxX=y.positionX+y.width/2,y.minX=y.positionX-y.width/2,y.maxY=y.positionY+y.height/2,y.minY=y.positionY-y.height/2,y.padLeft=parseFloat(v.style("padding")),y.padRight=parseFloat(v.style("padding")),y.padTop=parseFloat(v.style("padding")),y.padBottom=parseFloat(v.style("padding")),y.nodeRepulsion=s.fn(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,a.layoutNodes.push(y),a.idToIndex[y.id]=c}var m=[],b=0,x=-1,w=[];for(c=0;c<a.nodeSize;c++){var v,E=(v=a.layoutNodes[c]).parentId;null!=E?a.layoutNodes[a.idToIndex[E]].children.push(v.id):(m[++x]=v.id,w.push(v.id))}for(a.graphSet.push(w);b<=x;){var P=m[b++],C=a.idToIndex[P],S=a.layoutNodes[C].children;if(S.length>0){a.graphSet.push(S);for(c=0;c<S.length;c++)m[++x]=S[c]}}for(c=0;c<a.graphSet.length;c++){var T=a.graphSet[c];for(p=0;p<T.length;p++){var D=a.idToIndex[T[p]];a.indexToGraph[D]=c}}for(var c=0;c<a.edgeSize;c++){var k=r[c],_={};_.id=k.data("id"),_.sourceId=k.data("source"),_.targetId=k.data("target");var M=s.fn(n.idealEdgeLength)?n.idealEdgeLength(k):n.idealEdgeLength,I=s.fn(n.edgeElasticity)?n.edgeElasticity(k):n.edgeElasticity,N=a.idToIndex[_.sourceId],B=a.idToIndex[_.targetId];if(a.indexToGraph[N]!=a.indexToGraph[B]){for(var z=d(_.sourceId,_.targetId,a),L=a.graphSet[z],A=0,y=a.layoutNodes[N];-1===L.indexOf(y.id);)y=a.layoutNodes[a.idToIndex[y.parentId]],A++;for(y=a.layoutNodes[B];-1===L.indexOf(y.id);)y=a.layoutNodes[a.idToIndex[y.parentId]],A++;M*=A*n.nestingFactor}_.idealLength=M,_.elasticity=I,a.layoutEdges.push(_)}return a},d=function d(e,t,n){var r=h(e,t,0,n);return 2>r.count?0:r.graph},h=function e(t,n,r,i){var a=i.graphSet[r];if(-1<a.indexOf(t)&&-1<a.indexOf(n))return{count:2,graph:r};for(var o=0,s=0;s<a.length;s++){var l=a[s],u=i.idToIndex[l],c=i.layoutNodes[u].children;if(0!==c.length){var h=e(t,n,i.indexToGraph[i.idToIndex[c[0]]],i);if(0!==h.count){if(1!==h.count)return h;if(2==++o)break}}}return{count:o,graph:r}},p=function p(e){if(i){for(var t=0;t<e.nodeSize;t++){var n=e.layoutNodes[t];n.id,n.children.toString(),n.parentId,n.positionX,n.positionY,n.offsetX,n.offsetY,n.padLeft,n.padRight,n.padTop,n.padBottom}for(var t in e.idToIndex);var a=e.graphSet;for(t=0;t<a.length;t++);for(t=0;t<e.indexToGraph.length;t++)"\nIndex : "+t+" Graph: "+e.indexToGraph[t];"Layout Edges";for(t=0;t<e.layoutEdges.length;t++){var o=e.layoutEdges[t];"\nEdge Index: "+t+" ID: "+o.id+" SouceID: "+o.sourceId+" TargetId: "+o.targetId+" Ideal Length: "+o.idealLength}"nodeSize: "+e.nodeSize,"\nedgeSize: "+e.edgeSize,"\ntemperature: "+e.temperature}},f=function f(e,t){for(var n=e.clientWidth,r=e.clientHeight,i=0;i<e.nodeSize;i++){var a=e.layoutNodes[i];0!==a.children.length||a.isLocked||(a.positionX=Math.random()*n,a.positionY=Math.random()*r)}},v=function v(e,t,n){var r=n.layout,i=n.eles.nodes(),a=e.boundingBox,o={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};n.boundingBox&&(i.forEach(function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];o.x1=Math.min(o.x1,n.positionX),o.x2=Math.max(o.x2,n.positionX),o.y1=Math.min(o.y1,n.positionY),o.y2=Math.max(o.y2,n.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),i.positions(function(t,r){var i=e.layoutNodes[e.idToIndex[t.data("id")]];if(n.boundingBox){var s=(i.positionX-o.x1)/o.w,l=(i.positionY-o.y1)/o.h;return{x:a.x1+s*a.w,y:a.y1+l*a.h}}return{x:i.positionX,y:i.positionY}}),!0!==e.ready&&(e.ready=!0,r.one("layoutready",n.ready),r.emit({type:"layoutready",layout:this}))};e.exports=r},function(e,t,n){function r(e){this.options=i.extend({},o,e)}var i=n(1),a=n(2),o={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function position(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function animateFilter(e,t){return!0},ready:void 0,stop:void 0,transform:function transform(e,t){return t}};r.prototype.run=function(){var e=this.options,t=e,n=e.cy,i=t.eles.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var o=a.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===o.h||0===o.w)i.layoutPositions(this,t,function(e){return{x:o.x1,y:o.y1}});else{var s=i.size(),l=Math.sqrt(s*o.h/o.w),u=Math.round(l),c=Math.round(o.w/o.h*l),d=function d(e){if(null==e)return Math.min(u,c);Math.min(u,c)==u?u=e:c=e},h=function h(e){if(null==e)return Math.max(u,c);Math.max(u,c)==u?u=e:c=e},p=t.rows,f=null!=t.cols?t.cols:t.columns;if(null!=p&&null!=f)u=p,c=f;else if(null!=p&&null==f)u=p,c=Math.ceil(s/u);else if(null==p&&null!=f)c=f,u=Math.ceil(s/c);else if(c*u>s){var v=d(),g=h();(v-1)*g>=s?d(v-1):(g-1)*v>=s&&h(g-1)}else for(;c*u<s;){var y=d(),m=h();(m+1)*y>=s?h(m+1):d(y+1)}var b=o.w/c,x=o.h/u;if(t.condense&&(b=0,x=0),t.avoidOverlap)for(var w=0;w<i.length;w++){var E=i[w],P=E._private.position;null!=P.x&&null!=P.y||(P.x=0,P.y=0);var C=E.layoutDimensions(t),S=t.avoidOverlapPadding,T=C.w+S,D=C.h+S;b=Math.max(b,T),x=Math.max(x,D)}for(var k={},_=function _(e,t){return!!k["c-"+e+"-"+t]},M=function M(e,t){k["c-"+e+"-"+t]=!0},I=0,N=0,B=function B(){++N>=c&&(N=0,I++)},z={},L=0;L<i.length;L++){var A=i[L],O=t.position(A);if(O&&(void 0!==O.row||void 0!==O.col)){var R={row:O.row,col:O.col};if(void 0===R.col)for(R.col=0;_(R.row,R.col);)R.col++;else if(void 0===R.row)for(R.row=0;_(R.row,R.col);)R.row++;z[A.id()]=R,M(R.row,R.col)}}i.layoutPositions(this,t,function V(e,t){var n=void 0,r=void 0;if(e.locked()||e.isParent())return!1;var i=z[e.id()];if(i)n=i.col*b+b/2+o.x1,r=i.row*x+x/2+o.y1;else{for(;_(I,N);)B();n=N*b+b/2+o.x1,r=I*x+x/2+o.y1,M(I,N),B()}return{x:n,y:r}})}return this},e.exports=r},function(e,t,n){function r(e){this.options=i.extend({},a,e)}var i=n(1),a={ready:function ready(){},stop:function stop(){}};r.prototype.run=function(){var e=this.options,t=e.eles,n=this;return e.cy,n.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",e.ready),n.emit("layoutready"),n.one("layoutstop",e.stop),n.emit("layoutstop"),this},r.prototype.stop=function(){return this},e.exports=r},function(e,t,n){function r(e){this.options=i.extend({},o,e)}var i=n(1),a=n(0),o={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function animateFilter(e,t){return!0},ready:void 0,stop:void 0,transform:function transform(e,t){return t}};r.prototype.run=function(){function e(e){if(null==t.positions)return null;if(i)return t.positions(e);var n=t.positions[e._private.data.id];return null==n?null:n}var t=this.options,r=t.eles.nodes(),i=a.fn(t.positions);return r.layoutPositions(this,t,function(t,n){var r=e(t);return!t.locked()&&null!=r&&r}),this},e.exports=r},function(e,t,n){function r(e){this.options=i.extend({},o,e)}var i=n(1),a=n(2),o={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function animateFilter(e,t){return!0},ready:void 0,stop:void 0,transform:function transform(e,t){return t}};r.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles.nodes().not(":parent"),i=a.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return r.layoutPositions(this,e,function o(e,t){return{x:i.x1+Math.round(Math.random()*i.w),y:i.y1+Math.round(Math.random()*i.h)}}),this},e.exports=r},function(e,t,n){function r(e){this.options=i.extend({},o,e)}var i=n(1),a=n(2),o={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!0,rows:void 0,cols:void 0,position:function position(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function animateFilter(e,t){return!0},ready:void 0,stop:void 0,transform:function transform(e,t){return t}};r.prototype.run=function(){var e=this.options,t=e,n=e.cy,i=t.eles.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var o=a.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===o.h||0===o.w)i.layoutPositions(this,t,function(e){return{x:o.x1,y:o.y1}});else{var s=i.size(),l=Math.sqrt(s*o.h/o.w),u=Math.round(l),c=Math.round(o.w/o.h*l),d=function d(e){if(null==e)return Math.min(u,c);Math.min(u,c)==u?u=e:c=e},h=function h(e){if(null==e)return Math.max(u,c);Math.max(u,c)==u?u=e:c=e},p=t.rows,f=null!=t.cols?t.cols:t.columns;if(null!=p&&null!=f)u=p,c=f;else if(null!=p&&null==f)u=p,c=Math.ceil(s/u);else if(null==p&&null!=f)c=f,u=Math.ceil(s/c);else if(c*u>s){var v=d(),g=h();(v-1)*g>=s?d(v-1):(g-1)*v>=s&&h(g-1)}else for(;c*u<s;){var y=d(),m=h();(m+1)*y>=s?h(m+1):d(y+1)}var b=o.w/c,x=o.h/u;t.condense&&(b=0,x=0);for(var w=[],E=[],P=0;P<i.length;P++)w.push(1);var C={};if(t.avoidOverlap){for(var S=0;S<i.length;S++){var T=parseInt(i[S]._private.data.clump);C[T]=0}for(var D=0;D<i.length;D++){var k=i[D],_=k._private.position;null!=_.x&&null!=_.y||(_.x=0,_.y=0);var M=k.layoutDimensions(t),I=t.avoidOverlapPadding,N=M.w+I,B=M.h+I;E[D]=N;var z=parseInt(k._private.data.clump);C[z]=Math.max(C[z],M.w+I),b=Math.max(b,N),x=Math.max(x,B)}for(var L=0;L<i.length;L++)w[L]=E[L]/b,w[L]<.7&&(w[L]=.7)}for(var A={},O=function O(e,t){return!!A["c-"+e+"-"+t]},R=function R(e,t){A["c-"+e+"-"+t]=!0},V=0,q=0,F=function F(){++q>=c&&(q=0,V++)},j={},X=0;X<i.length;X++){var Y=i[X],W=t.position(Y);if(W&&(void 0!==W.row||void 0!==W.col)){var H={row:W.row,col:W.col};if(void 0===H.col)for(H.col=0;O(H.row,H.col);)H.col++;else if(void 0===H.row)for(H.row=0;O(H.row,H.col);)H.row++;j[Y.id()]=H,R(H.row,H.col)}}i.layoutPositions(this,t,function Z(e,t){var n=void 0,r=void 0;if(e.locked()||e.isParent())return!1;var i=j[e.id()];if(i)n=i.col*b+b/2+o.x1,r=i.row*x+x/2+o.y1;else{for(;O(V,q);)F();for(var a=0,s=0;s<q;s++)a+=C[s];n=a+4*q+C[q]/2,r=V*x+x/2+o.y1,R(V,q),F()}return{x:n,y:r}})}return this},e.exports=r},function(e,t,n){e.exports=[{name:"null",impl:n(108)},{name:"base",impl:n(109)},{name:"canvas",impl:n(125)}]},function(e,t,n){function r(e){this.options=e,this.notifications=0}var i=function i(){};r.prototype={recalculateRenderedStyle:i,notify:function notify(){this.notifications++},init:i},e.exports=r},function(e,t,n){var r=n(0),i=n(1),a=n(3),s=function o(e){this.init(e)},l=s.prototype;l.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],l.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container();if(a){var r=a.document,o=r.head,s="__________cytoscape_container",l=null!=r.getElementById("__________cytoscape_stylesheet");if(n.className.indexOf(s)<0&&(n.className=(n.className||"")+" "+s),!l){var u=r.createElement("style");u.id="__________cytoscape_stylesheet",u.innerHTML="."+s+" { position: relative; }",o.insertBefore(u,o.children[0])}"static"===a.getComputedStyle(n).getPropertyValue("position")&&i.error("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.hideLabelsOnViewport=e.hideLabelsOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=e.pixelRatio,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},l.notify=function(e){var t,n=this;if(!this.destroyed){t=r.array(e.type)?e.type:[e.type];for(var i={},a=0;a<t.length;a++)i[t[a]]=!0;if(i.init)return void n.load();if(i.destroy)return void n.destroy();(i.add||i.remove||i.load||i.zorder)&&n.invalidateCachedZSortedEles(),i.viewport&&n.redrawHint("select",!0),(i.load||i.resize)&&(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},l.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var r=e.bindings[t],i=r.target;(i.off||i.removeEventListener).apply(i,r.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(e){}},[n(110),n(111),n(121),n(122),n(123),n(124)].forEach(function(e){i.extend(l,e)}),e.exports=s},function(e,t,n){var r=n(2),i=n(0),a=n(1),o={arrowShapeWidth:.3,registerArrowShapes:function(){var e=this.arrowShapes={},t=this,n=function n(e,t,_n3,r,i,a,o){var s=i.x-_n3/2-o,l=i.x+_n3/2+o,u=i.y-_n3/2-o,c=i.y+_n3/2+o;return s<=e&&e<=l&&u<=t&&t<=c},o=function o(e,t,n,r,i){var a=e*Math.cos(r)-t*Math.sin(r),o=e*Math.sin(r)+t*Math.cos(r),l=o*n;return{x:a*n+i.x,y:l+i.y}},s=function s(e,t,n,r){for(var i=[],a=0;a<e.length;a+=2){var s=e[a],l=e[a+1];i.push(o(s,l,t,n,r))}return i},l=function l(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.x,r.y)}return t},u=function u(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},c=function c(o,_c){i.string(_c)&&(_c=e[_c]),e[o]=a.extend({name:o,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function collide(e,t,n,i,a,o){var u=l(s(this.points,n+2*o,i,a));return r.pointInsidePolygonPoints(e,t,u)},roughCollide:n,draw:function draw(e,n,r,i){var a=s(this.points,n,r,i);t.arrowShapeImpl("polygon")(e,a)},spacing:function spacing(e){return 0},gap:u},_c)};c("none",{collide:a.falsify,roughCollide:a.falsify,draw:a.noop,spacing:a.zeroify,gap:a.zeroify}),c("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),c("arrow","triangle"),c("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function draw(e,n,r,i,a){var l=s(this.points,n,r,i),u=this.controlPoint,c=o(u[0],u[1],n,r,i);t.arrowShapeImpl(this.name)(e,l,c)},gap:function gap(e){return.8*u(e)}}),c("triangle-tee",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function collide(e,t,n,i,a,o,u){var c=l(s(this.points,n+2*u,i,a)),d=l(s(this.pointsTee,n+2*u,i,a));return r.pointInsidePolygonPoints(e,t,c)||r.pointInsidePolygonPoints(e,t,d)},draw:function draw(e,n,r,i,a){var o=s(this.points,n,r,i),l=s(this.pointsTee,n,r,i);t.arrowShapeImpl(this.name)(e,o,l)}}),c("triangle-cross",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function crossLinePts(e,t){var n=this.baseCrossLinePts.slice(),r=t/e;return n[3]=n[3]-r,n[5]=n[5]-r,n},collide:function collide(e,t,n,i,a,o,u){var c=l(s(this.points,n+2*u,i,a)),d=l(s(this.crossLinePts(n,o),n+2*u,i,a));return r.pointInsidePolygonPoints(e,t,c)||r.pointInsidePolygonPoints(e,t,d)},draw:function draw(e,n,r,i,a){var o=s(this.points,n,r,i),l=s(this.crossLinePts(n,a),n,r,i);t.arrowShapeImpl(this.name)(e,o,l)}}),c("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function gap(e){return.525*u(e)}}),c("circle",{radius:.15,collide:function collide(e,t,n,r,i,a,o){var s=i;return Math.pow(s.x-e,2)+Math.pow(s.y-t,2)<=Math.pow((n+2*o)*this.radius,2)},draw:function draw(e,n,r,i,a){t.arrowShapeImpl(this.name)(e,i.x,i.y,this.radius*n)},spacing:function spacing(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),c("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function spacing(e){return 1},gap:function gap(e){return 1}}),c("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),c("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function gap(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})}};e.exports=o},function(e,t,n){var r=n(1),i={};[n(112),n(113),n(114),n(115),n(116),n(117),n(118),n(119),n(120)].forEach(function(e){r.extend(i,e)}),e.exports=i},function(e,t,n){var r=n(3),i=n(2),a=n(1),o=(r=n(3),{projectIntoViewport:function(e,t){var n=this.cy,r=this.findContainerClientCoords(),i=r[0],a=r[1],o=r[4],s=n.pan(),l=n.zoom();return[((e-i)/o-s.x)/l,((t-a)/o-s.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=r.getComputedStyle(e),i=function i(e){return parseFloat(n.getPropertyValue(e))},a_left=i("padding-left"),a_right=i("padding-right"),a_top=i("padding-top"),a_bottom=i("padding-bottom"),o_left=i("border-left-width"),o_right=i("border-right-width"),o_top=i("border-top-width"),s=(i("border-bottom-width"),e.clientWidth),l=e.clientHeight,u=a_left+a_right,c=a_top+a_bottom,d=o_left+o_right,p=t.width/(s+d),f=s-u,v=l-c,g=(t.width,t.height,t.left+a_left+o_left),y=t.top+a_top+o_top;return this.containerBB=[g,y,f,v,p]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(e,t,n,r){return this.findNearestElements(e,t,n,r)[0]},findNearestElements:function(e,t,n,r){function o(e,t){if(e.isNode()){if(d)return;d=e,v.push(e)}if(e.isEdge()&&(null==t||t<w))if(c){if(c.pstyle("z-index").value===e.pstyle("z-index").value)for(var n=0;n<v.length;n++)if(v[n].isEdge()){v[n]=e,c=e,w=null!=t?t:w;break}}else v.push(e),c=e,w=null!=t?t:w}function s(n){var r=n.outerWidth()+2*b,i=n.outerHeight()+2*b,a=r/2,s=i/2,l=n.position();if(l.x-a<=e&&e<=l.x+a&&l.y-s<=t&&t<=l.y+s&&p.nodeShapes[h.getNodeShape(n)].checkPoint(e,t,0,r,i,l.x,l.y))return o(n,0),!0}function l(e,t,n){return a.getPrefixedProperty(e,t,n)}function u(n,r){var a,s=n._private,u=x;a=r?r+"-":"";var c=n.pstyle(a+"label").value;if("yes"===n.pstyle("text-events").strValue&&c){var d=s.rstyle,h=n.pstyle("text-border-width").pfValue,p=n.pstyle("text-background-padding").pfValue,f=l(d,"labelWidth",r)+h+2*u+2*p,v=l(d,"labelHeight",r)+h+2*u+2*p,g=l(d,"labelX",r),y=l(d,"labelY",r),m=l(s.rscratch,"labelAngle",r),b=g-f/2,w=g+f/2,E=y-v/2,P=y+v/2;if(m){var C=Math.cos(m),S=Math.sin(m),T=function T(e,t){return{x:(e-=g)*C-(t-=y)*S+g,y:e*S+t*C+y}},D=T(b,E),k=T(b,P),_=T(w,E),M=T(w,P),I=[D.x,D.y,_.x,_.y,M.x,M.y,k.x,k.y];if(i.pointInsidePolygonPoints(e,t,I))return o(n),!0}else{var N={w:f,h:v,x1:b,x2:w,y1:E,y2:P};if(i.inBoundingBox(N,e,t))return o(n),!0}}}var c,d,h=this,p=this,f=p.getCachedZSortedEles(),v=[],g=p.cy.zoom(),y=p.cy.hasCompoundNodes(),m=(r?24:8)/g,b=(r?8:2)/g,x=(r?8:2)/g,w=1/0;n&&(f=f.interactive);for(var E=f.length-1;E>=0;E--){var P=f[E];P.isNode()?s(P)||u(P):function(n){var r,a=n._private,l=a.rscratch,u=n.pstyle("width").pfValue,c=n.pstyle("arrow-scale").value,d=u/2+m,f=d*d,g=2*d,b=a.source,x=a.target;if("segments"===l.edgeType||"straight"===l.edgeType||"haystack"===l.edgeType){for(var w=l.allpts,E=0;E+3<w.length;E+=2)if(i.inLineVicinity(e,t,w[E],w[E+1],w[E+2],w[E+3],g)&&f>(r=i.sqdistToFiniteLine(e,t,w[E],w[E+1],w[E+2],w[E+3])))return o(n,r),!0}else if("bezier"===l.edgeType||"multibezier"===l.edgeType||"self"===l.edgeType||"compound"===l.edgeType)for(w=l.allpts,E=0;E+5<l.allpts.length;E+=4)if(i.inBezierVicinity(e,t,w[E],w[E+1],w[E+2],w[E+3],w[E+4],w[E+5],g)&&f>(r=i.sqdistToQuadraticBezier(e,t,w[E],w[E+1],w[E+2],w[E+3],w[E+4],w[E+5])))return o(n,r),!0;b=b||a.source,x=x||a.target;var P=h.getArrowWidth(u,c),C=[{name:"source",x:l.arrowStartX,y:l.arrowStartY,angle:l.srcArrowAngle},{name:"target",x:l.arrowEndX,y:l.arrowEndY,angle:l.tgtArrowAngle},{name:"mid-source",x:l.midX,y:l.midY,angle:l.midsrcArrowAngle},{name:"mid-target",x:l.midX,y:l.midY,angle:l.midtgtArrowAngle}];for(E=0;E<C.length;E++){var S=C[E],T=p.arrowShapes[n.pstyle(S.name+"-arrow-shape").value],D=n.pstyle("width").pfValue;if(T.roughCollide(e,t,P,S.angle,{x:S.x,y:S.y},D,m)&&T.collide(e,t,P,S.angle,{x:S.x,y:S.y},D,m))return o(n),!0}y&&v.length>0&&(s(b),s(x))}(P)||u(P)||u(P,"source")||u(P,"target")}return v},getAllInBox:function(e,t,n,r){var a=this.getCachedZSortedEles().interactive,o=[],s=Math.min(e,n),l=Math.max(e,n),u=Math.min(t,r),c=Math.max(t,r);e=s,n=l,t=u,r=c;for(var d=i.makeBoundingBox({x1:e,y1:t,x2:n,y2:r}),h=0;h<a.length;h++){var p=a[h];if(p.isNode()){var f=p,v=f.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});i.boundingBoxesIntersect(d,v)&&!i.boundingBoxInBoundingBox(v,d)&&o.push(f)}else{var g=p,y=g._private,m=y.rscratch;if(null!=m.startX&&null!=m.startY&&!i.inBoundingBox(d,m.startX,m.startY))continue;if(null!=m.endX&&null!=m.endY&&!i.inBoundingBox(d,m.endX,m.endY))continue;if("bezier"===m.edgeType||"multibezier"===m.edgeType||"self"===m.edgeType||"compound"===m.edgeType||"segments"===m.edgeType||"haystack"===m.edgeType){for(var b=y.rstyle.bezierPts||y.rstyle.linePts||y.rstyle.haystackPts,x=!0,w=0;w<b.length;w++)if(!i.pointInBoundingBox(d,b[w])){x=!1;break}x&&o.push(g)}else"haystack"!==m.edgeType&&"straight"!==m.edgeType||o.push(g)}}return o}});e.exports=o},function(e,t,n){var r=n(2),i={calculateArrowAngles:function(e){var t,n,i,a,o,s,c=e._private.rscratch,d="haystack"===c.edgeType,h="bezier"===c.edgeType,p="multibezier"===c.edgeType,f="segments"===c.edgeType,v="compound"===c.edgeType,g="self"===c.edgeType;if(d?(i=c.haystackPts[0],a=c.haystackPts[1],o=c.haystackPts[2],s=c.haystackPts[3]):(i=c.arrowStartX,a=c.arrowStartY,o=c.arrowEndX,s=c.arrowEndY),l=c.midX,u=c.midY,f)t=i-c.segpts[0],n=a-c.segpts[1];else if(p||v||g||h){var y=c.allpts;t=i-r.qbezierAt(y[0],y[2],y[4],.1),n=a-r.qbezierAt(y[1],y[3],y[5],.1)}else t=i-l,n=a-u;c.srcArrowAngle=r.getAngleFromDisp(t,n);var l=c.midX,u=c.midY;if(d&&(l=(i+o)/2,u=(a+s)/2),t=o-i,n=s-a,f)if((y=c.allpts).length/2%2==0){var w=(x=y.length/2)-2;t=y[x]-y[w],n=y[x+1]-y[w+1]}else{w=(x=y.length/2-1)-2;var x,E=x+2;t=y[x]-y[w],n=y[x+1]-y[w+1]}else if(p||v||g){var P,C,S,T,y=c.allpts;if(c.ctrlpts.length/2%2==0){var M=(_=(k=y.length/2-1)+2)+2;P=r.qbezierAt(y[k],y[_],y[M],0),C=r.qbezierAt(y[k+1],y[_+1],y[M+1],0),S=r.qbezierAt(y[k],y[_],y[M],1e-4),T=r.qbezierAt(y[k+1],y[_+1],y[M+1],1e-4)}else{var _,k=(_=y.length/2-1)-2;M=_+2;P=r.qbezierAt(y[k],y[_],y[M],.4999),C=r.qbezierAt(y[k+1],y[_+1],y[M+1],.4999),S=r.qbezierAt(y[k],y[_],y[M],.5),T=r.qbezierAt(y[k+1],y[_+1],y[M+1],.5)}t=S-P,n=T-C}(c.midtgtArrowAngle=r.getAngleFromDisp(t,n),c.midDispX=t,c.midDispY=n,t*=-1,n*=-1,f)&&((y=c.allpts).length/2%2==0||(t=-(y[E=(x=y.length/2-1)+2]-y[x]),n=-(y[E+1]-y[x+1])));if(c.midsrcArrowAngle=r.getAngleFromDisp(t,n),f)t=o-c.segpts[c.segpts.length-2],n=s-c.segpts[c.segpts.length-1];else if(p||v||g||h){var I=(y=c.allpts).length;t=o-r.qbezierAt(y[I-6],y[I-4],y[I-2],.9),n=s-r.qbezierAt(y[I-5],y[I-3],y[I-1],.9)}else t=o-l,n=s-u;c.tgtArrowAngle=r.getAngleFromDisp(t,n)}};i.getArrowWidth=i.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[e+", "+t];return r||(r=Math.max(Math.pow(13.37*e,.9),29)*t,n[e+", "+t]=r,r)},e.exports=i},function(e,t,n){function r(e){var t=[];if(null!=e){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t.push({x:r,y:i})}return t}}var i=n(2),a=n(0),o={findEdgeControlPoints:function(e){if(e&&0!==e.length){for(var t,n=this,o=n.cy.hasCompoundNodes(),s={},l=[],u=[],c=0;c<e.length;c++){var p=(h=(d=e[c])._private).data,v="unbundled-bezier"===(f=d.pstyle("curve-style").value)||"segments"===f,g="unbundled-bezier"===f||"bezier"===f;if("none"!==d.pstyle("display").value)if("haystack"!==f){var y=p.source,m=p.target;t=y>m?m+"$-$"+y:y+"$-$"+m,v&&(t="unbundled$-$"+p.id);var b=s[t];null==b&&(b=s[t]=[],l.push(t)),b.push(d),v&&(b.hasUnbundled=!0),g&&(b.hasBezier=!0)}else u.push(d)}for(var k,_,M,I,N=0;N<l.length;N++){var B=s[t=l[N]];if(B.sort(function(e,t){return e.poolIndex()-t.poolIndex()}),x=B[0]._private.source,w=B[0]._private.target,!B.hasUnbundled&&x.id()>w.id()){var z=x;x=w,w=z}E=x.position(),P=w.position(),C=x.outerWidth(),S=x.outerHeight(),T=w.outerWidth(),D=w.outerHeight(),k=n.nodeShapes[this.getNodeShape(x)],_=n.nodeShapes[this.getNodeShape(w)],I=!1;var O={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0},R=E.x,V=E.y,q=C,F=S,j=P.x,X=P.y,Y=T,W=D,H=B.length;for(c=0;c<B.length;c++){var f,Je,Z=(A=(d=B[c])._private.rscratch).lastEdgeIndex,$=c,U=A.lastNumEdges,G=(v="unbundled-bezier"===(f=d.pstyle("curve-style").value)||"segments"===f,x.id()!==d.source().id()),Q=d.pstyle("control-point-distances"),K=d.pstyle("loop-direction").pfValue,J=d.pstyle("loop-sweep").pfValue,ee=d.pstyle("control-point-weights"),te=Q&&ee?Math.min(Q.value.length,ee.value.length):1,ne=d.pstyle("control-point-step-size").pfValue,re=Q?Q.pfValue[0]:void 0,ie=ee.value[0],ae=d.pstyle("edge-distances").value,oe=d.pstyle("segment-weights"),se=d.pstyle("segment-distances"),le=Math.min(oe.pfValue.length,se.pfValue.length),ue=d.pstyle("source-endpoint").value,ce=d.pstyle("target-endpoint").value,de=d.pstyle("source-arrow-shape").value,he=d.pstyle("target-arrow-shape").value,pe=d.pstyle("arrow-scale").value,fe=d.pstyle("width").pfValue,ve=A.lastSrcCtlPtX,ge=A.lastSrcCtlPtY,ye=A.lastSrcCtlPtW,me=A.lastSrcCtlPtH,be=A.lastTgtCtlPtX,xe=A.lastTgtCtlPtY,we=A.lastTgtCtlPtW,Ee=A.lastTgtCtlPtH,Pe=A.lastCurveStyle,Ce=f,Se=A.lastCtrlptDists,Te=Q?Q.strValue:null,De=A.lastCtrlptWs,ke=ee.strValue,_e=A.lastSegmentWs,Me=oe.strValue,Ie=A.lastSegmentDs,Ne=se.strValue,Be=A.lastStepSize,ze=ne,Le=A.lastLoopDir,Ae=K,Oe=A.lastLoopSwp,Re=J,Ve=A.lastEdgeDistances,qe=ae,Fe=A.lastSrcEndpt,je=ue,Xe=A.lastTgtEndpt,Ye=ce,We=A.lastSrcArr,He=de,Ze=A.lastTgtArr,$e=he,Ue=A.lastLineW,Ge=fe,Qe=A.lastArrScl,Ke=pe;if(A.badBezier=!!I,ve===R&&ge===V&&ye===q&&me===F&&be===j&&xe===X&&we===Y&&Ee===W&&Pe===Ce&&Se===Te&&De===ke&&_e===Me&&Ie===Ne&&Be===ze&&Le===Ae&&Oe===Re&&Ve===qe&&Fe===je&&Xe===Ye&&We===He&&Ze===$e&&Ue===Ge&&Qe===Ke&&(Z===$&&U===H||v)?Je=!0:(Je=!1,A.lastSrcCtlPtX=R,A.lastSrcCtlPtY=V,A.lastSrcCtlPtW=q,A.lastSrcCtlPtH=F,A.lastTgtCtlPtX=j,A.lastTgtCtlPtY=X,A.lastTgtCtlPtW=Y,A.lastTgtCtlPtH=W,A.lastEdgeIndex=$,A.lastNumEdges=H,A.lastCurveStyle=Ce,A.lastCtrlptDists=Te,A.lastCtrlptWs=ke,A.lastSegmentDs=Ne,A.lastSegmentWs=Me,A.lastStepSize=ze,A.lastLoopDir=Ae,A.lastLoopSwp=Re,A.lastEdgeDistances=qe,A.lastSrcEndpt=je,A.lastTgtEndpt=Ye,A.lastSrcArr=He,A.lastTgtArr=$e,A.lastLineW=Ge,A.lastArrScl=Ke),!Je){if(!B.calculatedIntersection&&x!==w&&(B.hasBezier||B.hasUnbundled)){B.calculatedIntersection=!0;var et=k.intersectLine(E.x,E.y,C,S,P.x,P.y,0);B.srcIntn=et;var tt=_.intersectLine(P.x,P.y,T,D,E.x,E.y,0);B.tgtIntn=tt;var nt={x1:et[0],x2:tt[0],y1:et[1],y2:tt[1]},rt={x1:E.x,x2:P.x,y1:E.y,y2:P.y},it=tt[1]-et[1],at=tt[0]-et[0],ot=Math.sqrt(at*at+it*it),st={x:at,y:it},lt={x:st.x/ot,y:st.y/ot};M={x:-lt.y,y:lt.x},_.checkPoint(et[0],et[1],0,T,D,P.x,P.y)&&k.checkPoint(tt[0],tt[1],0,C,S,E.x,E.y)&&(M={},I=!0)}if(G?(A.srcIntn=B.tgtIntn,A.tgtIntn=B.srcIntn):(A.srcIntn=B.srcIntn,A.tgtIntn=B.tgtIntn),x===w){A.edgeType="self";var ut=c,ct=ne;v&&(ut=0,ct=re);var dt=K-Math.PI/2,ht=dt-J/2,pt=dt+J/2,ft=String(K+"_"+J);ut=void 0===O[ft]?O[ft]=0:++O[ft],A.ctrlpts=[E.x+1.4*Math.cos(ht)*ct*(ut/3+1),E.y+1.4*Math.sin(ht)*ct*(ut/3+1),E.x+1.4*Math.cos(pt)*ct*(ut/3+1),E.y+1.4*Math.sin(pt)*ct*(ut/3+1)]}else if(o&&(x.isParent()||x.isChild()||w.isParent()||w.isChild())&&(x.parents().anySame(w)||w.parents().anySame(x))){A.edgeType="compound",A.badBezier=!1;ut=c,ct=ne;v&&(ut=0,ct=re);var vt={x:E.x-C/2,y:E.y-S/2},gt={x:P.x-T/2,y:P.y-D/2},yt={x:Math.min(vt.x,gt.x),y:Math.min(vt.y,gt.y)},mt=Math.max(.5,Math.log(.01*C)),bt=Math.max(.5,Math.log(.01*T));A.ctrlpts=[yt.x,yt.y-(1+Math.pow(50,1.12)/100)*ct*(ut/3+1)*mt,yt.x-(1+Math.pow(50,1.12)/100)*ct*(ut/3+1)*bt,yt.y]}else if("segments"===f){A.edgeType="segments",A.segpts=[];for(var xt=0;xt<le;xt++){var wt=oe.pfValue[xt],Et=se.pfValue[xt],Pt=1-wt,Ct=wt,Tt={x:(St="node-position"===ae?rt:nt).x1*Pt+St.x2*Ct,y:St.y1*Pt+St.y2*Ct};A.segpts.push(Tt.x+M.x*Et,Tt.y+M.y*Et)}}else if(B.length%2!=1||c!==Math.floor(B.length/2)||v){var Dt=v;A.edgeType=Dt?"multibezier":"bezier",A.ctrlpts=[];for(var kt=0;kt<te;kt++){var _t,Mt=(.5-B.length/2+c)*ne,It=i.signum(Mt);Dt&&(re=Q?Q.pfValue[kt]:ne,ie=ee.value[kt]);var Nt=void 0!==(_t=v?re:void 0!==re?It*re:void 0)?_t:Mt;Pt=1-ie,Ct=ie;if(G){z=Pt;Pt=Ct,Ct=z}var St;Tt={x:(St="node-position"===ae?rt:nt).x1*Pt+St.x2*Ct,y:St.y1*Pt+St.y2*Ct};A.ctrlpts.push(Tt.x+M.x*Nt,Tt.y+M.y*Nt)}}else A.edgeType="straight";this.findEndpoints(d);var Bt=!a.number(A.startX)||!a.number(A.startY),zt=!a.number(A.arrowStartX)||!a.number(A.arrowStartY),Lt=!a.number(A.endX)||!a.number(A.endY),At=!a.number(A.arrowEndX)||!a.number(A.arrowEndY),Rt=3*(this.getArrowWidth(d.pstyle("width").pfValue,d.pstyle("arrow-scale").value)*this.arrowShapeWidth);if("bezier"===A.edgeType){var Vt=i.dist({x:A.ctrlpts[0],y:A.ctrlpts[1]},{x:A.startX,y:A.startY}),qt=Vt<Rt,Ft=i.dist({x:A.ctrlpts[0],y:A.ctrlpts[1]},{x:A.endX,y:A.endY}),jt=Ft<Rt,Xt=!1;if(Bt||zt||qt){Xt=!0;var Yt={x:A.ctrlpts[0]-E.x,y:A.ctrlpts[1]-E.y},Wt=Math.sqrt(Yt.x*Yt.x+Yt.y*Yt.y),Ht={x:Yt.x/Wt,y:Yt.y/Wt},Zt=Math.max(C,S),$t={x:A.ctrlpts[0]+2*Ht.x*Zt,y:A.ctrlpts[1]+2*Ht.y*Zt},Ut=k.intersectLine(E.x,E.y,C,S,$t.x,$t.y,0);qt?(A.ctrlpts[0]=A.ctrlpts[0]+Ht.x*(Rt-Vt),A.ctrlpts[1]=A.ctrlpts[1]+Ht.y*(Rt-Vt)):(A.ctrlpts[0]=Ut[0]+Ht.x*Rt,A.ctrlpts[1]=Ut[1]+Ht.y*Rt)}if(Lt||At||jt){Xt=!0;Yt={x:A.ctrlpts[0]-P.x,y:A.ctrlpts[1]-P.y},Wt=Math.sqrt(Yt.x*Yt.x+Yt.y*Yt.y),Ht={x:Yt.x/Wt,y:Yt.y/Wt},Zt=Math.max(C,S),$t={x:A.ctrlpts[0]+2*Ht.x*Zt,y:A.ctrlpts[1]+2*Ht.y*Zt};var Gt=_.intersectLine(P.x,P.y,T,D,$t.x,$t.y,0);jt?(A.ctrlpts[0]=A.ctrlpts[0]+Ht.x*(Rt-Ft),A.ctrlpts[1]=A.ctrlpts[1]+Ht.y*(Rt-Ft)):(A.ctrlpts[0]=Gt[0]+Ht.x*Rt,A.ctrlpts[1]=Gt[1]+Ht.y*Rt)}Xt&&this.findEndpoints(d)}if("multibezier"===A.edgeType||"bezier"===A.edgeType||"self"===A.edgeType||"compound"===A.edgeType){A.allpts=[],A.allpts.push(A.startX,A.startY);for(kt=0;kt+1<A.ctrlpts.length;kt+=2)A.allpts.push(A.ctrlpts[kt],A.ctrlpts[kt+1]),kt+3<A.ctrlpts.length&&A.allpts.push((A.ctrlpts[kt]+A.ctrlpts[kt+2])/2,(A.ctrlpts[kt+1]+A.ctrlpts[kt+3])/2);var Qt;A.allpts.push(A.endX,A.endY),A.ctrlpts.length/2%2==0?(Qt=A.allpts.length/2-1,A.midX=A.allpts[Qt],A.midY=A.allpts[Qt+1]):(Qt=A.allpts.length/2-3,.5,A.midX=i.qbezierAt(A.allpts[Qt],A.allpts[Qt+2],A.allpts[Qt+4],.5),A.midY=i.qbezierAt(A.allpts[Qt+1],A.allpts[Qt+3],A.allpts[Qt+5],.5))}else if("straight"===A.edgeType)A.allpts=[A.startX,A.startY,A.endX,A.endY],A.midX=(A.startX+A.endX+A.arrowStartX+A.arrowEndX)/4,A.midY=(A.startY+A.endY+A.arrowStartY+A.arrowEndY)/4;else if("segments"===A.edgeType)if(A.allpts=[],A.allpts.push(A.startX,A.startY),A.allpts.push.apply(A.allpts,A.segpts),A.allpts.push(A.endX,A.endY),A.segpts.length%4==0){var Jt=A.segpts.length/2,en=Jt-2;A.midX=(A.segpts[en]+A.segpts[Jt])/2,A.midY=(A.segpts[en+1]+A.segpts[Jt+1])/2}else{en=A.segpts.length/2-1;A.midX=A.segpts[en],A.midY=A.segpts[en+1]}this.storeEdgeProjections(d),this.calculateArrowAngles(d)}this.recalculateEdgeLabelProjections(d),this.calculateLabelAngles(d)}}for(c=0;c<u.length;c++){var d,h,tn=(h=(d=u[c])._private).rscratch,A=tn;if(!tn.haystack){var nn=2*Math.random()*Math.PI;tn.source={x:Math.cos(nn),y:Math.sin(nn)};nn=2*Math.random()*Math.PI;tn.target={x:Math.cos(nn),y:Math.sin(nn)}}var x=h.source,w=h.target,E=x.position(),P=w.position(),C=x.width(),T=w.width(),S=x.height(),D=w.height(),rn=(Zt=d.pstyle("haystack-radius").value)/2;A.haystackPts=A.allpts=[A.source.x*C*rn+E.x,A.source.y*S*rn+E.y,A.target.x*T*rn+P.x,A.target.y*D*rn+P.y],A.midX=(A.allpts[0]+A.allpts[2])/2,A.midY=(A.allpts[1]+A.allpts[3])/2,tn.edgeType=tn.lastCurveStyle="haystack",tn.haystack=!0,this.storeEdgeProjections(d),this.calculateArrowAngles(d),this.recalculateEdgeLabelProjections(d),this.calculateLabelAngles(d)}}},getSegmentPoints:function(e){var t=e[0]._private.rscratch;if("segments"===t.edgeType)return r(t.segpts)},getControlPoints:function(e){var t=e[0]._private.rscratch,n=t.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return r(t.ctrlpts)},getEdgeMidpoint:function(e){var t=e[0]._private.rscratch;return{x:t.midX,y:t.midY}}};e.exports=o},function(e,t,n){var r=n(2),i=n(0),a={manualEndptToPx:function(e,t){var r=e.position(),i=e.outerWidth(),a=e.outerHeight();if(2===t.value.length){var o=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(o[0]=o[0]*i),"%"===t.units[1]&&(o[1]=o[1]*a),o[0]+=r.x,o[1]+=r.y,o}var s=t.pfValue[0];s=-Math.PI/2+s;var l=2*Math.max(i,a),u=[r.x+Math.cos(s)*l,r.y+Math.sin(s)*l];return this.nodeShapes[this.getNodeShape(e)].intersectLine(r.x,r.y,i,a,u[0],u[1],0)},findEndpoints:function(e){var t=this,n=void 0,a=e.source()[0],o=e.target()[0],s=a.position(),l=o.position(),u=e.pstyle("target-arrow-shape").value,c=e.pstyle("source-arrow-shape").value,d=e.pstyle("target-distance-from-node").pfValue,h=e.pstyle("source-distance-from-node").pfValue,p=e._private.rscratch,f=p.edgeType,v="self"===f||"compound"===f,g="bezier"===f||"multibezier"===f||v,y="bezier"!==f,m="straight"===f||"segments"===f,b="segments"===f,x=g||y||m,w=e.pstyle("source-endpoint"),E=v?"outside-to-node":w.value,P=e.pstyle("target-endpoint"),C=v?"outside-to-node":P.value;p.srcManEndpt=w,p.tgtManEndpt=P;var S=void 0,T=void 0,D=void 0,k=void 0;if(g){var _=[p.ctrlpts[0],p.ctrlpts[1]];S=y?[p.ctrlpts[p.ctrlpts.length-2],p.ctrlpts[p.ctrlpts.length-1]]:_,T=_}else if(m){var M=b?p.segpts.slice(0,2):[l.x,l.y];S=b?p.segpts.slice(p.segpts.length-2):[s.x,s.y],T=M}"inside-to-node"===C?n=[l.x,l.y]:P.units?n=this.manualEndptToPx(o,P):"outside-to-line"===C?n=p.tgtIntn:("outside-to-node"===C?D=S:"outside-to-line"===C&&(D=[s.x,s.y]),n=t.nodeShapes[this.getNodeShape(o)].intersectLine(l.x,l.y,o.outerWidth(),o.outerHeight(),D[0],D[1],0));var N=r.shortenIntersection(n,S,t.arrowShapes[u].spacing(e)+d),B=r.shortenIntersection(n,S,t.arrowShapes[u].gap(e)+d);p.endX=B[0],p.endY=B[1],p.arrowEndX=N[0],p.arrowEndY=N[1],"inside-to-node"===E?n=[s.x,s.y]:w.units?n=this.manualEndptToPx(a,w):"outside-to-line"===E?n=p.srcIntn:("outside-to-node"===E?k=T:"outside-to-line"===E&&(k=[l.x,l.y]),n=t.nodeShapes[this.getNodeShape(a)].intersectLine(s.x,s.y,a.outerWidth(),a.outerHeight(),k[0],k[1],0));var z=r.shortenIntersection(n,T,t.arrowShapes[c].spacing(e)+h),L=r.shortenIntersection(n,T,t.arrowShapes[c].gap(e)+h);p.startX=L[0],p.startY=L[1],p.arrowStartX=z[0],p.arrowStartY=z[1],x&&(i.number(p.startX)&&i.number(p.startY)&&i.number(p.endX)&&i.number(p.endY)?p.badLine=!1:p.badLine=!0)},getSourceEndpoint:function(e){var t=e[0]._private.rscratch;switch(t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}},getTargetEndpoint:function(e){var t=e[0]._private.rscratch;switch(t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}}};e.exports=a},function(e,t,n){function r(e,t,n){for(var r=function r(e,t,n,_r){return i.qbezierAt(e,t,n,_r)},o=t._private.rstyle.bezierPts,s=0;s<e.bezierProjPcts.length;s++){var l=e.bezierProjPcts[s];o.push({x:r(n[0],n[2],n[4],l),y:r(n[1],n[3],n[5],l)})}}var i=n(2),a={storeEdgeProjections:function(e){var t=e._private,n=t.rscratch,i=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===i||"bezier"===i||"self"===i||"compound"===i)for(var a=(t.rstyle.bezierPts=[],0);a+5<n.allpts.length;a+=4)r(this,e,n.allpts.slice(a,a+6));else if("segments"===i){var o=t.rstyle.linePts=[];for(a=0;a+1<n.allpts.length;a+=2)o.push({x:n.allpts[a],y:n.allpts[a+1]})}else if("haystack"===i){var s=n.haystackPts;t.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},recalculateEdgeProjections:function(e){this.findEdgeControlPoints(e)}};e.exports=a},function(e,t,n){var r=n(2),i=n(0),a=n(1),o={recalculateNodeLabelProjection:function(e){var t=e.pstyle("label").strValue;if(!i.emptyString(t)){var n,r,a=e._private,o=e.width(),s=e.height(),l=e.padding(),u=e.position(),c=e.pstyle("text-halign").strValue,d=e.pstyle("text-valign").strValue,h=a.rscratch,p=a.rstyle;switch(c){case"left":n=u.x-o/2-l;break;case"right":n=u.x+o/2+l;break;default:n=u.x}switch(d){case"top":r=u.y-s/2-l;break;case"bottom":r=u.y+s/2+l;break;default:r=u.y}h.labelX=n,h.labelY=r,p.labelX=n,p.labelY=r,this.applyLabelDimensions(e)}},recalculateEdgeLabelProjections:function(e){var t,n=e._private,i=n.rscratch,o=this,s={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(s.mid||s.source||s.target){t={x:i.midX,y:i.midY};var l=function l(e,t,r){a.setPrefixedProperty(n.rscratch,e,t,r),a.setPrefixedProperty(n.rstyle,e,t,r)};l("labelX",null,t.x),l("labelY",null,t.y);var u=function e(){function t(e,t,n,i,a){var o=r.dist(t,n),s=e.segments[e.segments.length-1],l={p0:t,p1:n,t0:i,t1:a,startDist:s?s.startDist+s.length:0,length:o};e.segments.push(l),e.length+=o}if(e.cache)return e.cache;for(var a=[],s=0;s+5<i.allpts.length;s+=4){var l={x:i.allpts[s],y:i.allpts[s+1]},u={x:i.allpts[s+2],y:i.allpts[s+3]},c={x:i.allpts[s+4],y:i.allpts[s+5]};a.push({p0:l,p1:u,p2:c,startDist:0,length:0,segments:[]})}var d=n.rstyle.bezierPts,h=o.bezierProjPcts.length;for(s=0;s<a.length;s++){var p=a[s],f=a[s-1];f&&(p.startDist=f.startDist+f.length),t(p,p.p0,d[s*h],0,o.bezierProjPcts[0]);for(var v=0;v<h-1;v++)t(p,d[s*h+v],d[s*h+v+1],o.bezierProjPcts[v],o.bezierProjPcts[v+1]);t(p,d[s*h+h-1],p.p2,o.bezierProjPcts[h-1],1)}return e.cache=a},c=function c(n){var a,o="source"===n;if(s[n]){var c=e.pstyle(n+"-text-offset").pfValue,d=function d(e,t){var n=t.x-e.x,r=t.y-e.y;return Math.atan(r/n)};switch(i.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var h,p=u(),f=0,v=0,g=0;g<p.length;g++){for(var y=p[o?g:p.length-1-g],m=0;m<y.segments.length;m++){var b=y.segments[o?m:y.segments.length-1-m],x=g===p.length-1&&m===y.segments.length-1;if(f=v,(v+=b.length)>=c||x){h={cp:y,segment:b};break}}if(h)break}y=h.cp;var w=(c-f)/(b=h.segment).length,E=b.t1-b.t0,P=o?b.t0+E*w:b.t1-E*w;P=r.bound(0,P,1),t=r.qbezierPtAt(y.p0,y.p1,y.p2,P),a=function(e,t,n,i){var a=r.bound(0,i-.001,1),o=r.bound(0,i+.001,1),s=r.qbezierPtAt(e,t,n,a),l=r.qbezierPtAt(e,t,n,o);return d(s,l)}(y.p0,y.p1,y.p2,P);break;case"straight":case"segments":case"haystack":var C,S,T,D,k=0,_=i.allpts.length;for(g=0;g+3<_&&(o?(T={x:i.allpts[g],y:i.allpts[g+1]},D={x:i.allpts[g+2],y:i.allpts[g+3]}):(T={x:i.allpts[_-2-g],y:i.allpts[_-1-g]},D={x:i.allpts[_-4-g],y:i.allpts[_-3-g]}),S=k,!((k+=C=r.dist(T,D))>=c));g+=2);P=(c-S)/C;P=r.bound(0,P,1),t=r.lineAt(T,D,P),a=d(T,D)}l("labelX",n,t.x),l("labelY",n,t.y),l("labelAutoAngle",n,a)}};c("source"),c("target"),this.applyLabelDimensions(e)}},applyLabelDimensions:function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},applyPrefixedLabelDimensions:function(e,t){var n=e._private,r=this.getLabelText(e,t),i=this.calculateLabelDimensions(e,r);a.setPrefixedProperty(n.rstyle,"labelWidth",t,i.width),a.setPrefixedProperty(n.rscratch,"labelWidth",t,i.width),a.setPrefixedProperty(n.rstyle,"labelHeight",t,i.height),a.setPrefixedProperty(n.rscratch,"labelHeight",t,i.height)},getLabelText:function(e,t){var n=e._private,r=t?t+"-":"",i=e.pstyle(r+"label").strValue,o=e.pstyle("text-transform").value,s=function s(e,r){return r?(a.setPrefixedProperty(n.rscratch,e,t,r),r):a.getPrefixedProperty(n.rscratch,e,t)};"none"==o||("uppercase"==o?i=i.toUpperCase():"lowercase"==o&&(i=i.toLowerCase()));var l=e.pstyle("text-wrap").value;if("wrap"===l){var u=s("labelKey");if(u&&s("labelWrapKey")===u)return s("labelWrapCachedText");for(var c=i.split("\n"),d=e.pstyle("text-max-width").pfValue,h=[],p=0;p<c.length;p++){var f=c[p];if(this.calculateLabelDimensions(e,f,"line="+f).width>d){for(var v=f.split(/\s+/),g="",y=0;y<v.length;y++){var m=v[y],b=0===g.length?m:g+" "+m;this.calculateLabelDimensions(e,b,"testLine="+b).width<=d?g+=m+" ":(h.push(g),g=m+" ")}g.match(/^\s+$/)||h.push(g)}else h.push(f)}s("labelWrapCachedLines",h),i=s("labelWrapCachedText",h.join("\n")),s("labelWrapKey",u)}else if("ellipsis"===l){d=e.pstyle("text-max-width").pfValue;for(var x="",w=!1,E=0;E<i.length;E++){if(this.calculateLabelDimensions(e,x+i[E]+"").width>d)break;x+=i[E],E===i.length-1&&(w=!0)}return w||(x+=""),x}return i},calculateLabelDimensions:function(e,t,n){var i=e._private.labelStyleKey+"$@$"+t;n&&(i+="$@$"+n);var a=this.labelDimCache||(this.labelDimCache={});if(a[i])return a[i];var o=e.pstyle("font-style").strValue,s=1*e.pstyle("font-size").pfValue+"px",l=e.pstyle("font-family").strValue,u=e.pstyle("font-weight").strValue,c=this.labelCalcDiv;c||(c=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(c));var d=c.style;return d.fontFamily=l,d.fontStyle=o,d.fontSize=s,d.fontWeight=u,d.position="absolute",d.left="-9999px",d.top="-9999px",d.zIndex="-1",d.visibility="hidden",d.pointerEvents="none",d.padding="0",d.lineHeight="1","wrap"===e.pstyle("text-wrap").value?d.whiteSpace="pre":d.whiteSpace="normal",c.textContent=t,a[i]={width:Math.ceil(c.clientWidth/1),height:Math.ceil(c.clientHeight/1)},a[i]},calculateLabelAngles:function(e){var n=e._private.rscratch,r=e.isEdge(),i=e.pstyle("text-rotation"),a=i.strValue;"none"===a?n.labelAngle=n.sourceLabelAngle=n.targetLabelAngle=0:r&&"autorotate"===a?(n.labelAngle=Math.atan(n.midDispY/n.midDispX),n.sourceLabelAngle=n.sourceLabelAutoAngle,n.targetLabelAngle=n.targetLabelAutoAngle):n.labelAngle=n.sourceLabelAngle=n.targetLabelAngle="autorotate"===a?0:i.pfValue}};e.exports=o},function(e,t,n){var r={getNodeShape:function(e){var n=e.pstyle("shape").value;if(e.isParent())return"rectangle"===n||"roundrectangle"===n||"cutrectangle"===n||"barrel"===n?n:"rectangle";if("polygon"===n){var r=e.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(r).name}return n}};e.exports=r},function(e,t,n){var r={registerCalculationListeners:function(){var e=this.cy,t=e.collection(),n=this,r=function r(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.merge(e);for(var i=0;i<e.length;i++){var o=e[i]._private,s=o.rstyle;r&&(s.clean=!1,o.bbCache=null);var l=s.dirtyEvents=s.dirtyEvents||{length:0};l[n.type]||(l[n.type]=!0,l.length++)}};n.binder(e).on("position.* style.* free.* bounds.*","node",function(e){var t=e.target;r(t,e),r(t.connectedEdges(),e)}).on("add.*","node",function(e){var t=e.target;r(t,e)}).on("background.*","node",function(e){var t=e.target;r(t,e,!1)}).on("add.* style.*","edge",function(e){var t=e.target;r(t,e),r(t.parallelEdges(),e)}).on("remove.*","edge",function(e){for(var n=e.target.parallelEdges(),i=0;i<n.length;i++){var a=n[i];a.removed()||r(a,e)}}).on("dirty.*","node",function(e){var t=e.target;r(t,e)});n.beforeRender(function i(r){if(r){var i=n.onUpdateEleCalcsFns;if(i)for(var a=0;a<i.length;a++)(0,i[a])(r,t);for(n.recalculateRenderedStyle(t,!1),a=0;a<t.length;a++)t[a]._private.rstyle.dirtyEvents=null;t=e.collection()}},n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},recalculateRenderedStyle:function(e,t){var n=[],r=[];if(!this.destroyed){void 0===t&&(t=!0);for(var i=0;i<e.length;i++){var s=(o=(a=e[i])._private).rstyle;t&&s.clean||a.removed()||"none"!==a.pstyle("display").value&&("nodes"===o.group?r.push(a):n.push(a),s.clean=!0)}for(i=0;i<r.length;i++){s=(o=(a=r[i])._private).rstyle;var l=a.position();this.recalculateNodeLabelProjection(a),s.nodeX=l.x,s.nodeY=l.y,s.nodeW=a.pstyle("width").pfValue,s.nodeH=a.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(i=0;i<n.length;i++){s=(o=(a=n[i])._private).rstyle;var a,o,u=o.rscratch;this.recalculateEdgeLabelProjections(a),s.srcX=u.arrowStartX,s.srcY=u.arrowStartY,s.tgtX=u.arrowEndX,s.tgtY=u.arrowEndY,s.midX=u.midX,s.midY=u.midY,s.labelAngle=u.labelAngle,s.sourceLabelAngle=u.sourceLabelAngle,s.targetLabelAngle=u.targetLabelAngle}}}};e.exports=r},function(e,t,n){var r=n(17),i={updateCachedGrabbedEles:function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var i=(r=e[n])._private.rscratch;r.grabbed()&&!r.isParent()?t.push(r):i.inDragLayer?e.drag.push(r):e.nondrag.push(r)}for(n=0;n<t.length;n++){var r=t[n];e.drag.push(r)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(r),t.interactive=t.filter(function(e){return e.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t}};e.exports=i},function(e,t,n){var r={getCachedImage:function(e,t,n){var i=this.imageCache=this.imageCache||{},a=i[e];if(a)return a.image.complete||a.image.addEventListener("load",n),a.image;var o=(a=i[e]=i[e]||{}).image=new Image;return o.addEventListener("load",n),o.addEventListener("error",function(){o.error=!0}),"data:"===e.substring(0,"data:".length).toLowerCase()||(o.crossOrigin=t),o.src=e,o}};e.exports=r},function(e,t,n){var r=n(0),i=n(1),a=n(2),o=(n(16),{});o.registerBinding=function(e,t,n,r){var i=Array.prototype.slice.apply(arguments,[1]),a=this.binder(e);return a.on.apply(a,i)},o.binder=function(e){var t=this,n=e===window||e===document||e===document.body||r.domElement(e);if(null==t.supportsPassiveEvents){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function get(){i=!0}});window.addEventListener("test",null,a)}catch(e){}t.supportsPassiveEvents=i}var o=function o(r,i,a){var o=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(o[2]={capture:null!=a&&a,passive:!1,once:!1}),t.bindings.push({target:e,args:o}),(e.addEventListener||e.on).apply(e,o),this};return{on:o,addEventListener:o,addListener:o,bind:o}},o.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},o.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()},o.load=function(){var e=this,t=function t(_t3,n,r,a){null==_t3&&(_t3=e.cy);for(var o=0;o<n.length;o++){var s=n[o];_t3.emit(i.extend({originalEvent:r,type:s},a))}},n=function n(e){return e.shiftKey||e.metaKey||e.ctrlKey},o=function o(t,n){var r=!0;if(e.cy.hasCompoundNodes()&&t&&t.isEdge())for(var i=0;n&&i<n.length;i++){if((t=n[i]).isNode()&&t.isParent()){r=!1;break}}else r=!0;return r},s=function s(t){var n;if(t.addToList&&e.cy.hasCompoundNodes()){if(!t.addToList.hasId){t.addToList.hasId={};for(var r=0;r<t.addToList.length;r++){var i=t.addToList[r];t.addToList.hasId[i.id()]=!0}}n=t.addToList.hasId}return n||{}},c=function c(e){e[0]._private.rscratch.inDragLayer=!0},h=function h(e){e[0]._private.rscratch.isGrabTarget=!0},f=function f(e,t){var n=s(t);n[e.id()]||(t.addToList.push(e),n[e.id()]=!0,function l(e){e[0]._private.grabbed=!0}(e))},g=function g(t,n){n=n||{};var r=t.cy().hasCompoundNodes();n.inDragLayer&&(t.forEach(c),t.neighborhood().stdFilter(function(e){return!r||e.isEdge()}).forEach(c)),n.addToList&&t.forEach(function(e){f(e,n)}),function v(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var n=e.descendants();t.inDragLayer&&(n.forEach(c),n.connectedEdges().forEach(c)),t.addToList&&n.forEach(function(e){f(e,t)})}}(t,n),b(t,{inDragLayer:n.inDragLayer}),e.updateCachedGrabbedEles()},y=g,m=function m(t){t&&(t.hasId={},e.getCachedZSortedEles().forEach(function(e){(function u(e){e[0]._private.grabbed=!1})(e),function d(e){e[0]._private.rscratch.inDragLayer=!1}(e),function p(e){e[0]._private.rscratch.isGrabTarget=!1}(e)}),e.updateCachedGrabbedEles())},b=function b(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var n=e.ancestors().orphans();if(!n.same(e)){var r=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),i=r.connectedEdges();t.inDragLayer&&(i.forEach(c),r.forEach(c)),t.addToList&&r.forEach(function(e){f(e,t)})}}},x="undefined"!=typeof MutationObserver;x?(e.removeObserver=new MutationObserver(function(t){for(var n=0;n<t.length;n++){var i=t[n].removedNodes;if(i)for(var a=0;a<i.length;a++){if(i[a]===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(t){e.destroy()});var w=i.debounce(function(){e.cy.resize()},100);x&&(e.styleObserver=new MutationObserver(w),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(window,"resize",w);var E=function E(){e.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)t(e),e=e.parentNode}(e.container,function(t){e.registerBinding(t,"transitionend",E),e.registerBinding(t,"animationend",E),e.registerBinding(t,"scroll",E)}),e.registerBinding(e.container,"contextmenu",function(e){e.preventDefault()});var C=function C(t){for(var n=e.findContainerClientCoords(),r=n[0],i=n[1],a=n[2],o=n[3],s=t.touches?t.touches:[t],l=!1,u=0;u<s.length;u++){var c=s[u];if(r<=c.clientX&&c.clientX<=r+a&&i<=c.clientY&&c.clientY<=i+o){l=!0;break}}if(!l)return!1;for(var d=e.container,p=t.target.parentNode,f=!1;p;){if(p===d){f=!0;break}p=p.parentNode}return!!f};e.registerBinding(e.container,"mousedown",function(n){if(C(n)){n.preventDefault(),e.hoverData.capture=!0,e.hoverData.which=n.which;var r=e.cy,i=[n.clientX,n.clientY],a=e.projectIntoViewport(i[0],i[1]),o=e.selection,s=e.findNearestElements(a[0],a[1],!0,!1),l=s[0],u=e.dragData.possibleDragElements;if(e.hoverData.mdownPos=a,e.hoverData.mdownGPos=i,3==n.which){e.hoverData.cxtStarted=!0;var c={originalEvent:n,type:"cxttapstart",position:{x:a[0],y:a[1]}};l?(l.activate(),l.emit(c),e.hoverData.down=l):r.emit(c),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==n.which){if(l&&l.activate(),null!=l&&e.nodeIsGrabbable(l)){var d=function d(e){return{originalEvent:n,type:e,position:{x:a[0],y:a[1]}}};if(h(l),l.selected()){u=e.dragData.possibleDragElements=[];var f=r.$(function(t){return t.isNode()&&t.selected()&&e.nodeIsGrabbable(t)});g(f,{addToList:u}),l.emit(d("grabon")),f.forEach(function p(e){e.emit(d("grab"))})}else u=e.dragData.possibleDragElements=[],y(l,{addToList:u}),l.emit(d("grabon")).emit(d("grab"));e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=l,e.hoverData.downs=s,e.hoverData.downTime=(new Date).getTime(),t(l,["mousedown","tapstart","vmousedown"],n,{position:{x:a[0],y:a[1]}}),null==l?(o[4]=1,e.data.bgActivePosistion={x:a[0],y:a[1]},e.redrawHint("select",!0),e.redraw()):l.isEdge()&&(o[4]=1),e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var t=e.hoverData.down;t?t.emit({originalEvent:n,type:"taphold",position:{x:a[0],y:a[1]}}):r.emit({originalEvent:n,type:"taphold",position:{x:a[0],y:a[1]}})}},e.tapholdDuration)}o[0]=o[2]=a[0],o[1]=o[3]=a[1]}},!1),e.registerBinding(window,"mousemove",function(i){if(e.hoverData.capture||C(i)){var s=!1,l=e.cy,u=l.zoom(),c=[i.clientX,i.clientY],d=e.projectIntoViewport(c[0],c[1]),h=e.hoverData.mdownPos,p=e.hoverData.mdownGPos,f=e.selection,v=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(v=e.findNearestElement(d[0],d[1],!0,!1));var y,b=e.hoverData.last,x=e.hoverData.down,w=[d[0]-f[2],d[1]-f[3]],E=e.dragData.possibleDragElements;if(p){var P=c[0]-p[0],S=P*P,T=c[1]-p[1],k=S+T*T;e.hoverData.isOverThresholdDrag=y=k>=e.desktopTapThreshold2}var _=n(i);y&&(e.hoverData.tapholdCancelled=!0),s=!0,t(v,["mousemove","vmousemove","tapdrag"],i,{position:{x:d[0],y:d[1]}});var M=function M(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||l.emit("boxstart"),f[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(3===e.hoverData.which){if(y){var I={originalEvent:i,type:"cxtdrag",position:{x:d[0],y:d[1]}};x?x.emit(I):l.emit(I),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&v===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:i,type:"cxtdragout",position:{x:d[0],y:d[1]}}),e.hoverData.cxtOver=v,v&&v.emit({originalEvent:i,type:"cxtdragover",position:{x:d[0],y:d[1]}}))}}else if(e.hoverData.dragging){if(s=!0,l.panningEnabled()&&l.userPanningEnabled()){var N;if(e.hoverData.justStartedPan){var B=e.hoverData.mdownPos;N={x:(d[0]-B[0])*u,y:(d[1]-B[1])*u},e.hoverData.justStartedPan=!1}else N={x:w[0]*u,y:w[1]*u};l.panBy(N),e.hoverData.dragged=!0}d=e.projectIntoViewport(i.clientX,i.clientY)}else if(1!=f[4]||null!=x&&!x.isEdge()){if(x&&x.isEdge()&&x.active()&&x.unactivate(),x&&x.grabbed()||v==b||(b&&t(b,["mouseout","tapdragout"],i,{position:{x:d[0],y:d[1]}}),v&&t(v,["mouseover","tapdragover"],i,{position:{x:d[0],y:d[1]}}),e.hoverData.last=v),x)if(y){if(l.boxSelectionEnabled()&&_)x&&x.grabbed()&&(m(E),x.emit("free")),M();else if(x&&x.grabbed()&&e.nodeIsDraggable(x)){var z=!e.dragData.didDrag;z&&e.redrawHint("eles",!0),e.dragData.didDrag=!0;var L=[];e.hoverData.draggingEles||g(l.collection(E),{inDragLayer:!0});for(var A=0;A<E.length;A++){var O=E[A];if(e.nodeIsDraggable(O)&&O.grabbed()){var R=O.position();if(L.push(O),r.number(w[0])&&r.number(w[1])&&(R.x+=w[0],R.y+=w[1],z)){var V=e.hoverData.dragDelta;V&&r.number(V[0])&&r.number(V[1])&&(R.x+=V[0],R.y+=V[1])}}}e.hoverData.draggingEles=!0;var q=l.collection(L);q.dirtyCompoundBoundsCache(),q.emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else!function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(w[0]),t.push(w[1])):(t[0]+=w[0],t[1]+=w[1])}();s=!0}else if(y){if(e.hoverData.dragging||!l.boxSelectionEnabled()||!_&&l.panningEnabled()&&l.userPanningEnabled()){if(!e.hoverData.selecting&&l.panningEnabled()&&l.userPanningEnabled())o(x,e.hoverData.downs)&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,f[4]=0,e.data.bgActivePosistion=a.array2point(h),e.redrawHint("select",!0),e.redraw())}else M();x&&x.isEdge()&&x.active()&&x.unactivate()}return f[2]=d[0],f[3]=d[1],s?(i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault(),!1):void 0}},!1),e.registerBinding(window,"mouseup",function(r){if(e.hoverData.capture){e.hoverData.capture=!1;var i=e.cy,a=e.projectIntoViewport(r.clientX,r.clientY),o=e.selection,s=e.findNearestElement(a[0],a[1],!0,!1),l=e.dragData.possibleDragElements,u=e.hoverData.down,c=n(r);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,u&&u.unactivate(),3===e.hoverData.which){var d={originalEvent:r,type:"cxttapend",position:{x:a[0],y:a[1]}};if(u?u.emit(d):i.emit(d),!e.hoverData.cxtDragged){var h={originalEvent:r,type:"cxttap",position:{x:a[0],y:a[1]}};u?u.emit(h):i.emit(h)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(null!=u||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||n(r)||(i.$(function(e){return e.selected()}).unselect(),l.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=l=[]),t(s,["mouseup","tapend","vmouseup"],r,{position:{x:a[0],y:a[1]}}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||e.hoverData.isOverThresholdDrag||t(u,["click","tap","vclick"],r,{position:{x:a[0],y:a[1]}}),s!=u||e.dragData.didDrag||e.hoverData.selecting||null!=s&&s._private.selectable&&(e.hoverData.dragging||("additive"===i.selectionType()||c?s.selected()?s.unselect():s.select():c||(i.$(":selected").unmerge(s).unselect(),s.select())),e.redrawHint("eles",!0)),e.hoverData.selecting){var p=i.collection(e.getAllInBox(o[0],o[1],o[2],o[3]));e.redrawHint("select",!0),p.length>0&&e.redrawHint("eles",!0),i.emit("boxend");var f=function f(e){return e.selectable()&&!e.selected()};"additive"===i.selectionType()?p.emit("box").stdFilter(f).select().emit("boxselect"):(c||i.$(":selected").unmerge(p).unselect(),p.emit("box").stdFilter(f).select().emit("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!o[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var v=u&&u.grabbed();m(l),v&&u.emit("free")}}o[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null}},!1);e.registerBinding(e.container,"wheel",function S(t){if(!e.scrollingPage){var a,n=e.cy,r=e.projectIntoViewport(t.clientX,t.clientY),i=[r[0]*n.zoom()+n.pan().x,r[1]*n.zoom()+n.pan().y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||function P(){return 0!==e.selection[4]}())return void t.preventDefault();n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()&&(t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150),a=null!=t.deltaY?t.deltaY/-250:null!=t.wheelDeltaY?t.wheelDeltaY/1e3:t.wheelDelta/1e3,a*=e.wheelSensitivity,1===t.deltaMode&&(a*=33),n.zoom({level:n.zoom()*Math.pow(10,a),renderedPosition:{x:i[0],y:i[1]}}))}},!0),e.registerBinding(window,"scroll",function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"mouseout",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseout",position:{x:n[0],y:n[1]}})},!1),e.registerBinding(e.container,"mouseover",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseover",position:{x:n[0],y:n[1]}})},!1);var T,D,k,_,M,I,N,B,z,L,A,O,R,V,j,X,Y,q=function q(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},F=function F(e,t,n,r){return(n-e)*(n-e)+(r-t)*(r-t)};if(e.registerBinding(e.container,"touchstart",V=function V(n){if(C(n)){e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var r=e.cy,i=e.touchData.now,a=e.touchData.earlier;if(n.touches[0]){var o=e.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);i[0]=o[0],i[1]=o[1]}if(n.touches[1]){o=e.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);i[2]=o[0],i[3]=o[1]}if(n.touches[2]){o=e.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);i[4]=o[0],i[5]=o[1]}if(n.touches[1]){m(e.dragData.touchDragEles);var s=e.findContainerClientCoords();z=s[0],L=s[1],A=s[2],O=s[3],T=n.touches[0].clientX-z,D=n.touches[0].clientY-L,k=n.touches[1].clientX-z,_=n.touches[1].clientY-L,R=0<=T&&T<=A&&0<=k&&k<=A&&0<=D&&D<=O&&0<=_&&_<=O;var l=r.pan(),u=r.zoom();if(M=q(T,D,k,_),I=F(T,D,k,_),B=[((N=[(T+k)/2,(D+_)/2])[0]-l.x)/u,(N[1]-l.y)/u],I<4e4&&!n.touches[2]){var c=e.findNearestElement(i[0],i[1],!0,!0),d=e.findNearestElement(i[2],i[3],!0,!0);return c&&c.isNode()?(c.activate().emit({originalEvent:n,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start=c):d&&d.isNode()?(d.activate().emit({originalEvent:n,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start=d):r.emit({originalEvent:n,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(n.touches[2]);else if(n.touches[1]);else if(n.touches[0]){var p=e.findNearestElements(i[0],i[1],!0,!0),f=p[0];if(null!=f&&(f.activate(),e.touchData.start=f,e.touchData.starts=p,e.nodeIsGrabbable(f))){var v=e.dragData.touchDragEles=[],b=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),f.selected()?(b=r.$(function(t){return t.selected()&&e.nodeIsGrabbable(t)}),g(b,{addToList:v})):y(f,{addToList:v}),h(f);var x=function x(e){return{originalEvent:n,type:e,position:{x:i[0],y:i[1]}}};f.emit(x("grabon")),b?b.forEach(function(e){e.emit(x("grab"))}):f.emit(x("grab"))}t(f,["touchstart","tapstart","vmousedown"],n,{position:{x:i[0],y:i[1]}}),null==f&&(e.data.bgActivePosistion={x:o[0],y:o[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){!1!==e.touchData.singleTouchMoved||e.pinching||e.touchData.selecting||(t(e.touchData.start,["taphold"],n,{position:{x:i[0],y:i[1]}}),e.touchData.start||r.$(":selected").unselect())},e.tapholdDuration)}if(n.touches.length>=1){for(var w=e.touchData.startPosition=[],E=0;E<i.length;E++)w[E]=a[E]=i[E];var P=n.touches[0];e.touchData.startGPosition=[P.clientX,P.clientY]}}},!1),e.registerBinding(window,"touchmove",j=function j(n){var i=e.touchData.capture;if(i||C(n)){var s=e.selection,l=e.cy,u=e.touchData.now,c=e.touchData.earlier,d=l.zoom();if(n.touches[0]){var h=e.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);u[0]=h[0],u[1]=h[1]}if(n.touches[1]){h=e.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);u[2]=h[0],u[3]=h[1]}if(n.touches[2]){h=e.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);u[4]=h[0],u[5]=h[1]}var p,f=e.touchData.startGPosition;if(i&&n.touches[0]&&f){for(var v=[],y=0;y<u.length;y++)v[y]=u[y]-c[y];var b=n.touches[0].clientX-f[0],x=b*b,w=n.touches[0].clientY-f[1];p=x+w*w>=e.touchTapThreshold2}if(i&&e.touchData.cxt){n.preventDefault();var E=n.touches[0].clientX-z,P=n.touches[0].clientY-L,S=n.touches[1].clientX-z,N=n.touches[1].clientY-L,A=F(E,P,S,N);if(A/I>=2.25||A>=22500){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var V={originalEvent:n,type:"cxttapend",position:{x:u[0],y:u[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(V),e.touchData.start=null):l.emit(V)}}if(i&&e.touchData.cxt){V={originalEvent:n,type:"cxtdrag",position:{x:u[0],y:u[1]}};e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(V):l.emit(V),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;j=e.findNearestElement(u[0],u[1],!0,!0);e.touchData.cxtOver&&j===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:n,type:"cxtdragout",position:{x:u[0],y:u[1]}}),e.touchData.cxtOver=j,j&&j.emit({originalEvent:n,type:"cxtdragover",position:{x:u[0],y:u[1]}}))}else if(i&&n.touches[2]&&l.boxSelectionEnabled())n.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||l.emit("boxstart"),e.touchData.selecting=!0,e.redrawHint("select",!0),s&&0!==s.length&&void 0!==s[0]?(s[2]=(u[0]+u[2]+u[4])/3,s[3]=(u[1]+u[3]+u[5])/3):(s[0]=(u[0]+u[2]+u[4])/3,s[1]=(u[1]+u[3]+u[5])/3,s[2]=(u[0]+u[2]+u[4])/3+1,s[3]=(u[1]+u[3]+u[5])/3+1),s[4]=1,e.touchData.selecting=!0,e.redraw();else if(i&&n.touches[1]&&l.zoomingEnabled()&&l.panningEnabled()&&l.userZoomingEnabled()&&l.userPanningEnabled()){if(n.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),X=e.dragData.touchDragEles){e.redrawHint("drag",!0);for(var Y=0;Y<X.length;Y++){var W=X[Y]._private;W.grabbed=!1,W.rscratch.inDragLayer=!1}}E=n.touches[0].clientX-z,P=n.touches[0].clientY-L,S=n.touches[1].clientX-z,N=n.touches[1].clientY-L;var H=q(E,P,S,N),Z=H/M;if(R){var K=(E-T+(S-k))/2,J=(P-D+(N-_))/2,ee=l.zoom(),te=ee*Z,ne=l.pan(),re=B[0]*ee+ne.x,ie=B[1]*ee+ne.y,ae={x:-te/ee*(re-ne.x-K)+re,y:-te/ee*(ie-ne.y-J)+ie};if(e.touchData.start&&e.touchData.start.active()){var X=e.dragData.touchDragEles;m(X),e.redrawHint("drag",!0),e.redrawHint("eles",!0),e.touchData.start.unactivate().emit("free")}l.viewport({zoom:te,pan:ae,cancelOnFailedZoom:!0}),M=H,T=E,D=P,k=S,_=N,e.pinching=!0}if(n.touches[0]){h=e.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);u[0]=h[0],u[1]=h[1]}if(n.touches[1]){h=e.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);u[2]=h[0],u[3]=h[1]}if(n.touches[2]){h=e.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);u[4]=h[0],u[5]=h[1]}}else if(n.touches[0]){var j,oe=e.touchData.start,se=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(j=e.findNearestElement(u[0],u[1],!0,!0)),i&&null!=oe&&n.preventDefault(),i&&null!=oe&&e.nodeIsDraggable(oe))if(p){X=e.dragData.touchDragEles;var le=!e.dragData.didDrag;le&&g(l.collection(X),{inDragLayer:!0});for(var ue=0;ue<X.length;ue++){var ce=X[ue];if(e.nodeIsDraggable(ce)&&ce.grabbed()){e.dragData.didDrag=!0;var de=ce.position();if(r.number(v[0])&&r.number(v[1])&&(de.x+=v[0],de.y+=v[1]),le)e.redrawHint("eles",!0),(he=e.touchData.dragDelta)&&r.number(he[0])&&r.number(he[1])&&(de.x+=he[0],de.y+=he[1])}}var pe=l.collection(X);pe.dirtyCompoundBoundsCache(),pe.emit("position drag"),e.hoverData.draggingEles=!0,e.redrawHint("drag",!0),e.touchData.startPosition[0]==c[0]&&e.touchData.startPosition[1]==c[1]&&e.redrawHint("eles",!0),e.redraw()}else{var he;0===(he=e.touchData.dragDelta=e.touchData.dragDelta||[]).length?(he.push(v[0]),he.push(v[1])):(he[0]+=v[0],he[1]+=v[1])}if(t(oe||j,["touchmove","tapdrag","vmousemove"],n,{position:{x:u[0],y:u[1]}}),oe&&oe.grabbed()||j==se||(se&&se.emit({originalEvent:n,type:"tapdragout",position:{x:u[0],y:u[1]}}),j&&j.emit({originalEvent:n,type:"tapdragover",position:{x:u[0],y:u[1]}})),e.touchData.last=j,i)for(Y=0;Y<u.length;Y++)u[Y]&&e.touchData.startPosition[Y]&&p&&(e.touchData.singleTouchMoved=!0);if(i&&(null==oe||oe.isEdge())&&l.panningEnabled()&&l.userPanningEnabled()){o(oe,e.touchData.starts)&&(n.preventDefault(),e.swipePanning?l.panBy({x:v[0]*d,y:v[1]*d}):p&&(e.swipePanning=!0,l.panBy({x:b*d,y:w*d}),oe&&(oe.unactivate(),e.data.bgActivePosistion||(e.data.bgActivePosistion=a.array2point(e.touchData.startPosition)),e.redrawHint("select",!0),e.touchData.start=null)));h=e.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);u[0]=h[0],u[1]=h[1]}}for(y=0;y<u.length;y++)c[y]=u[y]}},!1),e.registerBinding(window,"touchcancel",X=function X(t){var n=e.touchData.start;e.touchData.capture=!1,n&&n.unactivate()}),e.registerBinding(window,"touchend",Y=function Y(n){var r=e.touchData.start;if(e.touchData.capture){e.touchData.capture=!1,n.preventDefault();var i=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var c,a=e.cy,o=a.zoom(),s=e.touchData.now,l=e.touchData.earlier;if(n.touches[0]){var u=e.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);s[0]=u[0],s[1]=u[1]}if(n.touches[1]){u=e.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);s[2]=u[0],s[3]=u[1]}if(n.touches[2]){u=e.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);s[4]=u[0],s[5]=u[1]}if(r&&r.unactivate(),e.touchData.cxt){if(c={originalEvent:n,type:"cxttapend",position:{x:s[0],y:s[1]}},r?r.emit(c):a.emit(c),!e.touchData.cxtDragged){var d={originalEvent:n,type:"cxttap",position:{x:s[0],y:s[1]}};r?r.emit(d):a.emit(d)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!n.touches[2]&&a.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var h=a.collection(e.getAllInBox(i[0],i[1],i[2],i[3]));i[0]=void 0,i[1]=void 0,i[2]=void 0,i[3]=void 0,i[4]=0,e.redrawHint("select",!0),a.emit("boxend");h.emit("box").stdFilter(function p(e){return e.selectable()&&!e.selected()}).select().emit("boxselect"),h.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=r&&r.unactivate(),n.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(n.touches[1]);else if(n.touches[0]);else if(!n.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var f=e.dragData.touchDragEles;if(null!=r){var v=r._private.grabbed;m(f),e.redrawHint("drag",!0),e.redrawHint("eles",!0),v&&r.emit("free"),t(r,["touchend","tapend","vmouseup","tapdragout"],n,{position:{x:s[0],y:s[1]}}),r.unactivate(),e.touchData.start=null}else{var g=e.findNearestElement(s[0],s[1],!0,!0);t(g,["touchend","tapend","vmouseup","tapdragout"],n,{position:{x:s[0],y:s[1]}})}var y=e.touchData.startPosition[0]-s[0],b=y*y,x=e.touchData.startPosition[1]-s[1],P=(b+x*x)*o*o;null!=r&&!e.dragData.didDrag&&r._private.selectable&&P<e.touchTapThreshold2&&!e.pinching&&("single"===a.selectionType()?(a.$(":selected").unmerge(r).unselect(),r.select()):r.selected()?r.unselect():r.select(),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved||t(r,["tap","vclick"],n,{position:{x:s[0],y:s[1]}}),e.touchData.singleTouchMoved=!0}for(var C=0;C<s.length;C++)l[C]=s[C];e.dragData.didDrag=!1,0===n.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=null,e.touchData.startGPosition=null),n.touches.length<2&&(e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"==typeof TouchEvent){var W=[],H=function H(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},$=function $(e){W.push(function Z(e){return{event:e,touch:H(e)}}(e))},U=function U(e){for(var t=0;t<W.length;t++)if(W[t].event.pointerId===e.pointerId)return void W.splice(t,1)},Q=function Q(e){e.touches=W.map(function(e){return e.touch})},K=function K(e){return"mouse"===e.pointerType||4===e.pointerType};e.registerBinding(e.container,"pointerdown",function(e){K(e)||(e.preventDefault(),$(e),Q(e),V(e))}),e.registerBinding(e.container,"pointerup",function(e){K(e)||(U(e),Q(e),Y(e))}),e.registerBinding(e.container,"pointercancel",function(e){K(e)||(U(e),Q(e),X())}),e.registerBinding(e.container,"pointermove",function(e){K(e)||(e.preventDefault(),function G(e){var t=W.filter(function(t){return t.event.pointerId===e.pointerId})[0];t.event=e,t.touch=H(e)}(e),Q(e),j(e))})}},e.exports=o},function(e,t,n){var r=n(2),i={generatePolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function draw(e,t,n,r,i){this.renderer.nodeShapeImpl("polygon",e,t,n,r,i,this.points)},intersectLine:function intersectLine(e,t,n,i,a,o,s){return r.polygonIntersectLine(a,o,this.points,e,t,n/2,i/2,s)},checkPoint:function checkPoint(e,t,n,i,a,o,s){return r.pointInsidePolygon(e,t,this.points,o,s,i,a,[0,-1],n)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function draw(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function intersectLine(e,t,n,i,a,o,s){return r.intersectLineEllipse(a,o,e,t,n/2+s,i/2+s)},checkPoint:function checkPoint(e,t,n,i,a,o,s){return r.checkInEllipse(e,t,i,a,o,s,n)}}},generateRoundRectangle:function(){return this.nodeShapes.roundrectangle={renderer:this,name:"roundrectangle",points:r.generateUnitNgonPointsFitToSquare(4,0),draw:function draw(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function intersectLine(e,t,n,i,a,o,s){return r.roundRectangleIntersectLine(a,o,e,t,n,i,s)},checkPoint:function checkPoint(e,t,n,i,a,o,s){var l=r.getRoundRectangleRadius(i,a),u=2*l;return!!(r.pointInsidePolygon(e,t,this.points,o,s,i,a-u,[0,-1],n)||r.pointInsidePolygon(e,t,this.points,o,s,i-u,a,[0,-1],n)||r.checkInEllipse(e,t,u,u,o-i/2+l,s-a/2+l,n)||r.checkInEllipse(e,t,u,u,o+i/2-l,s-a/2+l,n)||r.checkInEllipse(e,t,u,u,o+i/2-l,s+a/2-l,n)||r.checkInEllipse(e,t,u,u,o-i/2+l,s+a/2-l,n))}}},generateCutRectangle:function(){return this.nodeShapes.cutrectangle={renderer:this,name:"cutrectangle",cornerLength:r.getCutRectangleCornerLength(),points:r.generateUnitNgonPointsFitToSquare(4,0),draw:function draw(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},generateCutTrianglePts:function generateCutTrianglePts(e,t,n,r){var i=this.cornerLength,a=t/2,o=e/2,s=n-o,l=n+o,u=r-a,c=r+a;return{topLeft:[s,u+i,s+i,u,s+i,u+i],topRight:[l-i,u,l,u+i,l-i,u+i],bottomRight:[l,c-i,l-i,c,l-i,c-i],bottomLeft:[s+i,c,s,c-i,s+i,c-i]}},intersectLine:function intersectLine(e,t,n,i,a,o,s){var l=this.generateCutTrianglePts(n+2*s,i+2*s,e,t),u=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return r.polygonIntersectLine(a,o,u,e,t)},checkPoint:function checkPoint(e,t,n,i,a,o,s){if(r.pointInsidePolygon(e,t,this.points,o,s,i,a-2*this.cornerLength,[0,-1],n))return!0;if(r.pointInsidePolygon(e,t,this.points,o,s,i-2*this.cornerLength,a,[0,-1],n))return!0;var l=this.generateCutTrianglePts(i,a,o,s);return r.pointInsidePolygonPoints(e,t,l.topLeft)||r.pointInsidePolygonPoints(e,t,l.topRight)||r.pointInsidePolygonPoints(e,t,l.bottomRight)||r.pointInsidePolygonPoints(e,t,l.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:r.generateUnitNgonPointsFitToSquare(4,0),draw:function draw(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function intersectLine(e,t,n,i,a,o,s){var l=this.generateBarrelBezierPts(n+2*s,i+2*s,e,t),u=function u(e){var t=r.qbezierPtAt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.15),n=r.qbezierPtAt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.5),i=r.qbezierPtAt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.85);return[e[0],e[1],t.x,t.y,n.x,n.y,i.x,i.y,e[4],e[5]]},c=[].concat(u(l.topLeft),u(l.topRight),u(l.bottomRight),u(l.bottomLeft));return r.polygonIntersectLine(a,o,c,e,t)},generateBarrelBezierPts:function generateBarrelBezierPts(e,t,n,i){var a=t/2,o=e/2,s=n-o,l=n+o,u=i-a,c=i+a,d=r.getBarrelCurveConstants(e,t),h=d.heightOffset,p=d.widthOffset,f=d.ctrlPtOffsetPct*e,v={topLeft:[s,u+h,s+f,u,s+p,u],topRight:[l-p,u,l-f,u,l,u+h],bottomRight:[l,c-h,l-f,c,l-p,c],bottomLeft:[s+p,c,s+f,c,s,c-h]};return v.topLeft.isTop=!0,v.topRight.isTop=!0,v.bottomLeft.isBottom=!0,v.bottomRight.isBottom=!0,v},checkPoint:function checkPoint(e,t,n,i,a,o,s){var l=r.getBarrelCurveConstants(i,a),u=l.heightOffset,c=l.widthOffset;if(r.pointInsidePolygon(e,t,this.points,o,s,i,a-2*u,[0,-1],n))return!0;if(r.pointInsidePolygon(e,t,this.points,o,s,i-2*c,a,[0,-1],n))return!0;for(var d=this.generateBarrelBezierPts(i,a,o,s),h=Object.keys(d),p=0;p<h.length;p++){var v=d[h[p]],g=function(e,t,n){var i=n[4],a=n[2],o=n[0],s=n[5],l=n[1],u=Math.min(i,o),c=Math.max(i,o),d=Math.min(s,l),h=Math.max(s,l);if(u<=e&&e<=c&&d<=t&&t<=h){var p=r.bezierPtsToQuadCoeff(i,a,o),v=r.solveQuadratic(p[0],p[1],p[2],e).filter(function(e){return 0<=e&&e<=1});if(v.length>0)return v[0]}return null}(e,t,v);if(null!=g){var y=v[5],m=v[3],b=v[1],x=r.qbezierAt(y,m,b,g);if(v.isTop&&x<=t)return!0;if(v.isBottom&&t<=x)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottomroundrectangle",points:r.generateUnitNgonPointsFitToSquare(4,0),draw:function draw(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function intersectLine(e,t,n,i,a,o,s){var l=e-(n/2+s),u=t-(i/2+s),c=u,d=e+(n/2+s),h=r.finiteLinesIntersect(a,o,e,t,l,u,d,c,!1);return h.length>0?h:r.roundRectangleIntersectLine(a,o,e,t,n,i,s)},checkPoint:function checkPoint(e,t,n,i,a,o,s){var l=r.getRoundRectangleRadius(i,a),u=2*l;if(r.pointInsidePolygon(e,t,this.points,o,s,i,a-u,[0,-1],n))return!0;if(r.pointInsidePolygon(e,t,this.points,o,s,i-u,a,[0,-1],n))return!0;var c=i/2+2*n,d=a/2+2*n,h=[o-c,s-d,o-c,s,o+c,s,o+c,s-d];return!!r.pointInsidePolygonPoints(e,t,h)||!!r.checkInEllipse(e,t,u,u,o+i/2-l,s+a/2-l,n)||!!r.checkInEllipse(e,t,u,u,o-i/2+l,s+a/2-l,n)}}},registerNodeShapes:function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",r.generateUnitNgonPointsFitToSquare(3,0)),this.generatePolygon("rectangle",r.generateUnitNgonPointsFitToSquare(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle(),this.generatePolygon("diamond",[0,1,1,0,0,-1,-1,0]),this.generatePolygon("pentagon",r.generateUnitNgonPointsFitToSquare(5,0)),this.generatePolygon("hexagon",r.generateUnitNgonPointsFitToSquare(6,0)),this.generatePolygon("heptagon",r.generateUnitNgonPointsFitToSquare(7,0)),this.generatePolygon("octagon",r.generateUnitNgonPointsFitToSquare(8,0));var n=new Array(20),i=r.generateUnitNgonPoints(5,0),a=r.generateUnitNgonPoints(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<a.length/2;s++)a[2*s]*=o,a[2*s+1]*=o;for(s=0;s<5;s++)n[4*s]=i[2*s],n[4*s+1]=i[2*s+1],n[4*s+2]=a[2*s],n[4*s+3]=a[2*s+1];n=r.fitPolygonToSquare(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("concavehexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]),this.generatePolygon("tag",[-1,-1,.25,-1,1,0,.25,1,-1,1]),e.makePolygon=function(e){var n,i="polygon-"+e.join("$");return(n=this[i])?n:t.generatePolygon(i,e)}}};e.exports=i},function(e,t,n){var r=n(1),i={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(e){e=e||r.staticEmptyObject();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},beforeRender:function(e,t){if(!this.destroyed){t=t||0;var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort(function(e,t){return t.priority-e.priority})}}},a=function a(e,t,n){for(var r=e.beforeRenderCallbacks,i=0;i<r.length;i++)r[i].fn(t,n)};i.startRenderLoop=function(){var e=this;if(!e.renderLoopStarted){e.renderLoopStarted=!0;r.requestAnimationFrame(function t(n){if(!e.destroyed){if(e.requestedFrame&&!e.skipFrame){a(e,!0,n);var i=r.performanceNow();e.render(e.renderOptions);var o=e.lastDrawTime=r.performanceNow();void 0===e.averageRedrawTime&&(e.averageRedrawTime=o-i),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var s=o-i;e.redrawTotalTime+=s,e.lastRedrawTime=s,e.averageRedrawTime=e.averageRedrawTime/2+s/2,e.requestedFrame=!1}else a(e,!1,n);e.skipFrame=!1,r.requestAnimationFrame(t)}})}},e.exports=i},function(e,t,n){function r(e){var t=this;t.data={canvases:new Array(u.CANVAS_LAYERS),contexts:new Array(u.CANVAS_LAYERS),canvasNeedsRedraw:new Array(u.CANVAS_LAYERS),bufferCanvases:new Array(u.BUFFER_COUNT),bufferContexts:new Array(u.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color: rgba(0,0,0,0);";t.data.canvasContainer=document.createElement("div");var r=t.data.canvasContainer.style;t.data.canvasContainer.setAttribute("style",n),r.position="relative",r.zIndex="0",r.overflow="hidden";var i=e.cy.container();i.appendChild(t.data.canvasContainer),(i.getAttribute("style")||"").indexOf(n)<0&&i.setAttribute("style",(i.getAttribute("style")||"")+n);for(var l=0;l<u.CANVAS_LAYERS;l++){var c=t.data.canvases[l]=document.createElement("canvas");t.data.contexts[l]=c.getContext("2d"),c.setAttribute("style","-webkit-user-select: none; -moz-user-select: -moz-none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0); outline-style: none;"+(a.ms()?" -ms-touch-action: none; touch-action: none; ":"")),c.style.position="absolute",c.setAttribute("data-id","layer"+l),c.style.zIndex=String(u.CANVAS_LAYERS-l),t.data.canvasContainer.appendChild(c),t.data.canvasNeedsRedraw[l]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[u.NODE].setAttribute("data-id","layer"+u.NODE+"-node"),t.data.canvases[u.SELECT_BOX].setAttribute("data-id","layer"+u.SELECT_BOX+"-selectbox"),t.data.canvases[u.DRAG].setAttribute("data-id","layer"+u.DRAG+"-drag");for(l=0;l<u.BUFFER_COUNT;l++)t.data.bufferCanvases[l]=document.createElement("canvas"),t.data.bufferContexts[l]=t.data.bufferCanvases[l].getContext("2d"),t.data.bufferCanvases[l].style.position="absolute",t.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),t.data.bufferCanvases[l].style.zIndex=String(-l-1),t.data.bufferCanvases[l].style.visibility="hidden";t.pathsEnabled=!0,t.data.eleTxrCache=new o(t),t.data.lyrTxrCache=new s(t,t.data.eleTxrCache),t.onUpdateEleCalcs(function(e,n){for(var r=0;r<n.length;r++){var i=n[r],a=i._private.rstyle,o=a.dirtyEvents;if(i.isNode()&&o&&1===o.length&&o.position);else if(t.data.eleTxrCache.invalidateElement(i),i.isParent()&&o.style){var s=a.prevParentOpacity,l=i.pstyle("opacity").pfValue;if(a.prevParentOpacity=l,s!==l)for(var u=i.descendants(),c=0;c<u.length;c++)t.data.eleTxrCache.invalidateElement(u[c])}}n.length>0&&t.data.lyrTxrCache.invalidateElements(n)})}var i=n(1),a=n(0),o=n(126),s=n(127),l=r,u=r.prototype;u.CANVAS_LAYERS=3,u.SELECT_BOX=0,u.DRAG=1,u.NODE=2,u.BUFFER_COUNT=3,u.TEXTURE_BUFFER=0,u.MOTIONBLUR_BUFFER_NODE=1,u.MOTIONBLUR_BUFFER_DRAG=2,u.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[u.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[u.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[u.SELECT_BOX]=t}};var c="undefined"!=typeof Path2D;u.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e},u.usePaths=function(){return c&&this.pathsEnabled},[n(128),n(129),n(130),n(131),n(132),n(133),n(134),n(135),n(136),n(137)].forEach(function(e){i.extend(u,e)}),e.exports=l},function(e,t,n){var r=n(2),i=n(1),a=n(9),o=n(19),s={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},l=function l(e){var t=this;t.renderer=e,t.onDequeues=[],t.setupDequeueing()},u=l.prototype;u.reasons=s,u.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},u.getRetiredTextureQueue=function(e){var n=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return n[e]=n[e]||[]},u.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new a(function(e,t){return t.reqs-e.reqs})},u.getElementIdToQueue=function(){return this.eleIdToCacheQueue=this.eleIdToCacheQueue||{}},u.getElement=function(e,t,n,i,a){var o=this,l=this.renderer,u=e._private.rscratch,c=l.cy.zoom();if(0===t.w||0===t.h||!e.visible())return null;if(null==i&&(i=Math.ceil(r.log2(c*n))),i<-4)i=-4;else if(c>=3.99||i>2)return null;var g,d=Math.pow(2,i),h=t.h*d,p=t.w*d,f=u.imgCaches=u.imgCaches||{},v=f[i];if(v)return v;if(g=h<=25?25:h<=50?50:50*Math.ceil(h/50),h>1024||p>1024||e.isEdge()||e.isParent())return null;var y=o.getTextureQueue(g),m=y[y.length-2],b=function b(){return o.recycleTexture(g,p)||o.addTexture(g,p)};m||(m=y[y.length-1]),m||(m=b()),m.width-m.usedWidth<p&&(m=b());for(var x,w=l.eleTextBiggerThanMin(e,d),E=function E(e){return e&&e.scaledLabelShown===w},P=a&&a===s.dequeue,C=a&&a===s.highQuality,S=a&&a===s.downscale,T=i+1;T<=2;T++){if(D=f[T]){x=D;break}}var k=x&&x.level===i+1?x:null,_=function _(){m.context.drawImage(k.texture.canvas,k.x,0,k.width,k.height,m.usedWidth,0,p,h)};if(m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(m.usedWidth,0,p,g),E(k))_();else if(E(x)){if(!C)return o.queueElement(e,x.level-1),x;for(T=x.level;T>i;T--)k=o.getElement(e,t,n,T,s.downscale);_()}else{var M;if(!P&&!C&&!S)for(T=i-1;T>=-4;T--){var D;if(D=f[T]){M=D;break}}if(E(M))return o.queueElement(e,i),M;m.context.translate(m.usedWidth,0),m.context.scale(d,d),l.drawElement(m.context,e,t,w),m.context.scale(1/d,1/d),m.context.translate(-m.usedWidth,0)}return v=f[i]={ele:e,x:m.usedWidth,texture:m,level:i,scale:d,width:p,height:h,scaledLabelShown:w},m.usedWidth+=Math.ceil(p+8),m.eleCaches.push(v),o.checkTextureFullness(m),v},u.invalidateElement=function(e){var n=e._private.rscratch.imgCaches;if(n)for(var r=-4;r<=2;r++){var a=n[r];if(a){var o=a.texture;o.invalidatedWidth+=a.width,n[r]=null,i.removeFromArray(o.eleCaches,a),this.removeFromQueue(e),this.checkTextureUtility(o)}}},u.checkTextureUtility=function(e){e.invalidatedWidth>=.5*e.width&&this.retireTexture(e)},u.checkTextureFullness=function(e){var n=this.getTextureQueue(e.height);e.usedWidth/e.width>.8&&e.fullnessChecks>=10?i.removeFromArray(n,e):e.fullnessChecks++},u.retireTexture=function(e){var n=e.height,r=this.getTextureQueue(n);i.removeFromArray(r,e),e.retired=!0;for(var a=e.eleCaches,o=0;o<a.length;o++){var s=a[o],l=s.ele,u=s.level,c=l._private.rscratch.imgCaches;c&&(c[u]=null)}i.clearArray(a),this.getRetiredTextureQueue(n).push(e)},u.addTexture=function(e,t){var i={};return this.getTextureQueue(e).push(i),i.eleCaches=[],i.height=e,i.width=Math.max(1024,t),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=document.createElement("canvas"),i.canvas.width=i.width,i.canvas.height=i.height,i.context=i.canvas.getContext("2d"),i},u.recycleTexture=function(e,t){for(var r=this.getTextureQueue(e),a=this.getRetiredTextureQueue(e),o=0;o<a.length;o++){var s=a[o];if(s.width>=t)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,i.clearArray(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),i.removeFromArray(a,s),r.push(s),s}},u.queueElement=function(e,t){var r=this.getElementQueue(),i=this.getElementIdToQueue(),a=e.id(),o=i[a];if(o)o.level=Math.max(o.level,t),o.reqs++,r.updateItem(o);else{var s={ele:e,level:t,reqs:1};r.push(s),i[a]=s}},u.dequeue=function(e){for(var t=this,n=t.getElementQueue(),r=t.getElementIdToQueue(),i=[],a=0;a<1&&n.size()>0;a++){var o=n.pop(),l=o.ele;if(null==l._private.rscratch.imgCaches[o.level]){r[l.id()]=null,i.push(o);var u=l.boundingBox();t.getElement(l,u,e,o.level,s.dequeue)}}return i},u.removeFromQueue=function(e){var n=this.getElementQueue(),r=this.getElementIdToQueue(),a=r[e.id()];null!=a&&(a.reqs=i.MAX_INT,n.updateItem(a),n.pop(),r[e.id()]=null)},u.onDequeue=function(e){this.onDequeues.push(e)},u.offDequeue=function(e){i.removeFromArray(this.onDequeues,e)},u.setupDequeueing=o.setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function deq(e,t,n){return e.dequeue(t,n)},onDeqd:function onDeqd(e,t){for(var n=0;n<e.onDequeues.length;n++)(0,e.onDequeues[n])(t)},shouldRedraw:function shouldRedraw(e,t,n,i){for(var a=0;a<t.length;a++){var o=t[a].ele.boundingBox();if(r.boundingBoxesIntersect(o,i))return!0}return!1},priority:function priority(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}}),e.exports=l},function(e,t,n){function r(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)}var i=n(1),a=n(2),o=n(9),s=n(0),l=n(19),u=function u(e,t){var n=this,r=n.renderer=e;n.layersByLevel={},n.firstGet=!0,n.lastInvalidationTime=i.performanceNow()-500,n.skipping=!1,r.beforeRender(function(e,t){t-n.lastInvalidationTime<=250?n.skipping=!0:n.skipping=!1});n.layersQueue=new o(function a(e,t){return t.reqs-e.reqs}),n.eleTxrCache=t,n.setupEleCacheInvalidation(),n.setupDequeueing()},c=u.prototype,d=0,h=Math.pow(2,53)-1;c.makeLayer=function(e,t){var n=Math.pow(2,t),r=Math.ceil(e.w*n),i=Math.ceil(e.h*n),a=document.createElement("canvas");a.width=r,a.height=i;var o={id:d=++d%h,bb:e,level:t,width:r,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,l=-o.bb.x1,u=-o.bb.y1;return s.scale(n,n),s.translate(l,u),o},c.getLayers=function(e,t,n){var r=this,l=r.renderer.cy.zoom(),u=r.firstGet;if(r.firstGet=!1,null==n)if((n=Math.ceil(a.log2(l*t)))<-4)n=-4;else if(l>=3.99||n>2)return null;r.validateLayersElesOrdering(n,e);var c,d,h=r.layersByLevel,p=Math.pow(2,n),f=h[n]=h[n]||[];if(r.levelIsComplete(n,e))return f;!function(){var t=function t(_t4){if(r.validateLayersElesOrdering(_t4,e),r.levelIsComplete(_t4,e))return d=h[_t4],!0},a=function a(e){if(!d)for(var r=n+e;-4<=r&&r<=2&&!t(r);r+=e);};a(1),a(-1);for(var o=f.length-1;o>=0;o--){var s=f[o];s.invalid&&i.removeFromArray(f,s)}}();var g=function g(){if(!c){c=a.makeBoundingBox();for(var t=0;t<e.length;t++)a.updateBoundingBox(c,e[t].boundingBox())}return c};if(r.skipping&&!u)return null;for(var y=null,m=e.length/1,b=!u,x=0;x<e.length;x++){var w=e[x],E=w._private.rscratch,P=E.imgLayerCaches=E.imgLayerCaches||{},C=P[n];if(C)y=C;else{if((!y||y.eles.length>=m||!a.boundingBoxInBoundingBox(y.bb,w.boundingBox()))&&!(y=function(e){var t=(e=e||{}).after;if(g(),c.w*p*(c.h*p)>16e6)return null;var i=r.makeLayer(c,n);if(null!=t){var a=f.indexOf(t)+1;f.splice(a,0,i)}else(void 0===e.insert||e.insert)&&f.unshift(i);return i}({insert:!0,after:y})))return null;d||b?r.queueLayer(y,w):r.drawEleInLayer(y,w,n,t),y.eles.push(w),P[n]=y}}return d||(b?null:f)},c.getEleLevelForLayerLevel=function(e,t){return e},c.drawEleInLayer=function(e,t,n,i){var o=this.renderer,s=e.context,l=t.boundingBox();if(0!==l.w&&0!==l.h&&t.visible()){var u=this.eleTxrCache,c=u.reasons.highQuality;n=this.getEleLevelForLayerLevel(n,i);var d=u.getElement(t,l,null,n,c);d?(r(s,!1),s.drawImage(d.texture.canvas,d.x,0,d.width,d.height,l.x1,l.y1,l.w,l.h),r(s,!0)):o.drawElement(s,t)}},c.levelIsComplete=function(e,t){var r=this.layersByLevel[e];if(!r||0===r.length)return!1;for(var i=0,a=0;a<r.length;a++){var o=r[a];if(o.reqs>0)return!1;if(o.invalid)return!1;i+=o.eles.length}return i===t.length},c.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=-1,o=0;o<t.length;o++)if(i.eles[0]===t[o]){a=o;break}if(a<0)this.invalidateLayer(i);else{var s=a;for(o=0;o<i.eles.length;o++)if(i.eles[o]!==t[s+o]){this.invalidateLayer(i);break}}}},c.updateElementsInLayers=function(e,t){for(var r=s.element(e[0]),i=0;i<e.length;i++)for(var a=r?null:e[i],o=r?e[i]:e[i].ele,l=o._private.rscratch,u=l.imgLayerCaches=l.imgLayerCaches||{},c=-4;c<=2;c++){var d=u[c];d&&(a&&this.getEleLevelForLayerLevel(d.level)!==a.level||t(d,o,a))}},c.haveLayers=function(){for(var t=!1,n=-4;n<=2;n++){var r=this.layersByLevel[n];if(r&&r.length>0){t=!0;break}}return t},c.invalidateElements=function(e){var t=this;t.lastInvalidationTime=i.performanceNow(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,function(e,n,r){t.invalidateLayer(e)})},c.invalidateLayer=function(e){if(this.lastInvalidationTime=i.performanceNow(),!e.invalid){var t=e.level,n=e.eles,r=this.layersByLevel[t];i.removeFromArray(r,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var a=0;a<n.length;a++){var o=n[a]._private.rscratch.imgLayerCaches;o&&(o[t]=null)}}},c.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(e,n,r){var i=e.replacement;if(i||((i=e.replacement=t.makeLayer(e.bb,e.level)).replaces=e,i.eles=e.eles),!i.reqs)for(var a=0;a<i.eles.length;a++)t.queueLayer(i,i.eles[a])})},c.setupEleCacheInvalidation=function(){var e=this,t=[],n=i.debounce(function(){e.refineElementTextures(t),t=[]},50);e.eleTxrCache.onDequeue(function(e){for(var r=0;r<e.length;r++)t.push(e[r]);n()})},c.queueLayer=function(e,t){var r=this.layersQueue,i=e.elesQueue,a=i.hasId=i.hasId||{};if(!e.replacement){if(t){if(a[t.id()])return;i.push(t),a[t.id()]=!0}e.reqs?(e.reqs++,r.updateItem(e)):(e.reqs=1,r.push(e))}},c.dequeue=function(e){for(var t=this,n=t.layersQueue,r=[],i=0;i<1&&0!==n.size();){var a=n.peek();if(a.replacement)n.pop();else if(a.replaces&&a!==a.replaces.replacement)n.pop();else if(a.invalid)n.pop();else{var o=a.elesQueue.shift();o&&(t.drawEleInLayer(a,o,a.level,e),i++),0===r.length&&r.push(!0),0===a.elesQueue.length&&(n.pop(),a.reqs=0,a.replaces&&t.applyLayerReplacement(a),t.requestRedraw())}}return r},c.applyLayerReplacement=function(e){var n=this.layersByLevel[e.level],r=e.replaces,i=n.indexOf(r);if(!(i<0||r.invalid)){n[i]=e;for(var a=0;a<e.eles.length;a++){var o=e.eles[a]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[e.level]=e)}this.requestRedraw()}},c.requestRedraw=i.debounce(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),c.setupDequeueing=l.setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function deq(e,t){return e.dequeue(t)},onDeqd:i.noop,shouldRedraw:i.trueify,priority:function priority(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}}),e.exports=u},function(e,t,n){var r,i={arrowShapeImpl:function(e){return(r||(r={polygon:function polygon(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.lineTo(r.x,r.y)}},"triangle-backcurve":function triangleBackcurve(e,t,n){for(var r,i=0;i<t.length;i++){var a=t[i];0===i&&(r=a),e.lineTo(a.x,a.y)}e.quadraticCurveTo(n.x,n.y,r.x,r.y)},"triangle-tee":function triangleTee(e,t,n){e.beginPath&&e.beginPath();for(var r=t,i=0;i<r.length;i++){var a=r[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath(),e.beginPath&&e.beginPath();var o=n,s=n[0];e.moveTo(s.x,s.y);for(i=0;i<o.length;i++){a=o[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath()},"triangle-cross":function triangleCross(e,t,n){e.beginPath&&e.beginPath();for(var r=t,i=0;i<r.length;i++){var a=r[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath(),e.beginPath&&e.beginPath();var o=n,s=n[0];e.moveTo(s.x,s.y);for(i=0;i<o.length;i++){a=o[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath()},circle:function circle(e,t,n,r){e.arc(t,n,r,0,2*Math.PI,!1)}}))[e]}};e.exports=i},function(e,t,n){var r=n(2),i={drawElement:function(e,t,n,r){t.isNode()?this.drawNode(e,t,n,r):this.drawEdge(e,t,n,r)},drawCachedElement:function(e,t,n,i){var o=t.boundingBox();if(0!==o.w&&0!==o.h&&(!i||r.boundingBoxesIntersect(o,i))){var s=this.data.eleTxrCache.getElement(t,o,n);null!=s?e.drawImage(s.texture.canvas,s.x,0,s.width,s.height,o.x1,o.y1,o.w,o.h):this.drawElement(e,t)}},drawElements:function(e,t){for(var r=0;r<t.length;r++){var i=t[r];this.drawElement(e,i)}},drawCachedElements:function(e,t,n,r){for(var a=0;a<t.length;a++){var o=t[a];this.drawCachedElement(e,o,n,r)}},drawCachedNodes:function(e,t,n,r){for(var a=0;a<t.length;a++){var o=t[a];o.isNode()&&this.drawCachedElement(e,o,n,r)}},drawLayeredElements:function(e,t,n,r){var a=this.data.lyrTxrCache.getLayers(t,n);if(a)for(var o=0;o<a.length;o++){var s=a[o],l=s.bb;0!==l.w&&0!==l.h&&e.drawImage(s.canvas,l.x1,l.y1,l.w,l.h)}else this.drawCachedElements(e,t,n,r)},drawDebugPoints:function(e,t){for(var n=function n(t,_n4,r){e.fillStyle=r,e.fillRect(t-1,_n4-1,3,3)},r=0;r<t.length;r++){var i=t[r],a=i._private.rscratch;if(i.isNode()){var o=i.position();n(o.x,o.y,"magenta")}else{for(var s=a.allpts,l=0;l+1<s.length;l+=2)n(s[l],s[l+1],"cyan");n(a.midX,a.midY,"yellow")}}}};e.exports=i},function(e,t,n){var r={drawEdge:function(e,t,n,r){var i=this,a=t._private.rscratch,o=i.usePaths();if(t.visible()&&!a.badLine&&null!=a.allpts&&!isNaN(a.allpts[0])){var s=void 0;n&&(s=n,e.translate(-s.x1,-s.y1));var u=2*t.pstyle("overlay-padding").pfValue,c=t.pstyle("overlay-opacity").value,d=t.pstyle("overlay-color").value,h=t.pstyle("line-color").value,p=t.pstyle("opacity").value,f=t.pstyle("line-style").value,v=t.pstyle("width").pfValue,g=function g(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;e.lineWidth=v,e.lineCap="butt",i.strokeStyle(e,h[0],h[1],h[2],n),i.drawEdgePath(t,e,a.allpts,f)},y=function y(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;i.drawArrowheads(e,t,n)};if(e.lineJoin="round","yes"===t.pstyle("ghost").value){var m=t.pstyle("ghost-offset-x").pfValue,b=t.pstyle("ghost-offset-y").pfValue,x=t.pstyle("ghost-opacity").value,w=p*x;e.translate(m,b),g(w),y(w),e.translate(-m,-b)}g(),y(),function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;e.lineWidth=u,"self"!==a.edgeType||o?e.lineCap="round":e.lineCap="butt",i.strokeStyle(e,d[0],d[1],d[2],n),i.drawEdgePath(t,e,a.allpts,"solid")}(),i.drawElementText(e,t,r),n&&e.translate(s.x1,s.y1)}},drawEdgePath:function(e,t,n,r){var i=e._private.rscratch,a=t,o=void 0,s=!1,l=this.usePaths();if(l){var u=n.join("$");i.pathCacheKey&&i.pathCacheKey===u?(o=t=i.pathCache,s=!0):(o=t=new Path2D,i.pathCacheKey=u,i.pathCache=o)}if(a.setLineDash)switch(r){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([6,3]);break;case"solid":a.setLineDash([])}if(!s&&!i.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var c=2;c+3<n.length;c+=4)t.quadraticCurveTo(n[c],n[c+1],n[c+2],n[c+3]);break;case"straight":case"segments":case"haystack":for(var d=2;d+1<n.length;d+=2)t.lineTo(n[d],n[d+1])}t=a,l?t.stroke(o):t.stroke(),t.setLineDash&&t.setLineDash([])},drawArrowheads:function(e,t,n){var r=t._private.rscratch,i="haystack"===r.edgeType;i||this.drawArrowhead(e,t,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),i||this.drawArrowhead(e,t,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)},drawArrowhead:function(e,t,n,r,i,a,o){if(!(isNaN(r)||null==r||isNaN(i)||null==i||isNaN(a)||null==a)){var s=this,l=t.pstyle(n+"-arrow-shape").value;if("none"!==l){var u="hollow"===t.pstyle(n+"-arrow-fill").value?"both":"filled",c=t.pstyle(n+"-arrow-fill").value,d=t.pstyle("width").pfValue,h=t.pstyle("opacity").value;void 0===o&&(o=h);var p=e.globalCompositeOperation;1===o&&"hollow"!==c||(e.globalCompositeOperation="destination-out",s.fillStyle(e,255,255,255,1),s.strokeStyle(e,255,255,255,1),s.drawArrowShape(t,n,e,u,d,l,r,i,a),e.globalCompositeOperation=p);var f=t.pstyle(n+"-arrow-color").value;s.fillStyle(e,f[0],f[1],f[2],o),s.strokeStyle(e,f[0],f[1],f[2],o),s.drawArrowShape(t,n,e,c,d,l,r,i,a)}}},drawArrowShape:function(e,t,n,r,i,a,o,s,l){var c=this.usePaths(),d=e._private.rscratch,h=!1,p=void 0,f=n,v={x:o,y:s},g=e.pstyle("arrow-scale").value,y=this.getArrowWidth(i,g),m=this.arrowShapes[a];if(c){var b=y+"$"+a+"$"+l+"$"+o+"$"+s;d.arrowPathCacheKey=d.arrowPathCacheKey||{},d.arrowPathCache=d.arrowPathCache||{},d.arrowPathCacheKey[t]===b?(p=n=d.arrowPathCache[t],h=!0):(p=n=new Path2D,d.arrowPathCacheKey[t]=b,d.arrowPathCache[t]=p)}n.beginPath&&n.beginPath(),h||m.draw(n,y,l,v,i),!m.leavePathOpen&&n.closePath&&n.closePath(),n=f,"filled"!==r&&"both"!==r||(c?n.fill(p):n.fill()),"hollow"!==r&&"both"!==r||(n.lineWidth=m.matchEdgeWidth?i:1,n.lineJoin="miter",c?n.stroke(p):n.stroke())}};e.exports=r},function(e,t,n){var r={safeDrawImage:function(e,t,n,r,i,a,o,s,l,u){i<=0||a<=0||l<=0||u<=0||e.drawImage(t,n,r,i,a,o,s,l,u)},drawInscribedImage:function(e,t,n,r,i){var a=this,o=n.position(),s=o.x,l=o.y,u=n.cy().style(),c=u.getIndexedStyle.bind(u),d=c(n,"background-fit","value",r),h=c(n,"background-repeat","value",r),p=n.width(),f=n.height(),v=2*n.padding(),g=p+("inner"===c(n,"background-width-relative-to","value",r)?0:v),y=f+("inner"===c(n,"background-height-relative-to","value",r)?0:v),m=n._private.rscratch,x="node"===n.pstyle("background-clip").value,w=c(n,"background-image-opacity","value",r)*i,E=t.width||t.cachedW,P=t.height||t.cachedH;null!=E&&null!=P||(document.body.appendChild(t),E=t.cachedW=t.width||t.offsetWidth,P=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var C=E,S=P;if("auto"!==c(n,"background-width","value",r)&&(C="%"===c(n,"background-width","units",r)?c(n,"background-width","pfValue",r)*g:c(n,"background-width","pfValue",r)),"auto"!==c(n,"background-height","value",r)&&(S="%"===c(n,"background-height","units",r)?c(n,"background-height","pfValue",r)*y:c(n,"background-height","pfValue",r)),0!==C&&0!==S){if("contain"===d)C*=T=Math.min(g/C,y/S),S*=T;else if("cover"===d){var T;C*=T=Math.max(g/C,y/S),S*=T}var D=s-g/2;"%"===c(n,"background-position-x","units",r)?D+=(g-C)*c(n,"background-position-x","pfValue",r):D+=c(n,"background-position-x","pfValue",r);var k=l-y/2;"%"===c(n,"background-position-y","units",r)?k+=(y-S)*c(n,"background-position-y","pfValue",r):k+=c(n,"background-position-y","pfValue",r),m.pathCache&&(D-=s,k-=l,s=0,l=0);var _=e.globalAlpha;if(e.globalAlpha=w,"no-repeat"===h)x&&(e.save(),m.pathCache?e.clip(m.pathCache):(a.nodeShapes[a.getNodeShape(n)].draw(e,s,l,g,y),e.clip())),a.safeDrawImage(e,t,0,0,E,P,D,k,C,S),x&&e.restore();else{var M=e.createPattern(t,h);e.fillStyle=M,a.nodeShapes[a.getNodeShape(n)].draw(e,s,l,g,y),e.translate(D,k),e.fill(),e.translate(-D,-k)}e.globalAlpha=_}}};e.exports=r},function(e,t,n){var i=n(1),a=n(2),o={eleTextBiggerThanMin:function(e,t){if(!t){var n=e.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(a.log2(n*r));t=Math.pow(2,i)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(e,t,n){var r=this;if(void 0===n){if(!r.eleTextBiggerThanMin(t))return}else if(!n)return;if(t.isNode()){if(!(i=t.pstyle("label"))||!i.value)return;var a=t.pstyle("text-halign").strValue;switch(t.pstyle("text-valign").strValue,a){case"left":e.textAlign="right";break;case"right":e.textAlign="left";break;default:e.textAlign="center"}e.textBaseline="bottom"}else{var i=t.pstyle("label"),o=t.pstyle("source-label"),s=t.pstyle("target-label");if(!(i&&i.value||o&&o.value||s&&s.value))return;e.textAlign="center",e.textBaseline="bottom"}r.drawText(e,t),t.isEdge()&&(r.drawText(e,t,"source"),r.drawText(e,t,"target"))}};o.drawNodeText=o.drawEdgeText=o.drawElementText,o.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((t=this.fontCaches[n]).context===e)return t;return t={context:e},this.fontCaches.push(t),t},o.setupTextStyle=function(e,t){var n=t.effectiveOpacity(),r=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,s=t.pstyle("text-opacity").value*t.pstyle("opacity").value*n,l=t.pstyle("text-outline-opacity").value*s,u=t.pstyle("color").value,c=t.pstyle("text-outline-color").value,d=t._private.fontKey,h=this.getFontCache(e);h.key!==d&&(e.font=r+" "+o+" "+i+" "+a,h.key=d),e.lineJoin="round",this.fillStyle(e,u[0],u[1],u[2],s),this.strokeStyle(e,c[0],c[1],c[2],l)},o.drawText=function(e,t,n){var o=t._private.rscratch,s=t.effectiveOpacity();if(0!==s&&0!==t.pstyle("text-opacity").value){var l=i.getPrefixedProperty(o,"labelX",n),u=i.getPrefixedProperty(o,"labelY",n),c=this.getLabelText(t,n);if(null!=c&&""!==c&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(e,t);var d=n?n+"-":"",h=i.getPrefixedProperty(o,"labelWidth",n),p=i.getPrefixedProperty(o,"labelHeight",n),f=i.getPrefixedProperty(o,"labelAngle",n),v=t.pstyle(d+"text-margin-x").pfValue,g=t.pstyle(d+"text-margin-y").pfValue,y=t.isEdge(),m=(t.isNode(),t.pstyle("text-halign").value),b=t.pstyle("text-valign").value;y&&(m="center",b="center"),l+=v,u+=g;var x,w=t.pstyle("text-rotation");if(0!==(x="autorotate"===w.strValue?y?f:0:"none"===w.strValue?0:w.pfValue)){var E=l,P=u;e.translate(E,P),e.rotate(x),l=0,u=0}switch(b){case"top":break;case"center":u+=p/2;break;case"bottom":u+=p}var C=t.pstyle("text-background-opacity").value,S=t.pstyle("text-border-opacity").value,T=t.pstyle("text-border-width").pfValue,D=t.pstyle("text-background-padding").pfValue;if(C>0||T>0&&S>0){var k=l-D;switch(m){case"left":k-=h;break;case"center":k-=h/2}var _=u-p-D,M=h+2*D,I=p+2*D;if(C>0){var N=e.fillStyle,B=t.pstyle("text-background-color").value;e.fillStyle="rgba("+B[0]+","+B[1]+","+B[2]+","+C*s+")","roundrectangle"==t.pstyle("text-background-shape").strValue?function r(e,t,n,r,i,a){a=a||5,e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+i-a),e.quadraticCurveTo(t+r,n+i,t+r-a,n+i),e.lineTo(t+a,n+i),e.quadraticCurveTo(t,n+i,t,n+i-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath(),e.fill()}(e,k,_,M,I,2):e.fillRect(k,_,M,I),e.fillStyle=N}if(T>0&&S>0){var z=e.strokeStyle,L=e.lineWidth,A=t.pstyle("text-border-color").value,O=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+A[0]+","+A[1]+","+A[2]+","+S*s+")",e.lineWidth=T,e.setLineDash)switch(O){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=T/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(k,_,M,I),"double"===O){var R=T/2;e.strokeRect(k+R,_+R,M-2*R,I-2*R)}e.setLineDash&&e.setLineDash([]),e.lineWidth=L,e.strokeStyle=z}}var V=2*t.pstyle("text-outline-width").pfValue;if(V>0&&(e.lineWidth=V),"wrap"===t.pstyle("text-wrap").value){var q=i.getPrefixedProperty(o,"labelWrapCachedLines",n),F=p/q.length;switch(b){case"top":u-=(q.length-1)*F;break;case"center":case"bottom":u-=(q.length-1)*F}for(var j=0;j<q.length;j++)V>0&&e.strokeText(q[j],l,u),e.fillText(q[j],l,u),u+=F}else V>0&&e.strokeText(c,l,u),e.fillText(c,l,u);0!==x&&(e.rotate(-x),e.translate(-E,-P))}}},e.exports=o},function(e,t,n){var r=n(0),i={drawNode:function(e,t,n,i){var a=this,o=void 0,s=void 0,l=t._private,u=l.rscratch,c=t.position();if(r.number(c.x)&&r.number(c.y)&&t.visible()){var d=t.effectiveOpacity(),h=a.usePaths(),p=void 0,f=!1,v=t.padding();o=t.width()+2*v,s=t.height()+2*v;var g=void 0;n&&(g=n,e.translate(-g.x1,-g.y1));for(var m=t.pstyle("background-image").value,b=new Array(m.length),x=new Array(m.length),w=0,E=0;E<m.length;E++){var P=m[E];if(b[E]=null!=P&&"none"!==P){var C=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",E);w++,x[E]=a.getCachedImage(P,C,function(){t.emitAndNotify("background")})}}var S=t.pstyle("background-blacken").value,T=t.pstyle("border-width").pfValue,D=t.pstyle("background-color").value,k=t.pstyle("background-opacity").value*d,_=t.pstyle("border-color").value,M=t.pstyle("border-style").value,I=t.pstyle("border-opacity").value*d;e.lineJoin="miter";var N=function N(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;a.fillStyle(e,D[0],D[1],D[2],t)},B=function B(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;a.strokeStyle(e,_[0],_[1],_[2],t)},z=t.pstyle("shape").strValue,L=t.pstyle("shape-polygon-points").pfValue;if(h){var A=z+"$"+o+"$"+s+("polygon"===z?"$"+L.join("$"):"");e.translate(c.x,c.y),u.pathCacheKey===A?(p=u.pathCache,f=!0):(p=new Path2D,u.pathCacheKey=A,u.pathCache=p)}var O=function O(){if(!f){var n=c;h&&(n={x:0,y:0}),a.nodeShapes[a.getNodeShape(t)].draw(p||e,n.x,n.y,o,s)}h?e.fill(p):e.fill()},R=function R(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,r=l.backgrounding,i=0,o=0;o<x.length;o++)b[o]&&x[o].complete&&!x[o].error&&(i++,a.drawInscribedImage(e,x[o],t,o,n));l.backgrounding=!(i===w),r!==l.backgrounding&&t.updateStyle(!1)},V=function V(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;a.hasPie(t)&&(a.drawPie(e,t,r),n&&(h||a.nodeShapes[a.getNodeShape(t)].draw(e,c.x,c.y,o,s)))},q=function q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,n=(S>0?S:-S)*t,r=S>0?0:255;0!==S&&(a.fillStyle(e,r,r,r,n),h?e.fill(p):e.fill())},F=function F(){if(T>0){if(e.lineWidth=T,e.lineCap="butt",e.setLineDash)switch(M){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}if(h?e.stroke(p):e.stroke(),"double"===M){e.lineWidth=T/3;var t=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",h?e.stroke(p):e.stroke(),e.globalCompositeOperation=t}e.setLineDash&&e.setLineDash([])}};if("yes"===t.pstyle("ghost").value){var j=t.pstyle("ghost-offset-x").pfValue,X=t.pstyle("ghost-offset-y").pfValue,Y=t.pstyle("ghost-opacity").value,W=Y*d;e.translate(j,X),N(Y*k),O(),R(W),V(0!==S||0!==T),q(W),B(Y*I),F(),e.translate(-j,-X)}N(),O(),R(),V(0!==S||0!==T),q(),B(),F(),h&&e.translate(-c.x,-c.y),a.drawElementText(e,t,i),function(){var n=t.pstyle("overlay-padding").pfValue,r=t.pstyle("overlay-opacity").value,i=t.pstyle("overlay-color").value;r>0&&(a.fillStyle(e,i[0],i[1],i[2],r),a.nodeShapes.roundrectangle.draw(e,c.x,c.y,o+2*n,s+2*n),e.fill())}(),n&&e.translate(g.x1,g.y1)}},hasPie:function(e){return(e=e[0])._private.hasPie},drawPie:function(e,t,n,r){t=t[0],r=r||t.position();var i=t.cy().style(),a=t.pstyle("pie-size"),o=r.x,s=r.y,l=t.width(),u=t.height(),c=Math.min(l,u)/2,d=0;this.usePaths()&&(o=0,s=0),"%"===a.units?c*=a.pfValue:void 0!==a.pfValue&&(c=a.pfValue/2);for(var h=1;h<=i.pieBackgroundN;h++){var p=t.pstyle("pie-"+h+"-background-size").value,f=t.pstyle("pie-"+h+"-background-color").value,v=t.pstyle("pie-"+h+"-background-opacity").value*n,g=p/100;g+d>1&&(g=1-d);var y=1.5*Math.PI+2*Math.PI*d,b=y+2*Math.PI*g;0===p||d>=1||d+g>1||(e.beginPath(),e.moveTo(o,s),e.arc(o,s,c,y,b),e.closePath(),this.fillStyle(e,f[0],f[1],f[2],v),e.fill(),d+=g)}}};e.exports=i},function(e,t,n){var r={},i=n(1);r.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},r.paintCache=function(e){for(var t,n=this.paintCaches=this.paintCaches||[],r=!0,i=0;i<n.length;i++)if((t=n[i]).context===e){r=!1;break}return r&&(t={context:e},n.push(t)),t},r.fillStyle=function(e,t,n,r,i){e.fillStyle="rgba("+t+","+n+","+r+","+i+")"},r.strokeStyle=function(e,t,n,r,i){e.strokeStyle="rgba("+t+","+n+","+r+","+i+")"},r.matchCanvasSize=function(e){var t=this,n=t.data,r=t.findContainerClientCoords(),i=r[2],a=r[3],o=t.getPixelRatio(),s=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(o=s);var l,u=i*o,c=a*o;if(u!==t.canvasWidth||c!==t.canvasHeight){t.fontCaches=null;var d=n.canvasContainer;d.style.width=i+"px",d.style.height=a+"px";for(var h=0;h<t.CANVAS_LAYERS;h++)(l=n.canvases[h]).width=u,l.height=c,l.style.width=i+"px",l.style.height=a+"px";for(h=0;h<t.BUFFER_COUNT;h++)(l=n.bufferCanvases[h]).width=u,l.height=c,l.style.width=i+"px",l.style.height=a+"px";t.textureMult=1,o<=1&&(l=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,l.width=u*t.textureMult,l.height=c*t.textureMult),t.canvasWidth=u,t.canvasHeight=c}},r.renderTo=function(e,t,n,r){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},r.render=function(e){function t(e,t,n,r,i){var a=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",u.fillStyle(e,255,255,255,u.motionBlurTransparency),e.fillRect(t,n,r,i),e.globalCompositeOperation=a}function n(e,n){var i,o,c,d;u.clearingMotionBlur||e!==h.bufferContexts[u.MOTIONBLUR_BUFFER_NODE]&&e!==h.bufferContexts[u.MOTIONBLUR_BUFFER_DRAG]?(i=S,o=P,c=u.canvasWidth,d=u.canvasHeight):(i={x:C.x*g,y:C.y*g},o=E*g,c=u.canvasWidth*g,d=u.canvasHeight*g),e.setTransform(1,0,0,1,0,0),"motionBlur"===n?t(e,0,0,c,d):r||void 0!==n&&!n||e.clearRect(0,0,c,d),a||(e.translate(i.x,i.y),e.scale(o,o)),l&&e.translate(l.x,l.y),s&&e.scale(s,s)}var r=(e=e||i.staticEmptyObject()).forcedContext,a=e.drawAllLayers,o=e.drawOnlyNodeLayer,s=e.forcedZoom,l=e.forcedPan,u=this,c=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,d=u.cy,h=u.data,p=h.canvasNeedsRedraw,f=u.textureOnViewport&&!r&&(u.pinching||u.hoverData.dragging||u.swipePanning||u.data.wheelZooming),v=void 0!==e.motionBlur?e.motionBlur:u.motionBlur,g=u.motionBlurPxRatio,y=d.hasCompoundNodes(),m=u.hoverData.draggingEles,b=!(!u.hoverData.selecting&&!u.touchData.selecting),x=v=v&&!r&&u.motionBlurEnabled&&!b;r||(u.prevPxRatio!==c&&(u.invalidateContainerClientCoordsCache(),u.matchCanvasSize(u.container),u.redrawHint("eles",!0),u.redrawHint("drag",!0)),u.prevPxRatio=c),!r&&u.motionBlurTimeout&&clearTimeout(u.motionBlurTimeout),v&&(null==u.mbFrames&&(u.mbFrames=0),u.mbFrames++,u.mbFrames<3&&(x=!1),u.mbFrames>u.minMbLowQualFrames&&(u.motionBlurPxRatio=u.mbPxRBlurry)),u.clearingMotionBlur&&(u.motionBlurPxRatio=1),u.textureDrawLastFrame&&!f&&(p[u.NODE]=!0,p[u.SELECT_BOX]=!0);var w=d.style()._private.coreStyle,E=d.zoom(),P=void 0!==s?s:E,C=d.pan(),S={x:C.x,y:C.y},T={zoom:E,pan:{x:C.x,y:C.y}},D=u.prevViewport;void 0===D||T.zoom!==D.zoom||T.pan.x!==D.pan.x||T.pan.y!==D.pan.y||m&&!y||(u.motionBlurPxRatio=1),l&&(S=l),P*=c,S.x*=c,S.y*=c;var k=u.getCachedZSortedEles();if(f||(u.textureDrawLastFrame=!1),f){if(u.textureDrawLastFrame=!0,!u.textureCache){u.textureCache={},u.textureCache.bb=d.mutableElements().boundingBox(),u.textureCache.texture=u.data.bufferCanvases[u.TEXTURE_BUFFER];var _=u.data.bufferContexts[u.TEXTURE_BUFFER];_.setTransform(1,0,0,1,0,0),_.clearRect(0,0,u.canvasWidth*u.textureMult,u.canvasHeight*u.textureMult),u.render({forcedContext:_,drawOnlyNodeLayer:!0,forcedPxRatio:c*u.textureMult}),(T=u.textureCache.viewport={zoom:d.zoom(),pan:d.pan(),width:u.canvasWidth,height:u.canvasHeight}).mpan={x:(0-T.pan.x)/T.zoom,y:(0-T.pan.y)/T.zoom}}p[u.DRAG]=!1,p[u.NODE]=!1;var M=h.contexts[u.NODE],I=u.textureCache.texture;T=u.textureCache.viewport;u.textureCache.bb,M.setTransform(1,0,0,1,0,0),v?t(M,0,0,T.width,T.height):M.clearRect(0,0,T.width,T.height);var N=w["outside-texture-bg-color"].value,B=w["outside-texture-bg-opacity"].value;u.fillStyle(M,N[0],N[1],N[2],B),M.fillRect(0,0,T.width,T.height);E=d.zoom();n(M,!1),M.clearRect(T.mpan.x,T.mpan.y,T.width/T.zoom/c,T.height/T.zoom/c),M.drawImage(I,T.mpan.x,T.mpan.y,T.width/T.zoom/c,T.height/T.zoom/c)}else u.textureOnViewport&&!r&&(u.textureCache=null);var z=d.extent(),L=u.pinching||u.hoverData.dragging||u.swipePanning||u.data.wheelZooming||u.hoverData.draggingEles,A=u.hideEdgesOnViewport&&L,O=[];if(O[u.NODE]=!p[u.NODE]&&v&&!u.clearedForMotionBlur[u.NODE]||u.clearingMotionBlur,O[u.NODE]&&(u.clearedForMotionBlur[u.NODE]=!0),O[u.DRAG]=!p[u.DRAG]&&v&&!u.clearedForMotionBlur[u.DRAG]||u.clearingMotionBlur,O[u.DRAG]&&(u.clearedForMotionBlur[u.DRAG]=!0),p[u.NODE]||a||o||O[u.NODE]){var R=v&&!O[u.NODE]&&1!==g;n(M=r||(R?u.data.bufferContexts[u.MOTIONBLUR_BUFFER_NODE]:h.contexts[u.NODE]),v&&!R?"motionBlur":void 0),A?u.drawCachedNodes(M,k.nondrag,c,z):u.drawLayeredElements(M,k.nondrag,c,z),u.debug&&u.drawDebugPoints(M,k.nondrag),a||v||(p[u.NODE]=!1)}if(!o&&(p[u.DRAG]||a||O[u.DRAG])){R=v&&!O[u.DRAG]&&1!==g;n(M=r||(R?u.data.bufferContexts[u.MOTIONBLUR_BUFFER_DRAG]:h.contexts[u.DRAG]),v&&!R?"motionBlur":void 0),A?u.drawCachedNodes(M,k.drag,c,z):u.drawCachedElements(M,k.drag,c,z),u.debug&&u.drawDebugPoints(M,k.drag),a||v||(p[u.DRAG]=!1)}if(u.showFps||!o&&p[u.SELECT_BOX]&&!a){if(n(M=r||h.contexts[u.SELECT_BOX]),1==u.selection[4]&&(u.hoverData.selecting||u.touchData.selecting)){E=u.cy.zoom();var V=w["selection-box-border-width"].value/E;M.lineWidth=V,M.fillStyle="rgba("+w["selection-box-color"].value[0]+","+w["selection-box-color"].value[1]+","+w["selection-box-color"].value[2]+","+w["selection-box-opacity"].value+")",M.fillRect(u.selection[0],u.selection[1],u.selection[2]-u.selection[0],u.selection[3]-u.selection[1]),V>0&&(M.strokeStyle="rgba("+w["selection-box-border-color"].value[0]+","+w["selection-box-border-color"].value[1]+","+w["selection-box-border-color"].value[2]+","+w["selection-box-opacity"].value+")",M.strokeRect(u.selection[0],u.selection[1],u.selection[2]-u.selection[0],u.selection[3]-u.selection[1]))}if(h.bgActivePosistion&&!u.hoverData.selecting){E=u.cy.zoom();var q=h.bgActivePosistion;M.fillStyle="rgba("+w["active-bg-color"].value[0]+","+w["active-bg-color"].value[1]+","+w["active-bg-color"].value[2]+","+w["active-bg-opacity"].value+")",M.beginPath(),M.arc(q.x,q.y,w["active-bg-size"].pfValue/E,0,2*Math.PI),M.fill()}var F=u.lastRedrawTime;if(u.showFps&&F){F=Math.round(F);var j=Math.round(1e3/F);M.setTransform(1,0,0,1,0,0),M.fillStyle="rgba(255, 0, 0, 0.75)",M.strokeStyle="rgba(255, 0, 0, 0.75)",M.lineWidth=1,M.fillText("1 frame = "+F+" ms = "+j+" fps",0,20),M.strokeRect(0,30,250,20),M.fillRect(0,30,250*Math.min(j/60,1),20)}a||(p[u.SELECT_BOX]=!1)}if(v&&1!==g){var X=h.contexts[u.NODE],Y=u.data.bufferCanvases[u.MOTIONBLUR_BUFFER_NODE],W=h.contexts[u.DRAG],H=u.data.bufferCanvases[u.MOTIONBLUR_BUFFER_DRAG],Z=function Z(e,n,r){e.setTransform(1,0,0,1,0,0),r||!x?e.clearRect(0,0,u.canvasWidth,u.canvasHeight):t(e,0,0,u.canvasWidth,u.canvasHeight);var i=g;e.drawImage(n,0,0,u.canvasWidth*i,u.canvasHeight*i,0,0,u.canvasWidth,u.canvasHeight)};(p[u.NODE]||O[u.NODE])&&(Z(X,Y,O[u.NODE]),p[u.NODE]=!1),(p[u.DRAG]||O[u.DRAG])&&(Z(W,H,O[u.DRAG]),p[u.DRAG]=!1)}u.prevViewport=T,u.clearingMotionBlur&&(u.clearingMotionBlur=!1,u.motionBlurCleared=!0,u.motionBlur=!0),v&&(u.motionBlurTimeout=setTimeout(function(){u.motionBlurTimeout=null,u.clearedForMotionBlur[u.NODE]=!1,u.clearedForMotionBlur[u.DRAG]=!1,u.motionBlur=!1,u.clearingMotionBlur=!f,u.mbFrames=0,p[u.NODE]=!0,p[u.DRAG]=!0,u.redraw()},100)),r||d.emit("render")},e.exports=r},function(e,t,n){for(var r=n(2),i={drawPolygonPath:function(e,t,n,r,i,a){var o=r/2,s=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*a[0],n+s*a[1]);for(var l=1;l<a.length/2;l++)e.lineTo(t+o*a[2*l],n+s*a[2*l+1]);e.closePath()},drawRoundRectanglePath:function(e,t,n,i,a){var o=i/2,s=a/2,l=r.getRoundRectangleRadius(i,a);e.beginPath&&e.beginPath(),e.moveTo(t,n-s),e.arcTo(t+o,n-s,t+o,n,l),e.arcTo(t+o,n+s,t,n+s,l),e.arcTo(t-o,n+s,t-o,n,l),e.arcTo(t-o,n-s,t,n-s,l),e.lineTo(t,n-s),e.closePath()},drawBottomRoundRectanglePath:function(e,t,n,i,a){var o=i/2,s=a/2,l=r.getRoundRectangleRadius(i,a);e.beginPath&&e.beginPath(),e.moveTo(t,n-s),e.lineTo(t+o,n-s),e.lineTo(t+o,n),e.arcTo(t+o,n+s,t,n+s,l),e.arcTo(t-o,n+s,t-o,n,l),e.lineTo(t-o,n-s),e.lineTo(t,n-s),e.closePath()},drawCutRectanglePath:function(e,t,n,i,a){var o=i/2,s=a/2,l=r.getCutRectangleCornerLength();e.beginPath&&e.beginPath(),e.moveTo(t-o+l,n-s),e.lineTo(t+o-l,n-s),e.lineTo(t+o,n-s+l),e.lineTo(t+o,n+s-l),e.lineTo(t+o-l,n+s),e.lineTo(t-o+l,n+s),e.lineTo(t-o,n+s-l),e.lineTo(t-o,n-s+l),e.closePath()},drawBarrelPath:function(e,t,n,i,a){var o=i/2,s=a/2,l=t-o,u=t+o,c=n-s,d=n+s,h=r.getBarrelCurveConstants(i,a),p=h.widthOffset,f=h.heightOffset,v=h.ctrlPtOffsetPct*p;e.beginPath&&e.beginPath(),e.moveTo(l,c+f),e.lineTo(l,d-f),e.quadraticCurveTo(l+v,d,l+p,d),e.lineTo(u-p,d),e.quadraticCurveTo(u-v,d,u,d-f),e.lineTo(u,c+f),e.quadraticCurveTo(u-v,c,u-p,c),e.lineTo(l+p,c),e.quadraticCurveTo(l+v,c,l,c+f),e.closePath()}},a=Math.sin(0),o=Math.cos(0),s={},l={},u=Math.PI/40,c=0*Math.PI;c<2*Math.PI;c+=u)s[c]=Math.sin(c),l[c]=Math.cos(c);i.drawEllipsePath=function(e,t,n,r,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,r/2,i/2,0,0,2*Math.PI);else for(var c,d,h=r/2,p=i/2,f=0*Math.PI;f<2*Math.PI;f+=u)c=t-h*s[f]*a+h*l[f]*o,d=n+p*l[f]*a+p*s[f]*o,0===f?e.moveTo(c,d):e.lineTo(c,d);e.closePath()},e.exports=i},function(e,t,n){function i(e){var t=e.indexOf(",");return e.substr(t+1)}function a(e,t,n){var a=t.toDataURL(n,e.quality);switch(e.output){case"blob":return function r(e,t){for(var n=atob(e),r=new ArrayBuffer(n.length),i=new Uint8Array(r),a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return new Blob([r],{type:t})}(i(a),n);case"base64":return i(a);case"base64uri":default:return a}}var o=n(0),s={createBuffer:function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},bufferCanvasImage:function(e){var t=this.cy,r=t.mutableElements().boundingBox(),i=this.findContainerClientCoords(),a=e.full?Math.ceil(r.w):i[2],s=e.full?Math.ceil(r.h):i[3],l=o.number(e.maxWidth)||o.number(e.maxHeight),u=this.getPixelRatio(),c=1;if(void 0!==e.scale)a*=e.scale,s*=e.scale,c=e.scale;else if(l){var d=1/0,h=1/0;o.number(e.maxWidth)&&(d=c*e.maxWidth/a),o.number(e.maxHeight)&&(h=c*e.maxHeight/s),a*=c=Math.min(d,h),s*=c}l||(a*=u,s*=u,c*=u);var p=document.createElement("canvas");p.width=a,p.height=s,p.style.width=a+"px",p.style.height=s+"px";var f=p.getContext("2d");if(a>0&&s>0){f.clearRect(0,0,a,s),f.globalCompositeOperation="source-over";var v=this.getCachedZSortedEles();if(e.full)f.translate(-r.x1*c,-r.y1*c),f.scale(c,c),this.drawElements(f,v),f.scale(1/c,1/c),f.translate(r.x1*c,r.y1*c);else{var g=t.pan(),y={x:g.x*c,y:g.y*c};c*=t.zoom(),f.translate(y.x,y.y),f.scale(c,c),this.drawElements(f,v),f.scale(1/c,1/c),f.translate(-y.x,-y.y)}e.bg&&(f.globalCompositeOperation="destination-over",f.fillStyle=e.bg,f.rect(0,0,a,s),f.fill())}return p},png:function(e){return a(e,this.bufferCanvasImage(e),"image/png")},jpg:function(e){return a(e,this.bufferCanvasImage(e),"image/jpeg")}};e.exports=s},function(e,t,n){var r={nodeShapeImpl:function(e,t,n,r,i,a,o){switch(e){case"ellipse":return this.drawEllipsePath(t,n,r,i,a);case"polygon":return this.drawPolygonPath(t,n,r,i,a,o);case"roundrectangle":return this.drawRoundRectanglePath(t,n,r,i,a);case"cutrectangle":return this.drawCutRectanglePath(t,n,r,i,a);case"bottomroundrectangle":return this.drawBottomRoundRectanglePath(t,n,r,i,a);case"barrel":return this.drawBarrelPath(t,n,r,i,a)}}};e.exports=r},function(e,t,n){var r=n(0),i=n(1),a=n(18),o=function e(){if(!(this instanceof e))return new e;this.length=0},s=o.prototype;s.instanceString=function(){return"stylesheet"},s.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},s.css=function(e,t){var n=this.length-1;if(r.string(e))this[n].properties.push({name:e,value:t});else if(r.plainObject(e))for(var o=e,s=0;s<a.properties.length;s++){var l=a.properties[s],u=o[l.name];if(void 0===u&&(u=o[i.dash2camel(l.name)]),void 0!==u){var c=l.name,d=u;this[n].properties.push({name:c,value:d})}}return this},s.style=s.css,s.generateStyle=function(e){var t=new a(e);return this.appendToStyle(t)},s.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],r=n.selector,i=n.properties;e.selector(r);for(var a=0;a<i.length;a++){var o=i[a];e.css(o.name,o.value)}}return e},e.exports=o},function(e,t,n){e.exports="snapshot-2fd4aa6cc2-1533526577051"}])},"object"==(void 0===exports?"undefined":_typeof(exports))&&"object"==(void 0===module?"undefined":_typeof(module))?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==(void 0===exports?"undefined":_typeof(exports))?exports.cytoscape=t():e.cytoscape=t()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("timers").setImmediate)},{timers:502}],9:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _=require("underscore"),$=require("jquery"),config=require("./config"),cytoscape=require("./cytoscape/cytoscape.min"),nx=require("notatrix"),sort=require("./sort"),utils=require("../utils"),zoom=require("./zoom"),Graph=function(){function Graph(app){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Graph),this.app=app,this.config=config,this.zoom=zoom,this.progress={done:0,total:0},this.intercepted=!1,this.editing=null,this.moving_dependency=null,this.options={container:this.app.gui.config.is_browser?$("#cy"):null,boxSelectionEnabled:!1,autounselectify:!0,autoungrabify:!0,zoomingEnabled:!0,userZoomingEnabled:!0,wheelSensitivity:.1,style:require("./cy-style"),layout:null,elements:[]},this.length=0,this.clumps=0,this.locked=null,this.mouseBlocked=!1,this.load()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Graph,[{key:"draw",value:function draw(){var corpus=this.app.corpus;if(this.options.layout={name:"tree",padding:0,nodeDimensionsIncludeLabels:!1,cols:corpus.is_vertical?2:void 0,rows:corpus.is_vertical?void 0:2,sort:corpus.is_vertical?sort.vertical:corpus.is_ltr?sort.ltr:sort.rtl},this.options.elements=corpus.isParsed?this.eles:[],this.cy=cytoscape(this.options).minZoom(.1).maxZoom(10).zoom(config.zoom).pan(config.pan),this.zoom.checkFirst(this),this.drawMice(),this.setLocks(),config.locked_index===this.app.corpus.index){var locked=this.cy.$("#"+config.locked_id);if(locked.addClass(config.locked_classes),config.locked_classes.indexOf("merge-source")>-1){var left=this.getPrevForm();!left||left.hasClass("activated")||left.hasClass("blocked")||"token"!==left.data("type")||left.addClass("neighbor merge-left");var right=this.getNextForm();!right||right.hasClass("activated")||right.hasClass("blocked")||"token"!==right.data("type")||right.addClass("neighbor merge-right")}else if(config.locked_classes.indexOf("combine-source")>-1){var _left=this.getPrevForm();!_left||_left.hasClass("activated")||_left.hasClass("blocked")||"token"!==_left.data("type")||_left.addClass("neighbor combine-left");var _right=this.getNextForm();!_right||_right.hasClass("activated")||_right.hasClass("blocked")||"token"!==_right.data("type")||_right.addClass("neighbor combine-right")}this.lock(locked)}return this.bind()}},{key:"bind",value:function bind(){var _this=this,self=this;return this.zoom.bind(this),$("#cy canvas, #mute").mouseup(function(e){$(":focus").blur(),self.intercepted=!1,setTimeout(function(){return self.clear()},100),self.save()}),$("#edit").mouseup(function(e){self.intercepted=!0}),$("#cy canvas").mousemove(function(e){self.intercepted=!0}).on("wheel",function(e){return self.save()}),this.cy.on("mousemove",function(e){self.app.initialized&&!self.mouseBlocked&&self.app.online&&self.app.socket.broadcast("move mouse",e.position),self.mouseBlocked=!0,setTimeout(function(){self.mouseBlocked=!1},config.mouse_move_delay)}),this.cy.on("click cxttapend","*",function(e){self.intercepted=!0}),self.cy.on("click","node.form",function(e){var target=e.target;if(!target.hasClass("locked"))if(self.cy.$(".multiword-active").removeClass("multiword-active"),self.moving_dependency){var dep=self.cy.$(".selected"),source=self.cy.$(".arc-source");self.makeDependency(source,target),self.removeDependency(dep),self.cy.$(".moving").removeClass("moving"),self.moving_dependency=!1;var newEdge=self.cy.$("#".concat(source.attr("id")," -> #").concat(target.attr("id")));newEdge.trigger("cxttapend"),self.lock(newEdge)}else if(self.commit(),self.cy.$(".arc-source").removeClass("arc-source"),self.cy.$(".arc-target").removeClass("arc-target"),self.cy.$(".selected").removeClass("selected"),target.hasClass("merge-right")||target.hasClass("merge-left"))self.merge(self.cy.$(".merge-source").data("token"),target.data("token")),self.unlock();else if(target.hasClass("combine-right")||target.hasClass("combine-left"))self.combine(self.cy.$(".combine-source").data("token"),target.data("token")),self.unlock();else if(target.hasClass("activated"))self.intercepted=!1,self.clear();else{var _source=self.cy.$(".activated");target.addClass("activated"),1===_source.length?(self.makeDependency(_source,target),_source.removeClass("activated"),target.removeClass("activated"),self.unlock()):self.lock(target)}}),self.cy.on("click","node.pos",function(e){var target=e.target;target.hasClass("locked")||(self.commit(),self.editing=target,self.cy.$(".activated").removeClass("activated"),self.cy.$(".arc-source").removeClass("arc-source"),self.cy.$(".arc-target").removeClass("arc-target"),self.cy.$(".selected").removeClass("selected"),_this.showEditLabelBox(target),self.lock(target))}),self.cy.on("click","$node > node",function(e){var target=e.target;target.hasClass("locked")||(self.cy.$(".activated").removeClass("activated"),target.hasClass("multiword-active")?(target.removeClass("multiword-active"),self.unlock()):(self.cy.$(".multiword-active").removeClass("multiword-active"),target.addClass("multiword-active"),self.lock(target)))}),self.cy.on("click","edge.dependency",function(e){var target=e.target;target.hasClass("locked")||(self.commit(),self.editing=target,self.cy.$(".activated").removeClass("activated"),self.cy.$(".arc-source").removeClass("arc-source"),self.cy.$(".arc-target").removeClass("arc-target"),self.cy.$(".selected").removeClass("selected"),_this.showEditLabelBox(target),self.lock(target))}),self.cy.on("cxttapend","node.form",function(e){var target=e.target;target.hasClass("locked")||(self.commit(),self.editing=target,self.cy.$(".activated").removeClass("activated"),self.cy.$(".arc-source").removeClass("arc-source"),self.cy.$(".arc-target").removeClass("arc-target"),self.cy.$(".selected").removeClass("selected"),_this.showEditLabelBox(target),self.lock(target))}),self.cy.on("cxttapend","edge.dependency",function(e){var target=e.target;target.hasClass("locked")||(self.commit(),self.cy.$(".activated").removeClass("activated"),target.hasClass("selected")?(self.cy.$("#".concat(target.data("source"))).removeClass("arc-source"),self.cy.$("#".concat(target.data("target"))).removeClass("arc-target"),target.removeClass("selected"),self.unlock()):(self.cy.$(".arc-source").removeClass("arc-source"),self.cy.$("#".concat(target.data("source"))).addClass("arc-source"),self.cy.$(".arc-target").removeClass("arc-target"),self.cy.$("#".concat(target.data("target"))).addClass("arc-target"),self.cy.$(".selected").removeClass("selected"),target.addClass("selected"),self.lock(target)))}),this}},{key:"save",value:function save(){this.cy&&(config.zoom=this.cy.zoom(),config.pan=this.cy.pan());var serial=_.pick(config,"pan","zoom","locked_index","locked_id","locked_classes");serial=JSON.stringify(serial),utils.storage.setPrefs("graph",serial)}},{key:"load",value:function load(){var serial=utils.storage.getPrefs("graph");serial&&(serial=JSON.parse(serial),config.set(serial))}},{key:"commit",value:function commit(){if(this.cy.$(".input").removeClass("input"),null!==this.editing){if(this.cy.$(".splitting").length){var value=$("#edit").val(),index=value.indexOf(" ");index=index<0?value.length:index,this.splitToken(this.editing,index)}else{var token=this.editing.data("token")||this.editing.data("targetToken"),attr=this.editing.data("attr"),_value=utils.validate.attrValue(attr,$("#edit").val());"deprel"===attr?this.modifyDependency(this.editing,_value):(token[attr]=_value,this.editing=null,this.app.save({type:"set",indices:[this.app.corpus.index]}))}this.editing=null}}},{key:"clear",value:function clear(){this.intercepted||(this.commit(),this.cy.$("*").removeClass("splitting activated multiword-active multiword-selected arc-source arc-target selected moving neighbor merge-source merge-left merge-right combine-source combine-left combine-right"),this.moving_dependency=!1,$("#mute").removeClass("activated"),$("#edit").removeClass("activated"),this.app.gui.status.refresh(),this.unlock())}},{key:"makeDependency",value:function makeDependency(src,tar){try{src=src.data("token"),(tar=tar.data("token")).addHead(src),this.unlock(),this.app.save({type:"set",indices:[this.app.corpus.index]})}catch(e){if(!(e instanceof nx.NxError))throw e;this.app.gui.status.error(e.message)}}},{key:"modifyDependency",value:function modifyDependency(ele,deprel){try{var src=ele.data("sourceToken");ele.data("targetToken").modifyHead(src,deprel),this.unlock(),this.app.save({type:"set",indices:[this.app.corpus.index]})}catch(e){if(!(e instanceof nx.NxError))throw e;this.app.gui.status.error(e.message)}}},{key:"removeDependency",value:function removeDependency(ele){try{var src=ele.data("sourceToken");ele.data("targetToken").removeHead(src),this.unlock(),this.app.save({type:"set",indices:[this.app.corpus.index]})}catch(e){if(!(e instanceof nx.NxError))throw e;this.app.gui.status.error(e.message)}}},{key:"setRoot",value:function setRoot(ele){var sent=this.app.corpus.current;ele=ele.data("token");try{this.app.corpus.enhanced||sent.root.dependents.clear(),ele.addHead(sent.root,"root"),this.unlock(),this.app.save({type:"set",indices:[this.app.corpus.index]})}catch(e){if(!(e instanceof nx.NxError))throw e;this.app.gui.status.error(e.message)}}},{key:"splitToken",value:function splitToken(ele,index){try{this.app.corpus.current.split(ele.data("token"),index),this.unlock(),this.app.save({type:"set",indices:[this.app.corpus.index]})}catch(e){if(!(e instanceof nx.NxError))throw e;this.app.gui.status.error(e.message)}}},{key:"splitSuperToken",value:function splitSuperToken(ele){try{this.app.corpus.current.split(ele.data("token")),this.unlock(),this.app.save({type:"set",indices:[this.app.corpus.index]})}catch(e){if(!(e instanceof nx.NxError))throw e;this.app.gui.status.error(e.message)}}},{key:"combine",value:function combine(src,tar){try{this.app.corpus.current.combine(src,tar),this.unlock(),this.app.save({type:"set",indices:[this.app.corpus.index]})}catch(e){if(!(e instanceof nx.NxError))throw e;this.app.gui.status.error(e.message)}}},{key:"merge",value:function merge(src,tar){try{this.app.corpus.current.merge(src,tar),this.unlock(),this.app.save({type:"set",indices:[this.app.corpus.index]})}catch(e){if(!(e instanceof nx.NxError))throw e;this.app.gui.status.error(e.message)}}},{key:"getPrevForm",value:function getPrevForm(){var clump=this.cy.$(".activated").data("clump");if(void 0!==clump)return clump-=1,this.cy.$(".form[clump = ".concat(clump,"]"))}},{key:"getNextForm",value:function getNextForm(){var clump=this.cy.$(".activated").data("clump");if(void 0!==clump)return clump+=1,this.cy.$(".form[clump = ".concat(clump,"]"))}},{key:"selectPrevEle",value:function selectPrevEle(){var num=this.cy.$(".input").data("num");this.intercepted=!1,this.clear(),0===(num+=1)&&(num=this.length),num>this.length&&(num=1);var ele=this.cy.$("[num = ".concat(num,"]"));this.editing=ele,ele.length&&this.showEditLabelBox(ele)}},{key:"selectNextEle",value:function selectNextEle(){var num=this.cy.$(".input").data("num");this.intercepted=!1,this.clear(),0===(num-=1)&&(num=this.length),num>this.length&&(num=1);var ele=this.cy.$("[num = ".concat(num,"]"));this.editing=ele,ele.length&&this.showEditLabelBox(ele)}},{key:"flashTokenSplitInput",value:function flashTokenSplitInput(ele){ele.addClass("splitting"),this.editing=ele,this.showEditLabelBox(ele)}},{key:"showEditLabelBox",value:function showEditLabelBox(target){target.addClass("input");var label=target.data("label").replace(/[]/,"");target.data("label",label);var bbox=target.renderedBoundingBox();bbox.color=target.style("background-color"),"dependency"===target.data("name")&&(bbox.w=100,bbox.h=this.cy.nodes()[0].renderedHeight(),bbox.color="white",this.app.corpus.is_vertical?(bbox.y1+=(bbox.y2-bbox.y1)/2-15,bbox.x1=bbox.x2-70):bbox.x1+=(bbox.x2-bbox.x1)/2-50);var autocompletes="pos-node"===target.data("name")?utils.validate.U_POS:"dependency"===target.data("name")?utils.validate.U_DEPRELS:[];$("#edit").val("").focus().val(label).css("top",bbox.y1).css("left",bbox.x1).css("height",bbox.h).css("width",bbox.w+5).attr("target",target.attr("id")).addClass("activated").selfcomplete({lookup:autocompletes,tabDisabled:!1,autoSelectFirst:!0,lookupLimit:5,width:"flex"}),$("#mute").addClass("activated"),$("#edit").focus(),"dependency"===target.data("name")&&$("#edit").select(),this.lock(target),this.app.gui.status.refresh()}},{key:"drawMice",value:function drawMice(){var _this2=this;this.app.collab.getMouseNodes().forEach(function(mouse){var id=mouse.id.replace(/[#:]/g,"_");_this2.cy.$("#".concat(id,".mouse")).length||_this2.cy.add({data:{id:id},classes:"mouse"}),_this2.cy.$("#".concat(id,".mouse")).position(mouse.position).css("background-color","#"+mouse.color)})}},{key:"setLocks",value:function setLocks(){var _this3=this;this.cy.$(".locked").removeClass("locked").data("locked_by",null).css("background-color","").css("line-color",""),this.app.collab.getLocks().forEach(function(lock){_this3.cy.$("#"+lock.locked).addClass("locked").data("locked_by",lock.id).css("background-color","#"+lock.color).css("line-color","#"+lock.color)})}},{key:"lock",value:function lock(ele){if(!ele||!ele.length)return this.unlock();this.locked=ele,config.locked_index=this.app.corpus.index,config.locked_id=ele.id();var keys=Object.keys(_.pick(ele[0]._private.classes._obj,function(value){return!!value}));keys=_.intersection(keys,["selected","activated","multiword-active","merge-source","combine-source"]),config.locked_classes=keys.join(" "),this.save(),this.app.online&&this.app.socket.broadcast("lock graph",ele.id())}},{key:"unlock",value:function unlock(){this.locked=null,config.locked_index=null,config.locked_id=null,config.locked_classes=null,this.save(),this.app.online&&this.app.socket.broadcast("unlock graph")}},{key:"eles",get:function get(){var _this4=this;function getIndex(token,format){return"CoNLL-U"===format?token.indices.conllu:"CG3"===format?token.indices.cg3:token.indices.absolute}this.progress.done=0,this.progress.total=0;var sent=this.app.corpus.current,format=this.app.corpus.format,num=0,eles=[];return sent.index().iterate(function(token){if(null!=token.indices.cytoscape||token.isSuperToken){var str,subscripts,id=getIndex(token,format),clump=token.indices.cytoscape,pos="CG3"===format?token.xpostag||token.upostag:token.upostag||token.xpostag,isRoot=sent.root.dependents.has(token);if(_this4.clumps=clump,token.isSuperToken)eles.push({data:{id:"multiword-".concat(id),clump:clump,name:"multiword",label:"".concat(token.form," ").concat((str="".concat(id),subscripts={0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"","-":"","(":"",")":""},"null"==str?"":str.split("").map(function(_char){return subscripts[_char]||_char}).join(""))),length:"".concat(token.form.length>3?.7*token.form.length:token.form.length,"em"),token:token},classes:"multiword"});else{_this4.progress.total+=2,pos&&"_"!==pos&&(_this4.progress.done+=1),token.heads.length&&(_this4.progress.done+=1);var parent="SubToken"===token.name?"multiword-"+getIndex(sent.getSuperToken(token),format):void 0;eles.push({data:{id:"num-".concat(id),clump:clump,name:"number",label:id,pos:pos,parent:parent,token:token},classes:"number"},{data:{id:"form-".concat(id),num:++num,clump:clump,name:"form",attr:"form",form:token.form,label:token.form||"_",length:"".concat((token.form||"_").length>3?.7*(token.form||"_").length:(token.form||"_").length,"em"),type:parent?"subToken":"token",state:"normal",parent:"num-".concat(id),token:token},classes:isRoot?"form root":"form"},{data:{id:"pos-node-".concat(id),num:++num,clump:clump,name:"pos-node",attr:"CG3"===format?"xpostag":"upostag",pos:pos,label:pos||"",length:"".concat(.7*(pos||"").length+1,"em"),token:token},classes:utils.validate.posNodeClasses(pos)},{data:{id:"pos-edge-".concat(id),clump:clump,name:"pos-edge",pos:pos,source:"form-".concat(id),target:"pos-node-".concat(id)},classes:"pos"}),token.mapHeads(function(head,i){if((!i||sent.options.enhanced)&&(_this4.progress.total+=1,head.deprel&&"_"!==head.deprel&&(_this4.progress.done+=1),"RootToken"!==head.token.name)){var deprel=head.deprel||"",id=getIndex(token,format),headId=getIndex(head.token,format),label=_this4.app.corpus.is_ltr?token.indices.absolute>head.token.indices.absolute?"".concat(deprel,""):"".concat(deprel):token.indices.absolute>head.token.indices.absolute?"".concat(deprel):"".concat(deprel,"");eles.push({data:{id:"dep_".concat(id,"_").concat(headId),name:"dependency",num:++num,attr:"deprel",deprel:deprel,source:"form-".concat(headId),sourceToken:head.token,target:"form-".concat(id),targetToken:token,length:"".concat((deprel||"").length/3,"em"),label:label,ctrl:new Array(4).fill(function getEdgeHeight(corpus,src,tar){var diff=tar.indices.absolute-src.indices.absolute,edgeHeight=config.edge_height*diff;return corpus.is_ltr&&(edgeHeight*=-1),1!==Math.abs(edgeHeight)&&(edgeHeight*=config.edge_coeff),corpus.is_vertical&&(edgeHeight=45),edgeHeight}(_this4.app.corpus,head.token,token))},classes:utils.validate.depEdgeClasses(sent,token,head),style:{"control-point-weights":"0.1 0.5 1","target-endpoint":"0% -50%","source-endpoint":token.indices.absolute<head.token.indices.absolute?"".concat(-10*config.edge_coeff,"px -50%"):"".concat(10*config.edge_coeff,"px -50%")}})}})}}}),this.length=num,eles}}]),Graph}();module.exports=Graph},{"../utils":34,"./config":6,"./cy-style":7,"./cytoscape/cytoscape.min":8,"./sort":10,"./zoom":11,jquery:395,notatrix:463,underscore:504}],10:[function(require,module,exports){"use strict";require("underscore");var LARGE_NUMBER=1e4;module.exports={vertical:function vertical(n1,n2){var num=function num(node){var id=parseInt(node.data("num")),offset="pos-node"===node.data("name")?0:.5;return isNaN(id)?-1/0:id+offset},num1=num(n1),num2=num(n2);return num1===num2?0:num1<num2?-1:1},ltr:function ltr(n1,n2){var num=function num(node){var id=parseInt(node.data("num")),offset="pos-node"===node.data("name")?LARGE_NUMBER:0;return isNaN(id)?-1/0:id+offset},num1=num(n1),num2=num(n2);return num1===num2?0:num1<num2?-1:1},rtl:function rtl(n1,n2){var num=function num(node){var id=parseInt(node.data("num")),offset="pos-node"===node.data("name")?0:LARGE_NUMBER;return isNaN(id)?-1/0:id+offset},num1=num(n1),num2=num(n2);return num1===num2?0:num1<num2?1:-1}}},{underscore:504}],11:[function(require,module,exports){"use strict";var _graph=null;module.exports={bind:function bind(graph){_graph=graph},in:function _in(){if(_graph){var zoom=_graph.config.zoom||_graph.cy.zoom();zoom*=1.1,_graph.cy.zoom(zoom),_graph.save()}},out:function out(){if(_graph){var zoom=_graph.config.zoom||_graph.cy.zoom();zoom/=1.1,_graph.cy.zoom(zoom),_graph.save()}},to:function to(zoom){_graph&&(_graph.cy.zoom(zoom),_graph.save())},fit:function fit(){_graph&&(_graph.cy.fit().center(),_graph.save())},checkFirst:function checkFirst(graph){graph.config.drawn_sentence||(graph.cy.fit().center(),graph.config.zoom=graph.cy.zoom(),graph.config.pan=graph.cy.pan(),graph.config.drawn_sentence=!0)}}},{}],12:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}require("underscore");var $=require("jquery"),Chat=(require("../utils"),function(){function Chat(gui){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Chat),this.gui=gui,this.is_visible=this.gui.app.online,this.is_minimized=!0}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Chat,[{key:"alert",value:function alert(message){var users=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],messages=$("#chat-messages"),alert=$("<span>").addClass("message message-alert");message.split("%u").forEach(function(chunk,i){i&&users[i-1]&&alert.append(users[i-1].dom()),chunk&&alert.append($("<span>").addClass("content").text(chunk))}),messages.append(alert).closest("div").scrollTop(messages.prop("scrollHeight"))}},{key:"sendMessage",value:function sendMessage(collab){var input=$("#chat-input"),message=input.val().trim();if(message){var self=collab.self;this.gui.app.socket.broadcast("new message",{id:self.id,message:message}),this.newMessage(self,message,!0),input.val("")}}},{key:"newMessage",value:function newMessage(user,text){var self=arguments.length>2&&void 0!==arguments[2]&&arguments[2],messages=$("#chat-messages"),dom=$("<li>").addClass("message").addClass(self?"self":"other").append($("<div>").addClass("message-content").append($("<div>").addClass("message-text").text(text)).append($("<span>").addClass("message-timestamp meta").text((new Date).toLocaleTimeString()))).append($("<div>").addClass("message-sender meta").html(user.dom()));messages.append(dom).closest("div").scrollTop(messages.prop("scrollHeight"))}},{key:"updateUser",value:function updateUser(user){var dom=$('.message-sender-info[name="'.concat(user.id,'"]'));dom.find(".message-sender-name").text(user.name),dom.find(".message-sender-viewing").text(user.viewing)}},{key:"refresh",value:function refresh(){$("#chat").css("display",this.is_visible?"flex":"none"),$("#chat-expand").css("display",this.is_minimized?"none":"flex"),$("#chat-minimize i").removeClass("fa-window-maximize fa-window-minimize").addClass(this.is_minimized?"fa-window-maximize":"fa-window-minimize"),$("#chat-available").removeClass("red green").addClass(this.gui.app.socket.initialized?"green":"red"),$("#currently-online-number").text(this.gui.app.collab.size)}},{key:"bind",value:function bind(){var self=this;$("#chat-send").click(function(e){return self.sendMessage(self.gui.app.collab)}),$("#chat-persist *, #chat-persist").click(function(e){$(e.target).is("#chat-close")||(self.is_minimized=!self.is_minimized,self.refresh())}),$("#chat-close").click(function(e){self.is_visible=!1,self.refresh()})}}]),Chat}());module.exports=Chat},{"../utils":34,jquery:395,underscore:504}],13:[function(require,module,exports){"use strict";var _=require("underscore"),_gui={is_browser:require("../utils").check_if_browser(),pinned_menu_items:new Set(["discard-corpus","show-help","go-home"]),is_textarea_visible:!0,is_table_visible:!1,is_label_bar_visible:!0,column_visibilities:new Array(10).fill(!0),textarea_height:238,autoparsing:!0,statusNormalFadeout:3e3,statusErrorFadeout:5e3,set:function set(params){return _.each(params,function(value,key){void 0!==_gui[key]&&(_gui[key]=value)})}};module.exports=_gui},{"../utils":34,underscore:504}],14:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}require("underscore");var $=require("jquery"),GraphMenu=function(){function GraphMenu(gui){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GraphMenu),this.gui=gui}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(GraphMenu,[{key:"bind",value:function bind(){var self=this;$("#LTR").click(function(e){var corpus=self.gui.app.corpus;corpus.is_ltr=!corpus.is_ltr,self.gui.app.save({type:"set",indices:[corpus.index]}),self.gui.refresh()}),$("#vertical").click(function(e){var corpus=self.gui.app.corpus;corpus.is_vertical=!corpus.is_vertical,self.gui.app.save({type:"set",indices:[corpus.index]}),self.gui.refresh()}),$("#enhanced").click(function(e){var corpus=self.gui.app.corpus;corpus.is_enhanced?corpus.current.unenhance():corpus.current.enhance(),self.gui.app.save({type:"set",indices:[corpus.index]}),self.gui.refresh()})}},{key:"refresh",value:function refresh(){var corpus=this.gui.app.corpus;$("#LTR .fa").removeClass("fa-align-left fa-align-right").addClass(corpus.is_ltr?"fa-align-left":"fa-align-right"),$("#vertical .fa").toggleClass("fa-rotate-90",corpus.is_vertical),$("#enhanced .fa").removeClass("fa-tree fa-magic").addClass(corpus.is_enhanced?"fa-magic":"fa-tree")}}]),GraphMenu}();module.exports=GraphMenu},{jquery:395,underscore:504}],15:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var $=require("jquery"),_=require("underscore"),utils=require("../utils"),Chat=require("./chat"),config=require("./config"),corpus=require("../corpus"),GraphMenu=require("./graph-menu"),keys=require("./keyboard"),Labeler=require("./labeler"),Menu=require("./menu"),modalFactory=require("./modals"),Status=require("./status"),Table=require("./table"),Textarea=require("./textarea"),nx=require("notatrix"),GUI=function(){function GUI(app){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GUI),this.app=app,this.chat=new Chat(this),this.config=config,this.graphMenu=new GraphMenu(this),this.keys=keys,this.labeler=new Labeler(this),this.menu=new Menu(this),this.modals=modalFactory(this),this.status=new Status(this),this.table=new Table(this),this.textarea=new Textarea(this),this.root=utils.getRootPath(),this.load(),this.bind()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(GUI,[{key:"save",value:function save(){var serial=_.pick(this.config,"column_visibilities","is_label_bar_visible","is_table_visible","is_textarea_visible","pinned_menu_items","textarea_height","autoparsing");serial=JSON.stringify(serial),utils.storage.setPrefs("gui",serial)}},{key:"load",value:function load(){var serial=utils.storage.getPrefs("gui");serial&&((serial=JSON.parse(serial)).pinned_menu_items=new Set(serial.pinned_menu_items||[]),this.config.set(serial))}},{key:"bind",value:function bind(){if(this.config.is_browser){var self=this;require("./selfcomplete"),this.chat.bind(),this.graphMenu.bind(),this.menu.bind(),this.status.bind(),this.textarea.bind(),this.app.online||($('[name="fork-file"]').hide(),$('[name="upload-url"]').hide(),$("span#username").html("N/A"),$("#upload-filename").on("change",function(e){if(e.target.files.length>0){var reader=new FileReader;reader.onload=(theFile=e.target.files[0],function(d){self.uploaded={name:theFile.name,text:d.target.result}}),reader.readAsText(e.target.files[0])}var theFile}),$("#uploadform").on("submit",function(e){if(e.preventDefault(),window.File&&window.FileReader&&window.FileList&&window.Blob){if(self.hasOwnProperty("uploaded")&&self.uploaded.hasOwnProperty("text")){var upcorpus=nx.Corpus.fromString(self.uploaded.text);upcorpus.filename=self.uploaded.name,self.app.corpus=new corpus(self.app,upcorpus.serialize()),$("#upload-file-modal").hide(),$("#upload-filename").val(null),self.refresh()}}else alert("Your browser does not support FileAPI")})),$(".controls").click(function(e){return $(":focus:not(#edit)").blur()}),$("#edit").click(function(e){self.app.graph.intercepted=!0}),window.onkeyup=function(e){return self.keys.up(self.app,e)},window.onkeydown=function(e){return self.keys.down(self.app,e)},window.onbeforeunload=function(e){return self.app.save()}}}},{key:"refresh",value:function refresh(){if(this.config.is_browser){this.chat.refresh(),this.graphMenu.refresh(),this.labeler.refresh(),this.menu.refresh(),this.status.refresh(),this.textarea.refresh(),this.app.graph.draw();var percent=100*(this.app.graph.progress.total?this.app.graph.progress.done/this.app.graph.progress.total:0);$("#progress-bar").css("width","".concat(percent,"%"))}}}]),GUI}();module.exports=GUI},{"../corpus":5,"../utils":34,"./chat":12,"./config":13,"./graph-menu":14,"./keyboard":16,"./labeler":17,"./menu":18,"./modals":21,"./selfcomplete":24,"./status":25,"./table":26,"./textarea":27,jquery:395,notatrix:463,underscore:504}],16:[function(require,module,exports){"use strict";require("underscore");var $=require("jquery"),KEYS={DELETE:46,BACKSPACE:8,ENTER:13,ESC:27,TAB:9,RIGHT:39,LEFT:37,UP:38,DOWN:40,MINUS:173,MINUS_:189,EQUALS:61,EQUALS_:187,SHIFT:16,CTRL:17,OPT:18,PAGE_UP:33,PAGE_DOWN:34,META:224,C:67,D:68,I:73,J:74,K:75,L:76,M:77,P:80,R:82,S:83,X:88,Y:89,Z:90,0:48,QUESTION_MARK:191},pressed=new Set;module.exports=KEYS,module.exports.pressed=pressed,module.exports.up=function keyup(app,event){var collab=app.collab,corpus=app.corpus,graph=app.graph,gui=app.gui;if(pressed.delete(event.which),pressed.has(KEYS.CTRL))if(event.which===KEYS.PAGE_DOWN)pressed.has(KEYS.SHIFT)?corpus.last():corpus.next();else if(event.which===KEYS.PAGE_UP)pressed.has(KEYS.SHIFT)?corpus.first():corpus.prev();else if(event.which!==KEYS.Z||pressed.has(KEYS.SHIFT)){if(event.which===KEYS.Y||pressed.has(KEYS.Z))undoManager.redo();else if(event.which===KEYS.L)$("#label-input").focus();else if(47<event.which&&event.which<58){var num=event.which-48;graph.zoom.to(Math.pow(1.5,num-5)),gui.refresh()}}else undoManager.undo();else{var focus=$(":focus");if(focus.is(".conllu-table")){var table=gui.table,td=focus;switch(event.which){case KEYS.ENTER:table.toggleEditing();break;case KEYS.TAB:pressed.has(KEYS.SHIFT)?(table.goLeft(!0),table.toggleEditing(!0)):(table.goRight(!0),table.toggleEditing(!0));break;case KEYS.UP:table.editing||table.goUp();break;case KEYS.DOWN:table.editing||table.goDown();break;case KEYS.LEFT:table.editing||table.goLeft();break;case KEYS.RIGHT:table.editing||table.goRight();break;case KEYS.ESC:var originalValue=td.attr("original-value")||"";td.text(originalValue).blur()}}else if(focus.is("#current-sentence"))switch(event.which){case KEYS.ENTER:corpus.index=parseInt($("#current-sentence").val())-1;break;case KEYS.LEFT:case KEYS.J:corpus.prev();break;case KEYS.RIGHT:case KEYS.K:corpus.next();break;case KEYS.MINUS:corpus.removeSentence();break;case KEYS.EQUALS:corpus.insertSentence()}else if(focus.is("#edit"))switch(event.which){case KEYS.ENTER:app.graph.intercepted=!1,graph.clear();break;case KEYS.TAB:graph.intercepted=!1,pressed.has(KEYS.SHIFT)?graph.selectPrevEle():graph.selectNextEle();break;case KEYS.ESC:app.graph.intercepted=!1,app.graph.editing=null,graph.clear()}else if(focus.is("#text-data"))switch(event.which){case KEYS.ESC:focus.blur();break;case KEYS.ENTER:break;case KEYS.TAB:var cursor=$("#text-data").prop("selectionStart"),contents=$("#text-data").val(),before=contents.substring(0,cursor),after=contents.substring(cursor,contents.length);$("#text-data").val(before+"\t"+after);break;default:clearTimeout(gui.parseTimer),gui.parseTimer=setTimeout(function(){gui.config.autoparsing?corpus.parse($("#text-data").val()):corpus.current&&(corpus.current.input=$("#text-data").val())},1e3)}else if(focus.is("#chat-input"))event.which===KEYS.ENTER&&gui.chat.sendMessage(collab);else if(event.which!==KEYS.QUESTION_MARK&&graph.cy)switch(event.which){case KEYS.DELETE:case KEYS.BACKSPACE:case KEYS.X:graph.cy.$(".selected").length&&graph.removeDependency(graph.cy.$(".selected"));break;case KEYS.D:graph.cy.$(".selected").length&&(graph.cy.$(".selected").toggleClass("moving"),graph.moving_dependency=!graph.moving_dependency);break;case KEYS.P:break;case KEYS.R:graph.cy.$("node.form.activated")&&graph.setRoot(graph.cy.$("node.form.activated"));break;case KEYS.S:var token=graph.cy.$(".activated"),superToken=graph.cy.$(".multiword-active");token.length?graph.flashTokenSplitInput(token):superToken.length&&graph.splitSuperToken(superToken),gui.status.refresh();break;case KEYS.M:if(graph.cy.$(".form").removeClass("combine-source combine-left combine-right"),graph.cy.$(".merge-source").length)graph.cy.$(".neighbor").removeClass("merge-left merge-right neighbor"),graph.cy.$(".merge-source").removeClass("merge-source").addClass("activated"),graph.lock(graph.cy.$(".activated"));else if(graph.cy.$(".activated").length){if("token"!==graph.cy.$(".activated").data("type"))break;graph.cy.$(".activated").addClass("merge-source"),graph.cy.$(".neighbor").removeClass("neighbor combine-source combine-left combine-right");var left=graph.getPrevForm();left.hasClass("activated")||left.hasClass("blocked")||"token"!==left.data("type")||left.addClass("neighbor").addClass("merge-left");var right=graph.getNextForm();right.hasClass("activated")||right.hasClass("blocked")||"token"!==right.data("type")||right.addClass("neighbor").addClass("merge-right"),graph.lock(graph.cy.$(".activated"))}gui.status.refresh();break;case KEYS.C:if(graph.cy.$(".form").removeClass("merge-source merge-left merge-right"),graph.cy.$(".combine-source").length)graph.cy.$(".neighbor").removeClass("combine-left combine-right neighbor"),graph.cy.$(".combine-source").removeClass("combine-source").addClass("activated"),graph.lock(graph.cy.$(".activated"));else if(graph.cy.$(".activated").length){if("token"!==graph.cy.$(".activated").data("type"))break;graph.cy.$(".activated").addClass("combine-source"),graph.cy.$(".neighbor").removeClass("neighbor merge-source merge-left merge-right");var _left=graph.getPrevForm();_left.hasClass("activated")||_left.hasClass("blocked")||"token"!==_left.data("type")||_left.addClass("neighbor combine-left");var _right=graph.getNextForm();_right.hasClass("activated")||_right.hasClass("blocked")||"token"!==_right.data("type")||_right.addClass("neighbor combine-right"),graph.lock(graph.cy.$(".activated"))}gui.status.refresh();break;case KEYS.LEFT:if(event.preventDefault&&event.preventDefault(),graph.cy.$(".merge-left").length){var src=graph.cy.$(".merge-source"),tar=graph.cy.$(".merge-left");tar.hasClass("locked")||graph.merge(src.data("token"),tar.data("token"))}else if(graph.cy.$(".combine-left").length){var _src=graph.cy.$(".combine-source"),_tar=graph.cy.$(".combine-left");_tar.hasClass("locked")||graph.combine(_src.data("token"),_tar.data("token"))}break;case KEYS.RIGHT:if(event.preventDefault&&event.preventDefault(),graph.cy.$(".merge-right").length){var _src2=graph.cy.$(".merge-source"),_tar2=graph.cy.$(".merge-right");_tar2.hasClass("locked")||graph.merge(_src2.data("token"),_tar2.data("token"))}else if(graph.cy.$(".combine-right").length){var _src3=graph.cy.$(".combine-source"),_tar3=graph.cy.$(".combine-right");_tar3.hasClass("locked")||graph.combine(_src3.data("token"),_tar3.data("token"))}break;case KEYS.EQUALS:case KEYS.EQUALS_:event.shiftKey?graph.zoom.in():graph.zoom.fit();break;case KEYS.MINUS:case KEYS.MINUS_:event.shiftKey?graph.zoom.out():graph.zoom.fit();break;case KEYS.ENTER:case KEYS.ESC:graph.intercepted=!1,graph.clear()}}},module.exports.down=function keydown(app,event){pressed.add(event.which),event.which===KEYS.TAB&&event.preventDefault(),event.which===KEYS.ENTER&&$(":focus").is("td")&&event.preventDefault()}},{jquery:395,underscore:504}],17:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _=require("underscore"),$=require("jquery"),Labeler=function(){function Labeler(gui){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Labeler),this.gui=gui}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Labeler,[{key:"bind",value:function bind(){var self=this;$("#label-input").keyup(function(e){if(e.which===self.gui.keys.ENTER){if(!self.current)return;$(e.target).val().trim().split(/\s+/).split(/\s+/).forEach(function(name){self.labeler.get(name)||(self.gui.status.normal("add-label-".concat(name)),self.labeler.addLabel(name,[self.current]))}),$("#label-input").val(""),self.refresh()}}),$("#label-clear-filter").click(function(e){self.labeler._filter=new Set,self.gui.refresh()}),$("#labels-horiz .label-text").click(function(e){var name=$(e.target).closest("li").attr("name");self.labeler.sentenceHasLabel(name)?(self.gui.status.normal("add-label-".concat(name)),self.labeler.addLabel(name,[self.current])):(self.gui.status.normal("remove-label-".concat(name)),self.labeler.removeLabel(name,[self.current])),self.gui.refresh(),flashDropdown(name)}),$("#labels-horiz .refresh-color").click(function(e){var name=$(e.target).closest("li").attr("name");self.labeler.get(name)._label.changeColor(),self.refresh(),flashDropdown(name)}),$('#labels-horiz input[name="label-name"]').keyup(function(e){if(event.which===self.gui.keys.ENTER){var target=$(e.target),oldName=target.closest("li").attr("name"),newName=target.val();self.labeler.changeLabelName(oldName,newName),self.gui.update(),flashDropdown(name,"label-name")}}),$('#labels-horiz input[name="label-desc"]').keyup(function(e){if(event.which===self.gui.keys.ENTER){var target=$(e.target),_name=target.closest("li").attr("name"),desc=target.val();self.labeler.changeLabelDesc(_name,desc),self.gui.update(),flashDropdown(_name,"label-desc")}}),$('#labels-horiz input[name="label-color"]').keyup(function(e){if(event.which===self.gui.keys.ENTER){var target=$(e.target),_name2=target.closest("li").attr("name"),color=target.val();self.labeler.changeLabelColor(_name2,color),self.gui.update(),flashDropdown(_name2,"label-color")}}),$('#labels-horiz input[name="filtering"]').click(function(e){var name=$(e.target).closest("li").attr("name");self.labeler._filter.has(name)?self.labeler.removeFromFilter(name):self.labeler.addToFilter(name),self.gui.refresh(),flashDropdown(name)}),$("#labels-horiz .delete-button").click(function(e){var name=$(e.target).closest("li").attr("name");confirm('Are you sure you want to delete the label "'.concat(name,'"?'))&&(self.gui.status.normal("remove-label-".concat(name)),self.labeler.removeLabel(name),self.gui.refresh(),flashDropdown(name))})}},{key:"refresh",value:function refresh(){var _this=this,config=this.gui.config;$("#label-container").css("display",config.is_label_bar_visible&&config.is_textarea_visible?"flex":"none"),$("#label-clear-filter .label-text").toggleClass("disabled",!!this.labeler._filter.size),$(".label.horiz").detach(),_.each(this.labeler._labels,function(label){label=label._label,$("#labels-horiz").append($("<li>").attr("name",label.name).addClass("label horiz").addClass(_this.labeler.sentenceHasLabel(_this.current)?"in-comments":"not-in-comments").addClass(_this.labeler.sentenceInFilter(_this.current)?"filtering":"not-filtering").append($("<div>").addClass("label-text").text(label.name).css("background-color","#"+label.bColor).css("color","#"+label.tColor)).append($("<div>").addClass("label-hidden").append($("<div>").addClass("label-hidden-group").append($("<div>").addClass("label-hidden-item").append($("<strong>").text("Name")).append($("<input>").attr("name","label-name").val(label.name))).append($("<div>").addClass("label-hidden-item").append($("<strong>").text("Description")).append($("<input>").attr("name","label-desc").val(label.desc))).append($("<div>").addClass("label-hidden-item").append($("<strong>").text("Color")).append($("<div>").addClass("label-hidden-item-inner").append($("<span>").addClass("hex-color-group").text("#").append($("<input>").attr("name","label-color").attr("pattern","[A-Fa-f\\d]{6}").val(label.bColor))).append($("<button>").attr("type","button").addClass("btn btn-secondary refresh-color").css("background-color","#"+label.bColor).append($("<i>").addClass("fa fa-refresh")))))).append($("<hr>")).append($("<div>").addClass("label-hidden-group").append($("<div>").addClass("label-hidden-item").append($("<div>").addClass("label-hidden-item-inner").append($("<input>").attr("name","filtering").attr("type","checkbox").prop("checked",_this.labeler.sentenceInFilter(_this.current))).append($("<span>").addClass("filtering-label checkbox-label").text("filtering"))))).append($("<hr>")).append($("<div>").addClass("label-hidden-group").append($("<div>").addClass("label-hidden-item delete-item").append($("<button>").attr("type","button").addClass("btn btn-secondary delete-button").text("delete"))))))}),this.bind()}},{key:"current",get:function get(){return this.gui.app.corpus.current}},{key:"labeler",get:function get(){return this.gui.app.corpus._corpus._labeler}}]),Labeler}();module.exports=Labeler},{jquery:395,underscore:504}],18:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}require("underscore");var $=require("jquery"),utils=require("../utils"),Menu=function(){function Menu(gui){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Menu),this.gui=gui,this.is_visible=!1}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Menu,[{key:"bind",value:function bind(){var self=this;$("#content").click(function(e){!!$(e.target).closest("#dropdown-container").length||(self.is_visible=!1,self.refresh())}),$("#btnMenuDropdown").click(function(e){self.is_visible=!self.is_visible,self.refresh()}),$("#btnPrevSentence").click(function(e){return self.gui.app.corpus.prev()}),$("#btnNextSentence").click(function(e){return self.gui.app.corpus.next()}),$("#current-sentence").blur(function(e){var index=parseInt($("current-sentence").val())-1;self.gui.app.corpus.index=index}),$("#btnRemoveSentence").click(function(e){return self.gui.app.corpus.removeSentence()}),$("#btnAddSentence").click(function(e){return self.gui.app.corpus.insertSentence()}),$(".pin").click(function(e){var name=$(e.target).closest(".dropdown-group-item").attr("name");self.gui.config.pinned_menu_items.has(name)?self.gui.config.pinned_menu_items.delete(name):self.gui.config.pinned_menu_items.add(name),self.gui.save(),self.refresh()}),$('[name="chat"]').click(function(e){var chat=self.gui.chat;chat.is_visible=!chat.is_visible,chat.refresh()}),$('[name="logout"]').click(function(e){utils.link("/logout?treebank_id=".concat(utils.getTreebankId()),"_self")}),$('[name="login"]').click(function(e){utils.link("/oauth/login?treebank_id=".concat(utils.getTreebankId()),"_self")}),$('[name="manage-repos"]').click(function(e){utils.link("/repos")}),$('[name="manage-permissions"]').click(function(e){utils.link("/permissions")}),$('[name="save-corpus"]').click(function(e){$(e.target).is(".pin")||self.gui.app.save()}),$('[name="fork-file"]').click(function(e){var target=$(e.target);target.is(".pin")||target.closest("a").hasClass("disabled")||self.gui.modals.forkFile.show()}),$('[name="commit-changes"]').click(function(e){var target=$(e.target);target.is(".pin")||target.closest("a").hasClass("disabled")||self.gui.modals.commitFile.show()}),$('[name="pull-request"]').click(function(e){var target=$(e.target);target.is(".pin")||target.closest("a").hasClass("disabled")||$.post("/pullreq",{title:"Some changes",content:"There will be some content"},function(data){alert(JSON.stringify(data))})}),$('[name="upload-file"]').click(function(e){var target=$(e.target);target.is(".pin")||target.closest("a").hasClass("disabled")||self.gui.modals.uploadFile.show()}),$('[name="upload-url"]').click(function(e){var target=$(e.target);target.is(".pin")||target.closest("a").hasClass("disabled")||self.gui.modals.uploadURL.show()}),$('[name="download-corpus"]').click(function(e){$(e.target).is(".pin")||self.gui.app.download()}),$('[name="discard-corpus"]').click(function(e){$(e.target).is(".pin")||confirm("Do you want to clear the corpus (remove all sentences)?")&&self.gui.app.discard()}),$('[name="export-as-latex"]').click(function(e){$(e.target).is(".pin")||utils.export.latex(self.gui.app)}),$('[name="export-as-png"]').click(function(e){$(e.target).is(".pin")||utils.export.png(self.gui.app)}),$('[name="export-as-svg"]').click(function(e){var target=$(e.target);target.is(".pin")||target.closest("a").hasClass("disabled")||utils.export.svg(self.gui.app)}),$("#btnUndo").click(function(e){return self.gui.app.undoer.undo()}),$("#btnRedo").click(function(e){return self.gui.app.undoer.redo()}),$('[name="show-labels"]').click(function(e){$(e.target).is(".pin")||(self.gui.config.is_label_bar_visible=!self.gui.config.is_label_bar_visible,self.gui.refresh())}),$('[name="show-help"]').click(function(e){$(e.target).is(".pin")||utils.link(self.gui.root+"help.html","_blank")}),$('[name="go-home"]').click(function(e){$(e.target).is(".pin")||utils.link(self.gui.root+"index.html","_self")}),$('[name="show-settings"]').click(function(e){$(e.target).is(".pin")||utils.link(self.gui.root+"settings?treebank_id="+utils.getTreebankId(),"_self")}),$('[name="show-table"]').click(function(e){var target=$(e.target);target.is(".pin")||target.closest("a").hasClass("disabled")||(self.gui.config.is_table_visible=!self.gui.config.is_table_visible,self.gui.refresh())}),$("#btnToggleTextarea").click(function(e){self.gui.config.is_textarea_visible=!self.gui.config.is_textarea_visible,self.gui.refresh()}),$(".format-tab").click(function(e){var target=$(e.target);if(!target.hasClass("disabled")&&!target.hasClass("fa")){var corpus=self.gui.app.corpus;corpus.format!==target.attr("name")&&(corpus.isParsed||corpus.parse(corpus.unparsed),corpus.format=target.attr("name"),self.gui.refresh())}})}},{key:"refresh",value:function refresh(){var config=this.gui.config;$(".btn").removeClass("disabled").prop("disabled",!1),$("#dropdown-container .dropdown-toggle").removeClass("open"),this.is_visible&&$("#dropdown-container .dropdown-toggle").addClass("open"),$("#dropdown-container .dropdown-content").removeClass("menu-show menu-hidden").addClass(this.is_visible?"menu-show":"menu-hidden"),$(".pinnable").removeClass("pinned").addClass("unpinned"),config.pinned_menu_items.forEach(function(name){$('.pinnable[name="'.concat(name,'"]')).removeClass("unpinned").addClass("pinned")}),$(".btn-group .btn").css("border-radius","0"),$(".btn-group").each(function(i,group){group=$(group);var visible=!1,first=null,last=null;group.children().each(function(j,btn){!(btn=$(btn)).hasClass("unpinned")&&btn.hasClass("btn")&&(first=first||btn,last=btn),visible=!btn.hasClass("pinnable")||(visible||btn.hasClass("pinned"))}),group.css("display",visible?"inline-flex":"none"),first&&first.css("border-top-left-radius","5px").css("border-bottom-left-radius","5px"),last&&last.css("border-top-right-radius","5px").css("border-bottom-right-radius","5px")});var corpus=this.gui.app.corpus,indices=corpus.getIndices();$("#current-sentence").val(indices.current),$("#total-sentences").val(indices.total),corpus.index||$("#btnPrevSentence").addClass("disabled"),corpus.index===(corpus._corpus.filtered.length||corpus.length)-1&&$("#btnNextSentence").addClass("disabled"),$('[name="chat"]').toggleClass("disabled",!this.gui.app.online).prop("disabled",!this.gui.app.online),$(".export-button").toggleClass("disabled",!this.gui.app.graph.length),$('[name="export-as-svg"]').addClass("disabled"),$('[name="show-table"]').toggleClass("disabled","CoNLL-U"!==corpus.format),$("#btnUndo").prop("disabled",!this.gui.app.undoer.hasUndo()),$("#btnRedo").prop("disabled",!this.gui.app.undoer.hasRedo()),this.gui.app.git&&$(".ud-status").html(this.gui.app.git),this.gui.app.git?($('[name="commit-changes"]').removeClass("disabled"),"fork"===this.gui.app.git?$('[name="pull-request"]').addClass("disabled"):$('[name="pull-request"]').removeClass("disabled")):($('[name="commit-changes"]').addClass("disabled"),$('[name="pull-request"]').addClass("disabled")),$(".nav-link").removeClass("active").filter('[name="'.concat(corpus.format,'"]')).toggleClass("active",corpus.isParsed),$("#btnToggleTextarea .fa").removeClass("fa-chevron-down fa-chevron-up"),config.is_textarea_visible?($("#data-container").show(),$("#top-buttons-container").removeClass("extra-space"),$(".format-tab").show(),$("#btnToggleTable").show().find(".fa").removeClass("fa-table fa-code").addClass(config.is_table_visible?"fa-code":"fa-table").toggleClass("disabled","CoNLL-U"!==corpus.format).prop("disabled","CoNLL-U"!==corpus.format).show(),$("#btnToggleTextarea .fa").addClass("fa-chevron-up")):($("#data-container").hide(),$("#top-buttons-container").addClass("extra-space"),$(".format-tab").not(".active").hide(),$("#btnToggleTable").hide(),$("#btnToggleTextarea .fa").addClass("fa-chevron-down"))}}]),Menu}();module.exports=Menu},{"../utils":34,jquery:395,underscore:504}],19:[function(require,module,exports){"use strict";var $=require("jquery"),_gui=null;function show(){$("#commit-file-modal").show()}function hide(){$("#commit-file-modal").hide(),$("#commit-message").val(null),$("#commit-result").addClass("d-none"),$("#commit-editor").removeClass("d-none"),$("#commit-button").removeClass("d-none")}function processCommit(){var commitMessage=$("#commit-message").val();if(commitMessage&&commitMessage.replace(/\s/g,"").length){var rawCorpus=_gui.app.download(!0);$.post("/commit",{corpus:rawCorpus,message:commitMessage},function(data){var msg=data.hasOwnProperty("url")?'Link of the new commit: <a href="'.concat(data.url,'">').concat(data.url,"</a>"):JSON.stringify(data);$("#commit-result").removeClass("d-none").html(msg),$("#commit-editor").addClass("d-none"),$("#commit-button").addClass("d-none"),_gui.app.gui.menu.refresh()})}}module.exports=function(gui){return _gui=gui,function bind(){$("#commit-file-modal").find('[name="close"]').click(hide),$("#commit-button").click(processCommit)}(),{hide:hide,show:show}}},{jquery:395}],20:[function(require,module,exports){"use strict";var $=require("jquery"),_gui=null;function show(){$("#fork-file-modal").show().find('[type="submit"]').prop("disabled",!_gui.app.server.is_running)}function hide(){$("#fork-file-modal").hide(),$("#fork-from-url").val(null)}module.exports=function(gui){return _gui=gui,function bind(){$("#fork-file-modal").find('[name="close"]').click(hide)}(),{hide:hide,show:show}}},{jquery:395}],21:[function(require,module,exports){"use strict";module.exports=function(gui){return{uploadFile:require("./upload-file")(gui),uploadURL:require("./upload-url")(gui),forkFile:require("./fork-file")(gui),commitFile:require("./commit-file")(gui)}}},{"./commit-file":19,"./fork-file":20,"./upload-file":22,"./upload-url":23}],22:[function(require,module,exports){"use strict";var $=require("jquery"),_gui=null;function show(){$("#upload-file-modal").show().find('[type="submit"]').prop("disabled",!_gui.app.server.is_running)}function hide(){$("#upload-file-modal").hide(),$("#upload-filename").val(null)}module.exports=function(gui){return _gui=gui,function bind(){$("#upload-file-modal").find('[name="close"]').click(hide)}(),{hide:hide,show:show}}},{jquery:395}],23:[function(require,module,exports){"use strict";var $=require("jquery"),_gui=null;function show(){$("#upload-url-modal").show().find('[type="submit"]').prop("disabled",!_gui.app.server.is_running)}function hide(){$("#upload-url-modal").hide()}module.exports=function(gui){return _gui=gui,function bind(){$("#upload-url-modal").find('[name="close"]').click(hide)}(),{hide:hide,show:show}}},{jquery:395}],24:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var factory;factory=function($){var utils={escapeRegExChars:function escapeRegExChars(value){return value.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},createNode:function createNode(containerClass){var div=document.createElement("div");return div.className=containerClass,div.style.position="absolute",div.style.display="none",div}},keys_ESC=27,keys_TAB=9,keys_RETURN=13,keys_UP=38,keys_RIGHT=39,keys_DOWN=40,noop=$.noop;function Selfcomplete(el,options){this.element=el,this.el=$(el),this.suggestions=[],this.badQueries=[],this.selectedIndex=-1,this.currentValue=this.element.value,this.timeoutId=null,this.cachedResponse={},this.onChangeTimeout=null,this.onChange=null,this.isLocal=!1,this.suggestionsContainer=null,this.noSuggestionsContainer=null,this.options=$.extend({},Selfcomplete.defaults,options),this.classes={selected:"selfcomplete-selected",suggestion:"selfcomplete-suggestion"},this.hint=null,this.hintValue="",this.selection=null,this.initialize(),this.setOptions(options)}Selfcomplete.utils=utils,$.Selfcomplete=Selfcomplete,Selfcomplete.defaults={ajaxSettings:{},autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:function _formatResult(suggestion,currentValue){if(!currentValue)return suggestion.value;var pattern="("+utils.escapeRegExChars(currentValue)+")";return suggestion.value.replace(new RegExp(pattern,"gi"),"<strong>$1</strong>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")},formatGroup:function _formatGroup(suggestion,category){return'<div class="selfcomplete-group">'+category+"</div>"},delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:noop,onSearchComplete:noop,onSearchError:noop,preserveInput:!1,containerClass:"selfcomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function _lookupFilter(suggestion,originalQuery,queryLowerCase){return!1!==suggestion.value.toLowerCase().startsWith(queryLowerCase)},paramName:"query",transformResult:function _transformResult(response){return"string"==typeof response?$.parseJSON(response):response},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1},Selfcomplete.prototype={initialize:function initialize(){var container,that=this,suggestionSelector="."+that.classes.suggestion,selected=that.classes.selected,options=that.options;that.element.setAttribute("selfcomplete","off"),that.noSuggestionsContainer=$('<div class="selfcomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0),that.suggestionsContainer=Selfcomplete.utils.createNode(options.containerClass),(container=$(that.suggestionsContainer)).appendTo(options.appendTo||"body"),"auto"!==options.width&&container.css("width",options.width),container.on("mouseover.selfcomplete",suggestionSelector,function(){that.activate($(this).data("index"))}),container.on("mouseout.selfcomplete",function(){that.selectedIndex=-1,container.children("."+selected).removeClass(selected)}),container.on("click.selfcomplete",suggestionSelector,function(){that.select($(this).data("index"))}),container.on("click.selfcomplete",function(){clearTimeout(that.blurTimeoutId)}),that.fixPositionCapture=function(){that.visible&&that.fixPosition()},$(window).on("resize.selfcomplete",that.fixPositionCapture),that.el.on("keydown.selfcomplete",function(e){that.onKeyPress(e)}),that.el.on("keyup.selfcomplete",function(e){that.onKeyUp(e)}),that.el.on("blur.selfcomplete",function(){that.onBlur()}),that.el.on("focus.selfcomplete",function(){that.onFocus()}),that.el.on("change.selfcomplete",function(e){that.onKeyUp(e)}),that.el.on("input.selfcomplete",function(e){that.onKeyUp(e)})},onFocus:function onFocus(){this.fixPosition(),this.el.val().length>=this.options.minChars&&this.onValueChange()},onBlur:function onBlur(){var that=this;that.blurTimeoutId=setTimeout(function(){that.hide()},200)},abortAjax:function abortAjax(){this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null)},setOptions:function setOptions(suppliedOptions){var options=$.extend({},this.options,suppliedOptions);this.isLocal=Array.isArray(options.lookup),this.isLocal&&(options.lookup=this.verifySuggestionsFormat(options.lookup)),options.orientation=this.validateOrientation(options.orientation,"bottom"),$(this.suggestionsContainer).css({"max-height":options.maxHeight+"px",width:options.width+"px","z-index":options.zIndex}),this.options=options},clearCache:function clearCache(){this.cachedResponse={},this.badQueries=[]},clear:function clear(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function disable(){this.disabled=!0,clearTimeout(this.onChangeTimeout),this.abortAjax()},enable:function enable(){this.disabled=!1},fixPosition:function fixPosition(){var $container=$(this.suggestionsContainer),containerParent=$container.parent().get(0);if(containerParent===document.body||this.options.forceFixPosition){var orientation=this.options.orientation,containerHeight=$container.outerHeight(),height=this.el.outerHeight(),offset=this.el.offset(),styles={top:offset.top,left:offset.left};if("auto"===orientation){var viewPortHeight=$(window).height(),scrollTop=$(window).scrollTop(),topOverflow=-scrollTop+offset.top-containerHeight,bottomOverflow=scrollTop+viewPortHeight-(offset.top+height+containerHeight);orientation=Math.max(topOverflow,bottomOverflow)===topOverflow?"top":"bottom"}if(styles.top+="top"===orientation?-containerHeight:height,containerParent!==document.body){var parentOffsetDiff,opacity=$container.css("opacity");this.visible||$container.css("opacity",0).show(),parentOffsetDiff=$container.offsetParent().offset(),styles.top-=parentOffsetDiff.top,styles.left-=parentOffsetDiff.left,this.visible||$container.css("opacity",opacity).hide()}"auto"===this.options.width&&(styles.width=this.el.outerWidth()+"px"),$container.css(styles)}},isCursorAtEnd:function isCursorAtEnd(){var range,valLength=this.el.val().length,selectionStart=this.element.selectionStart;return"number"==typeof selectionStart?selectionStart===valLength:!document.selection||((range=document.selection.createRange()).moveStart("character",-valLength),valLength===range.text.length)},onKeyPress:function onKeyPress(e){if(this.disabled||this.visible||e.which!==keys_DOWN||!this.currentValue){if(!this.disabled&&this.visible){switch(e.which){case keys_ESC:this.el.val(this.currentValue),this.hide();break;case keys_RIGHT:if(this.hint&&this.options.onHint&&this.isCursorAtEnd()){this.selectHint();break}return;case keys_TAB:if(this.hint&&this.options.onHint)return void this.selectHint();if(-1===this.selectedIndex)return void this.hide();if(this.select(this.selectedIndex),!1===this.options.tabDisabled)return;break;case keys_RETURN:if(-1===this.selectedIndex)return void this.hide();this.select(this.selectedIndex);break;case keys_UP:this.moveUp();break;case keys_DOWN:this.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()}}else this.suggest()},onKeyUp:function onKeyUp(e){var that=this;if(!that.disabled){switch(e.which){case keys_UP:case keys_DOWN:return}clearTimeout(that.onChangeTimeout),that.currentValue!==that.el.val()&&(that.findBestHint(),that.options.deferRequestBy>0?that.onChangeTimeout=setTimeout(function(){that.onValueChange()},that.options.deferRequestBy):that.onValueChange())}},onValueChange:function onValueChange(){if(this.ignoreValueChange)this.ignoreValueChange=!1;else{var options=this.options,value=this.el.val(),query=this.getQuery(value);this.selection&&this.currentValue!==query&&(this.selection=null,(options.onInvalidateSelection||$.noop).call(this.element)),clearTimeout(this.onChangeTimeout),this.currentValue=value,this.selectedIndex=-1,options.triggerSelectOnValidInput&&this.isExactMatch(query)?this.select(0):query.length<options.minChars?this.hide():this.getSuggestions(query)}},isExactMatch:function isExactMatch(query){var suggestions=this.suggestions;return 1===suggestions.length&&suggestions[0].value.toLowerCase()===query.toLowerCase()},getQuery:function getQuery(value){var parts,delimiter=this.options.delimiter;return delimiter?(parts=value.split(delimiter),$.trim(parts[parts.length-1])):value},getSuggestionsLocal:function getSuggestionsLocal(query){var data,options=this.options,queryLowerCase=query.toLowerCase(),filter=options.lookupFilter,limit=parseInt(options.lookupLimit,10);return data={suggestions:$.grep(options.lookup,function(suggestion){return filter(suggestion,query,queryLowerCase)})},limit&&data.suggestions.length>limit&&(data.suggestions=data.suggestions.slice(0,limit)),data},getSuggestions:function getSuggestions(q){var response,params,cacheKey,ajaxSettings,that=this,options=that.options,serviceUrl=options.serviceUrl;options.params[options.paramName]=q,!1!==options.onSearchStart.call(that.element,options.params)&&(params=options.ignoreParams?null:options.params,$.isFunction(options.lookup)?options.lookup(q,function(data){that.suggestions=data.suggestions,that.suggest(),options.onSearchComplete.call(that.element,q,data.suggestions)}):(that.isLocal?response=that.getSuggestionsLocal(q):($.isFunction(serviceUrl)&&(serviceUrl=serviceUrl.call(that.element,q)),cacheKey=serviceUrl+"?"+$.param(params||{}),response=that.cachedResponse[cacheKey]),response&&Array.isArray(response.suggestions)?(that.suggestions=response.suggestions,that.suggest(),options.onSearchComplete.call(that.element,q,response.suggestions)):that.isBadQuery(q)?options.onSearchComplete.call(that.element,q,[]):(that.abortAjax(),ajaxSettings={url:serviceUrl,data:params,type:options.type,dataType:options.dataType},$.extend(ajaxSettings,options.ajaxSettings),that.currentRequest=$.ajax(ajaxSettings).done(function(data){var result;that.currentRequest=null,result=options.transformResult(data,q),that.processResponse(result,q,cacheKey),options.onSearchComplete.call(that.element,q,result.suggestions)}).fail(function(jqXHR,textStatus,errorThrown){options.onSearchError.call(that.element,q,jqXHR,textStatus,errorThrown)}))))},isBadQuery:function isBadQuery(q){if(!this.options.preventBadQueries)return!1;for(var badQueries=this.badQueries,i=badQueries.length;i--;)if(0===q.indexOf(badQueries[i]))return!0;return!1},hide:function hide(){var container=$(this.suggestionsContainer);$.isFunction(this.options.onHide)&&this.visible&&this.options.onHide.call(this.element,container),this.visible=!1,this.selectedIndex=-1,clearTimeout(this.onChangeTimeout),$(this.suggestionsContainer).hide(),this.signalHint(null)},suggest:function suggest(){if(this.suggestions.length){var category,options=this.options,groupBy=options.groupBy,formatResult=options.formatResult,value=this.getQuery(this.currentValue),className=this.classes.suggestion,classSelected=this.classes.selected,container=$(this.suggestionsContainer),noSuggestionsContainer=$(this.noSuggestionsContainer),beforeRender=options.beforeRender,html="";options.triggerSelectOnValidInput&&this.isExactMatch(value)?this.select(0):($.each(this.suggestions,function(i,suggestion){groupBy&&(html+=function formatGroup(suggestion,index){var currentCategory=suggestion.data[groupBy];return category===currentCategory?"":(category=currentCategory,options.formatGroup(suggestion,category))}(suggestion,0)),html+='<div class="'+className+'" data-index="'+i+'">'+formatResult(suggestion,value,i)+"</div>"}),this.adjustContainerWidth(),noSuggestionsContainer.detach(),container.html(html),$.isFunction(beforeRender)&&beforeRender.call(this.element,container,this.suggestions),this.fixPosition(),container.show(),options.autoSelectFirst&&(this.selectedIndex=0,container.scrollTop(0),container.children("."+className).first().addClass(classSelected)),this.visible=!0,this.findBestHint())}else this.options.showNoSuggestionNotice?this.noSuggestions():this.hide()},noSuggestions:function noSuggestions(){var beforeRender=this.options.beforeRender,container=$(this.suggestionsContainer),noSuggestionsContainer=$(this.noSuggestionsContainer);this.adjustContainerWidth(),noSuggestionsContainer.detach(),container.empty(),container.append(noSuggestionsContainer),$.isFunction(beforeRender)&&beforeRender.call(this.element,container,this.suggestions),this.fixPosition(),container.show(),this.visible=!0},adjustContainerWidth:function adjustContainerWidth(){var width,options=this.options,container=$(this.suggestionsContainer);"auto"===options.width?(width=this.el.outerWidth(),container.css("width",width>0?width:300)):"flex"===options.width&&container.css("width","")},findBestHint:function findBestHint(){var value=this.el.val().toLowerCase(),bestMatch=null;value&&($.each(this.suggestions,function(i,suggestion){var foundMatch=0===suggestion.value.toLowerCase().indexOf(value);return foundMatch&&(bestMatch=suggestion),!foundMatch}),this.signalHint(bestMatch))},signalHint:function signalHint(suggestion){var hintValue="";suggestion&&(hintValue=this.currentValue+suggestion.value.substr(this.currentValue.length)),this.hintValue!==hintValue&&(this.hintValue=hintValue,this.hint=suggestion,(this.options.onHint||$.noop)(hintValue))},verifySuggestionsFormat:function verifySuggestionsFormat(suggestions){return suggestions.length&&"string"==typeof suggestions[0]?$.map(suggestions,function(value){return{value:value,data:null}}):suggestions},validateOrientation:function validateOrientation(orientation,fallback){return orientation=$.trim(orientation||"").toLowerCase(),-1===$.inArray(orientation,["auto","bottom","top"])&&(orientation=fallback),orientation},processResponse:function processResponse(result,originalQuery,cacheKey){var options=this.options;result.suggestions=this.verifySuggestionsFormat(result.suggestions),options.noCache||(this.cachedResponse[cacheKey]=result,options.preventBadQueries&&!result.suggestions.length&&this.badQueries.push(originalQuery)),originalQuery===this.getQuery(this.currentValue)&&(this.suggestions=result.suggestions,this.suggest())},activate:function activate(index){var activeItem,selected=this.classes.selected,container=$(this.suggestionsContainer),children=container.find("."+this.classes.suggestion);return container.find("."+selected).removeClass(selected),this.selectedIndex=index,-1!==this.selectedIndex&&children.length>this.selectedIndex?(activeItem=children.get(this.selectedIndex),$(activeItem).addClass(selected),activeItem):null},selectHint:function selectHint(){var i=$.inArray(this.hint,this.suggestions);this.select(i)},select:function select(i){this.hide(),this.onSelect(i)},moveUp:function moveUp(){if(-1!==this.selectedIndex)return 0===this.selectedIndex?($(this.suggestionsContainer).children().first().removeClass(this.classes.selected),this.selectedIndex=-1,this.ignoreValueChange=!1,this.el.val(this.currentValue),void this.findBestHint()):void this.adjustScroll(this.selectedIndex-1)},moveDown:function moveDown(){this.selectedIndex!==this.suggestions.length-1&&this.adjustScroll(this.selectedIndex+1)},adjustScroll:function adjustScroll(index){var activeItem=this.activate(index);if(activeItem){var offsetTop,upperBound,lowerBound,heightDelta=$(activeItem).outerHeight();offsetTop=activeItem.offsetTop,lowerBound=(upperBound=$(this.suggestionsContainer).scrollTop())+this.options.maxHeight-heightDelta,offsetTop<upperBound?$(this.suggestionsContainer).scrollTop(offsetTop):offsetTop>lowerBound&&$(this.suggestionsContainer).scrollTop(offsetTop-this.options.maxHeight+heightDelta),this.options.preserveInput||(this.ignoreValueChange=!0,this.el.val(this.getValue(this.suggestions[index].value))),this.signalHint(null)}},onSelect:function onSelect(index){var onSelectCallback=this.options.onSelect,suggestion=this.suggestions[index];this.currentValue=this.getValue(suggestion.value),this.currentValue===this.el.val()||this.options.preserveInput||this.el.val(this.currentValue),this.signalHint(null),this.suggestions=[],this.selection=suggestion,$.isFunction(onSelectCallback)&&onSelectCallback.call(this.element,suggestion)},getValue:function getValue(value){var currentValue,parts,delimiter=this.options.delimiter;return delimiter?1===(parts=(currentValue=this.currentValue).split(delimiter)).length?value:currentValue.substr(0,currentValue.length-parts[parts.length-1].length)+value:value},dispose:function dispose(){this.el.off(".selfcomplete").removeData("selfcomplete"),$(window).off("resize.selfcomplete",this.fixPositionCapture),$(this.suggestionsContainer).remove()}},$.fn.devbridgeSelfcomplete=function(options,args){return arguments.length?this.each(function(){var inputElement=$(this),instance=inputElement.data("selfcomplete");"string"==typeof options?instance&&"function"==typeof instance[options]&&instance[options](args):(instance&&instance.dispose&&instance.dispose(),instance=new Selfcomplete(this,options),inputElement.data("selfcomplete",instance))}):this.first().data("selfcomplete")},$.fn.selfcomplete||($.fn.selfcomplete=$.fn.devbridgeSelfcomplete)},"function"==typeof define&&define.amd?define(["jquery"],factory):"object"===(void 0===exports?"undefined":_typeof(exports))&&"function"==typeof require?factory(require("jquery")):factory(jQuery)},{jquery:395}],25:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var $=require("jquery"),Status=function(){function Status(gui){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Status),this.gui=gui}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Status,[{key:"bind",value:function bind(){var self=this;$("#parse-status").click(function(e){var gui=self.gui;gui.config.autoparsing=!gui.config.autoparsing,gui.config.autoparsing?self.gui.app.corpus.parse($("#text-data").val()):(self.gui.app.corpus.current.input=$("#text-data").val(),self.gui.app.corpus.format=null),gui.save(),gui.refresh()})}},{key:"refresh",value:function refresh(){var graphStatus,corpus=this.gui.app.corpus,graph=this.gui.app.graph,gui=this.gui;$("#parse-status").removeClass("red green").addClass(gui.config.autoparsing?"green":"red").text(gui.config.autoparsing?"on":"off"),graphStatus=corpus.isParsed?graph.eles.length?graph.cy.$(".splitting").length?"splitting node":graph.cy.$(".merge-source").length?"merging tokens":graph.cy.$(".combine-source").length?"forming multiword token":graph.editing?"editing "+graph.editing.data("name"):"viewing":"uninitialised":"blocked",$("#graph-status").removeClass("red green").addClass(corpus.isParsed?"green":"red").text(graphStatus)}},{key:"normal",value:function normal(message){var config=this.gui.config;if(config.is_browser){var div=$("<div>").addClass("status normal").text(message).fadeOut(config.statusNormalFadeout);$("#status-container .flowing").prepend(div),setTimeout(function(){return div.detach()},config.statusNormalFadeout)}}},{key:"error",value:function error(message){var config=this.gui.config;if(config.is_browser){var div=$("<div>").addClass("status error").text("Error: ".concat(message)).fadeOut(config.statusErrorFadeout);$("#status-container .flowing").prepend(div),setTimeout(function(){return div.detach()},config.statusErrorFadeout)}}}]),Status}();module.exports=Status},{jquery:395}],26:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var $=require("jquery"),utils=(require("underscore"),require("../utils")),Table=function(){function Table(gui){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Table),this.gui=gui,this.col=1,this.cols=10,this.row=0,this.rows=0}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Table,[{key:"toConllu",value:function toConllu(){for(var rows=[],i=0;i<=this.rows;i++){for(var row=[],j=0;j<10;j++)row.push($('[row-id="'.concat(i,'"][col-id="').concat(j,'"]')).text()||"_");rows.push(row.join("\t"))}return rows.join("\n")}},{key:"goRight",value:function goRight(wrap){if(this.col===this.cols-1){if(!wrap)return;this.col=0,this.row+=1,this.row>this.rows&&(this.row=0)}this.col+=1,$("#table-data .editing").blur(),$(".focused").removeClass("focused");$('[col-id="'.concat(this.col,'"][row-id="').concat(this.row,'"]')).addClass("focused").prop("contenteditable",!1).focus()}},{key:"goLeft",value:function goLeft(wrap){if(1===this.col){if(!wrap)return;this.col=this.cols,this.row-=1,this.row<0&&(this.row=this.rows)}this.col-=1,$("#table-data .editing").blur(),$(".focused").removeClass("focused");$('[col-id="'.concat(this.col,'"][row-id="').concat(this.row,'"]')).addClass("focused").prop("contenteditable",!1).focus()}},{key:"goUp",value:function goUp(){if(0!==this.row){this.row-=1,$("#table-data .editing").blur(),$(".focused").removeClass("focused");$('[col-id="'.concat(this.col,'"][row-id="').concat(this.row,'"]')).addClass("focused").prop("contenteditable",!1).focus()}}},{key:"goDown",value:function goDown(){if(this.row!==this.rows){this.row+=1,$("#table-data .editing").blur(),$(".focused").removeClass("focused");$('[col-id="'.concat(this.col,'"][row-id="').concat(this.row,'"]')).addClass("focused").prop("contenteditable",!1).focus()}}},{key:"toggleEditing",value:function toggleEditing(toggle){var td=$('[col-id="'.concat(this.col,'"][row-id="').concat(this.row,'"]')).toggleClass("editing",toggle);td.hasClass("editing")?td.prop("contenteditable",!0).focus():(td.blur(),$('[col-id="'.concat(this.col,'"][row-id="').concat(this.row,'"]')).addClass("focused").focus())}},{key:"bind",value:function bind(){var self=this;$("#table-data th").click(function(e){var target=$(e.target),col=target.attr("col-id"),columns=self.gui.config.column_visibilities;target.hasClass("hideable")&&(columns[col]=!columns[col],self.refresh())}),$("#table-data td").click(function(e){var target=$(e.target);self.row=parseInt(target.attr("row-id")),self.col=parseInt(target.attr("col-id")),$(".focused").removeClass("focused").blur(),target.addClass("focused"),self.toggleEditing(!0)}).blur(function(e){var target=$(e.target),uuid=target.attr("uuid"),originalValue=(self.gui.app.corpus.current.query(function(t){return t.uuid===uuid})[0],target.attr("field"),target.attr("original-value")||""),value=target.text()||"";target.prop("contenteditable",!1).removeClass("editing").removeClass("focused"),value!==originalValue&&self.gui.app.corpus.parse(self.toConllu())})}},{key:"refresh",value:function refresh(){$("#table-data th").removeClass("column-show column-hide").find(".fa").removeClass("fa-angle-double-left fa-angle-double-right"),this.gui.config.column_visibilities.forEach(function(vis,i){var column=$('#table-data [col-id="'.concat(i,'"]'));column.filter("th").addClass(vis?"column-show":"column-hide").find(".fa").addClass(vis?"fa-angle-double-left":"fa-angle-double-right"),column.filter("td").removeClass("column-show column-hide").addClass(vis?"column-show":"column-hide")})}},{key:"rebuild",value:function rebuild(){var _this=this;$("#table-data tbody").empty();var i=0;this.gui.app.corpus.current.iterate(function(token){var tr=$("<tr>").attr("tabindex","-1").attr("id","table_".concat(i));["id","form","lemma","upostag","xpostag","feats","head","deprel","deps","misc"].forEach(function(field,j){var value="id"===field?token.indices.conllu:"head"===field&&token.heads._items.length?token.heads._items[0].token.indices.conllu:"deprel"===field&&token.heads._items.length?token.heads._items[0].deprel:"deps"===field&&token.heads._items.length?function(){var val="";return token.mapHeads(function(head,i){0!=i&&(val+="|"),val+=head.token.indices.conllu+":"+head.deprel}),val}:token[field],td=$("<td>"),inputSpan=$("<span>").attr("name","input"),errorSpan=$("<span>").attr("name","error");"_"!==value&&(3===j&&utils.validate.is_upos(value),7===j&&utils.validate.is_udeprel(value));var visibilities=_this.gui.config.column_visibilities;td.addClass("conllu-table").attr("tabindex","-1").attr("row-id",i).attr("col-id",j).attr("num",10*i+j).attr("uuid",token.uuid).attr("field",field).attr("original-value",value).attr("name",0===j?"index":"content").css("visibility",visibilities[j]?"visible":"hidden"),inputSpan.text(value),tr.append(td.append(inputSpan).append(errorSpan))}),$("#table-data tbody").append(tr),_this.rows=i,i++}),this.refresh(),this.bind()}},{key:"editing",get:function get(){return $("#table-data .editing").length}}]),Table}();module.exports=Table},{"../utils":34,jquery:395,underscore:504}],27:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}require("underscore");var $=require("jquery"),config=require("./config"),nx=require("notatrix"),utils=require("../utils"),Textarea=function(){function Textarea(gui){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Textarea),this.gui=gui}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Textarea,[{key:"bind",value:function bind(){var self=this;$("#text-data").mouseup(function(e){config.textarea_height=$(e.target).css("height"),self.gui.app.graph.draw(),self.gui.save()})}},{key:"refresh",value:function refresh(){var corpus=this.gui.app.corpus;config.is_textarea_visible&&("CoNLL-U"!==corpus.format&&(config.is_table_visible=!1),config.is_table_visible?($("#table-data").show(),$("#text-data").hide(),this.gui.table.rebuild()):($("#table-data").hide(),$("#text-data").val(corpus.textdata).css("height",config.textarea_height).show())),$(".format-tab").removeClass("disabled").find(".tab-warning, .tab-error").hide(),utils.forEachFormat(function(format){if(corpus.current.isParsed)if(corpus.format===format){var loss=corpus.current.to(format).loss;loss.length&&$('.format-tab[name="'.concat(format,'"] .tab-warning')).show().attr("title","Unable to encode ".concat(loss.join(", ")))}else try{corpus.current.to(format)}catch(e){$('.format-tab[name="'.concat(format,'"]')).addClass("disabled").find(".tab-error").show().attr("title",e.message)}else{var s=new nx.Sentence(corpus.textdata,{interpretAs:format});s.Error&&$('.format-tab[name="'.concat(format,'"]')).addClass("disabled").find(".tab-error").show().attr("title",s.Error.message)}})}}]),Textarea}();module.exports=Textarea},{"../utils":34,"./config":13,jquery:395,notatrix:463,underscore:504}],28:[function(require,module,exports){"use strict";require("babel-polyfill");var $=require("jquery"),App=require("./app");$(function(){window.app=new App("file:"!==location.protocol)})},{"./app":1,"babel-polyfill":39,jquery:395}],29:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var $=require("jquery"),utils=(require("underscore"),require("./utils")),Server=function(){function Server(app){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Server),this.app=app,this.is_running=!1,this.treebank_id=utils.getTreebankId()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Server,[{key:"connect",value:function connect(){var _this=this;try{$.ajax({type:"GET",url:"/running",success:function success(data){_this.is_running=!0,_this.app.gui.status.normal("connected to server"),_this.load()},error:function error(data){_this.app.gui.status.error("unable to connect to server");var serial=utils.storage.load();serial&&_this.app.load(serial)}})}catch(e){this.app.gui.status.error("unable to connect to server");var serial=utils.storage.load();serial&&this.app.load(serial)}}},{key:"save",value:function save(serial){var _this2=this;if(!this.is_running)return null;try{serial=JSON.stringify(serial),$.ajax({type:"POST",url:"/save?treebank_id=".concat(this.treebank_id),contentType:"application/json; charset=utf-8",data:serial,dataType:"json",success:function success(data){data.error&&_this2.app.gui.status.error("unable to save to server")},error:function error(data){_this2.app.gui.status.error("unable to save to server")}})}catch(e){this.app.gui.status.error("unable to save to server")}}},{key:"load",value:function load(){var _this3=this;if(!this.is_running)return null;try{$.ajax({type:"GET",url:"/load?treebank_id=".concat(this.treebank_id),success:function success(data,textStatus,request){if(data.error){_this3.app.gui.status.error("unable to load from server");var serial=utils.storage.load();serial&&_this3.app.load(serial)}else _this3.app.load(data),_this3.app.git=request.getResponseHeader("git"),_this3.app.gui.menu.refresh()},error:function error(data){_this3.app.gui.status.error("unable to load from server");var serial=utils.storage.load();serial&&_this3.app.load(serial)}})}catch(e){this.app.gui.status.error("unable to load from server");var serial=utils.storage.load();serial&&this.app.load(serial)}}}]),Server}();module.exports=Server},{"./utils":34,jquery:395,underscore:504}],30:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}require("underscore");var utils=require("./utils"),_Socket=require("socket.io-client"),Socket=function(){function Socket(app){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Socket),this.app=app,this._socket=null,this.initialized=!1,this.isOpen=!1}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Socket,[{key:"connect",value:function connect(){var _this=this;if(utils.check_if_browser()&&this.app.online){var collab=this.app.collab,corpus=this.app.corpus,graph=this.app.graph,gui=this.app.gui;this._socket=new _Socket,this._socket.on("initialization",function(data){_this.initialized=!0,_this.isOpen=!0,collab.setSelf(data)}),this._socket.on("connection",function(d){return collab.addUser(d)}),this._socket.on("disconnection",function(d){return collab.removeUser(d)}),this._socket.on("modify corpus",function(data){var user=collab.getUser(data.id),index=corpus.index;switch(data.type){case"insert":data.indices[0]<=index&&index++;break;case"remove":data.indices[0]<index&&index--;break;case"redo":case"undo":index=data.serial.index;break;case"set":break;case"parse":data.indices[0]<index&&(index+=data.indices.length-1)}gui.chat.alert("%u: '".concat(data.type,"' index ").concat(data.indices[0]),[user]),_this.app.undoer.push(data.serial),_this.app.load(data.serial),_this.app.corpus.index=index}),this._socket.on("modify index",function(data){var user=collab.getUser(data.id);user.viewing=data.index,gui.chat.updateUser(user)}),this._socket.on("lock graph",function(data){collab.getUser(data.id).locked=data.locked,graph.setLocks()}),this._socket.on("unlock graph",function(data){collab.getUser(data.id).locked=data.locked,graph.setLocks()}),this._socket.on("move mouse",function(data){collab.getUser(data.id).mouse=data.mouse,graph.drawMice()}),this._socket.on("new message",function(data){var user=collab.getUser(data.id);gui.chat.newMessage(user,data.message,!1)})}}},{key:"broadcast",value:function broadcast(name,data){this._socket.emit(name,data)}}]),Socket}();module.exports=Socket},{"./utils":34,"socket.io-client":489,underscore:504}],31:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var Corpus=require("./corpus"),utils=require("./utils"),Stack=function(){function Stack(){_classCallCheck(this,Stack),this._items=[]}return _createClass(Stack,[{key:"push",value:function push(item){this._items.push(item)}},{key:"pop",value:function pop(){return this._items.pop()}},{key:"peek",value:function peek(){return this._items.slice(-1)[0]}},{key:"clear",value:function clear(){this._items=[]}},{key:"length",get:function get(){return this._items.length}}]),Stack}(),UndoManager=function(){function UndoManager(app){_classCallCheck(this,UndoManager),this.app=app,this.active=!1,this.current=null,this.reset()}return _createClass(UndoManager,[{key:"reset",value:function reset(){this.undoStack=new Stack,this.redoStack=new Stack}},{key:"hasUndo",value:function hasUndo(){return!!this.undoStack.length}},{key:"hasRedo",value:function hasRedo(){return!!this.redoStack.length}},{key:"push",value:function push(serial){return!this.active&&(utils.storage.backup(serial),this.undoStack.push(this.current),this.redoStack.clear(),this.current=serial,!0)}},{key:"undo",value:function undo(){if(!this.hasUndo())return!1;this.active=!0;var current=this.app.corpus.serialize();this.redoStack.push(this.current),this.current=current;var undo=this.undoStack.pop();return this.app.corpus=new Corpus(this.app,undo),this.app.socket.broadcast("modify corpus",{type:"undo",serial:undo}),this.app.save(),this.app.gui.refresh(),this.active=!1,!0}},{key:"redo",value:function redo(){if(!this.hasRedo())return!1;this.active=!0;var current=this.app.corpus.serialize();this.undoStack.push(this.current),this.current=current;var redo=this.redoStack.pop();return this.app.corpus=new Corpus(this.app,redo),this.app.socket.broadcast("modify corpus",{type:"redo",serial:redo}),this.app.save(),this.app.gui.refresh(),this.active=!1,!0}}]),UndoManager}();module.exports=UndoManager},{"./corpus":5,"./utils":34}],32:[function(require,module,exports){"use strict";require("underscore");var $=require("jquery"),C2S=require("canvas2svg"),funcs=require("./funcs");module.exports={latex:function latex(app){if(app.graph.length){var tokensLine="",posLine="",deprelLines=[];app.graph.eles.forEach(function(node){if("form"===node.data.name){if(void 0===node.data.token.upostag)return"error";tokensLine+=" \\& ".concat(node.data.label),posLine+="\\&{\\tt ".concat(node.data.token.upostag,"}")}if("dependency"===node.data.name){if(void 0===node.data.label)return"error";var source=node.data.sourceToken.indices.cytoscape,target=node.data.targetToken.indices.cytoscape,label=node.data.deprel||"_";deprelLines.push("depedge{".concat(source,"}{").concat(target,"}{").concat(label,"}"))}}),tokensLine="".concat(tokensLine.replace("\\&","")," \\\\"),posLine="".concat(posLine.replace("\\&","")," \\\\");var latex=["\\begin{dependency}","  \\begin{deptext}[column sep=0.4cm]","    ".concat(tokensLine),"    ".concat(posLine),"  \\end{deptext}"].concat(deprelLines.map(function(line){return"  \\".concat(line)}),"\\end{dependency} \\\\").join("\n");return funcs.download("".concat(app.corpus.filename,".tex"),"application/x-latex",latex),latex}},png:function png(app){if(app.graph.length){var link=$("<a>").attr("download","".concat(app.corpus.filename,".png")).attr("href",app.graph.cy.png());$("body").append(link),link[0].click()}},svg:function svg(app){if(app.graph.cy){var ctx=new C2S(app.graph.cy.width(),app.graph.cy.height());app.graph.cy.renderer().renderTo(ctx),funcs.download("".concat(app.corpus.filename,".svg"),"image/svg+xml",ctx.getSerializedSvg())}}}},{"./funcs":33,canvas2svg:48,jquery:395,underscore:504}],33:[function(require,module,exports){"use strict";var _=require("underscore"),$=require("jquery"),uuidv4=require("uuid/v4");function check_if_browser(){try{return!!window}catch(e){return!1}}module.exports={check_if_browser:check_if_browser,download:function download(filename,mimetype,uriComponent){var link=$("<a>").attr("download",filename).attr("href","data:".concat(mimetype,"; charset=utf-8,").concat(encodeURIComponent(uriComponent)));return $("body").append(link),link[0].click(),!0},getTreebankId:function getTreebankId(){if(!check_if_browser())return null;var match=location.href.match(/treebank_id=([0-9a-f-]{36})(#|\/|$|&)/);return match?match[1]:uuidv4()},getRootPath:function getRootPath(){var pageURL=window.location.href;return pageURL.substr(0,pageURL.lastIndexOf("/")+1)},link:function link(href){var target=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank",link=$("<a>").attr("href",href).attr("target",target);$("body").append(link),link[0].click()},noop:function noop(arg){return arg},thin:function thin(arg){return arg||void 0},getPresentUsers:function getPresentUsers(room){return Object.keys(room.users).length},dedup:function dedup(master,slave){var dedup={};return _.each(slave,function(value,key){master[key]!==value&&(dedup[key]=value)}),dedup},forEachFormat:function forEachFormat(callback){["Brackets","CG3","CoNLL-U","plain text","SD"].forEach(callback)}}},{jquery:395,underscore:504,"uuid/v4":507}],34:[function(require,module,exports){"use strict";var _=require("underscore"),funcs=require("./funcs");module.exports=_.extend(funcs,{export:require("./export"),storage:require("./local-storage"),validate:require("./validate")})},{"./export":32,"./funcs":33,"./local-storage":35,"./validate":36,underscore:504}],35:[function(require,module,exports){"use strict";var funcs=require("./funcs"),KEY="__ud_annotatrix_prefs_";function isAvailable(){try{localStorage}catch(e){return!1}try{var x="__storage_test__";return localStorage.setItem(x,x),localStorage.removeItem(x),!0}catch(e){return e instanceof DOMException&&(1014===e.code||22===e.code||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||"QuotaExceededError"===e.name)&&0!==localStorage.length}}module.exports={isAvailable:isAvailable,getAvailableSpace:function getAvailableSpace(){if(!isAvailable())return 0;var testKey="size-test-".concat(Math.random().toString()),i=64,string1024="",string="",found=0;if(localStorage){for(error=error||25e4;i--;)string1024+=1e16;for(i=10240;i--;)string+=string1024;for(i=10485760;i>1;)try{if(localStorage.setItem(testKey,string.substr(0,i)),localStorage.removeItem(testKey),!(found<i-error))break;found=i,i*=1.5}catch(e){localStorage.removeItem(testKey),i=found+(i-found)/2}}return found},save:function save(value){return isAvailable()?(value=JSON.stringify(value),localStorage.setItem(funcs.getTreebankId(),value)):null},load:function load(){if(!isAvailable())return null;var serial=localStorage.getItem(funcs.getTreebankId());return JSON.parse(serial)},backup:function backup(value){return isAvailable()?(value=JSON.stringify(value),localStorage.setItem(KEY+"backup",value)):null},restore:function restore(){if(!isAvailable())return null;var serial=localStorage.getItem(KEY+"backup");return JSON.parse(serial)},clear:function clear(){return isAvailable()?localStorage.removeItem(funcs.getTreebankId()):null},getPrefs:function getPrefs(item){return isAvailable()&&item?localStorage.getItem(KEY+item):null},setPrefs:function setPrefs(item,prefs){return isAvailable()&&item?localStorage.setItem(KEY+item,prefs):null}}},{"./funcs":33}],36:[function(require,module,exports){"use strict";require("jquery"),require("underscore");var U_DEPRELS=["acl","advcl","advmod","amod","appos","aux","case","cc","ccomp","clf","compound","conj","cop","csubj","dep","det","discourse","dislocated","expl","fixed","flat","goeswith","iobj","list","mark","nmod","nsubj","nummod","obj","obl","orphan","parataxis","punct","reparandum","root","vocative","xcomp"],U_POS=["ADJ","ADP","ADV","AUX","CCONJ","DET","INTJ","NOUN","NUM","PART","PRON","PROPN","PUNCT","SCONJ","SYM","VERB","X"],U_POS_LEAF=["AUX","CCONJ","PART","PUNCT","SCONJ"];function is_upos(s){s=(s||"").toUpperCase();var is_upos=!1;return U_POS.forEach(function(u_pos){s===u_pos&&(is_upos=!0)}),is_upos}function is_udeprel(s){s=(s||"").split(":")[0].toLowerCase();var is_deprel=!1;return U_DEPRELS.forEach(function(u_deprel){s.toLowerCase()===u_deprel&&(is_deprel=!0)}),is_deprel}module.exports={U_DEPRELS:U_DEPRELS,U_POS:U_POS,depEdgeClasses:function depEdgeClasses(sent,token,head){var classes=new Set(["dependency"]);return function is_leaf(s,t){function is_upos_leaf(pos){var is_leaf=!1;return U_POS_LEAF.forEach(function(upos){upos===pos&&(is_leaf=!0)}),is_leaf}return is_upos_leaf(t.upostag||t.xpostag)&&is_upos_leaf(s.upostag||s.xpostag)}(head.token,token)&&classes.add("error"),function is_cycle(sent,src,tar){var seen=new Set;return function is_cycle_util(sent,src,tar){seen.add(src);var is_cycle=!1;return src.mapHeads(function(head,i){i&&!sent.options.enhanced||(is_cycle=head.token===tar||!seen.has(head.token)&&is_cycle_util(sent,head.token,tar))}),is_cycle}(sent,src,tar)}(sent,head.token,token)&&classes.add("error"),head.deprel&&"_"!==head.deprel?is_udeprel(head.deprel)||classes.add("error"):classes.add("incomplete"),Array.from(classes).join(" ")},posNodeClasses:function posNodeClasses(pos){return is_upos(pos)?"pos":"pos error"},is_upos:is_upos,is_udeprel:is_udeprel,attrValue:function attrValue(attr,value){return value}}},{jquery:395,underscore:504}],37:[function(require,module,exports){function noop(){}module.exports=function after(count,callback,err_cb){var bail=!1;return err_cb=err_cb||noop,proxy.count=count,0===count?callback():proxy;function proxy(err,result){if(proxy.count<=0)throw new Error("after called too many times");--proxy.count,err?(bail=!0,callback(err),callback=err_cb):0!==proxy.count||bail||callback(null,result)}}},{}],38:[function(require,module,exports){module.exports=function(arraybuffer,start,end){var bytes=arraybuffer.byteLength;if(start=start||0,end=end||bytes,arraybuffer.slice)return arraybuffer.slice(start,end);if(start<0&&(start+=bytes),end<0&&(end+=bytes),end>bytes&&(end=bytes),start>=bytes||start>=end||0===bytes)return new ArrayBuffer(0);for(var abv=new Uint8Array(arraybuffer),result=new Uint8Array(end-start),i=start,ii=0;i<end;i++,ii++)result[ii]=abv[i];return result.buffer}},{}],39:[function(require,module,exports){(function(global){"use strict";if(require("core-js/shim"),require("regenerator-runtime/runtime"),require("core-js/fn/regexp/escape"),global._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");global._babelPolyfill=!0;var DEFINE_PROPERTY="defineProperty";function define(O,key,value){O[key]||Object[DEFINE_PROPERTY](O,key,{writable:!0,configurable:!0,value:value})}define(String.prototype,"padLeft","".padStart),define(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(key){[][key]&&define(Array,key,Function.call.bind([][key]))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"core-js/fn/regexp/escape":52,"core-js/shim":375,"regenerator-runtime/runtime":40}],40:[function(require,module,exports){(function(global){!function(global){"use strict";var undefined,Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag",inModule="object"==typeof module,runtime=global.regeneratorRuntime;if(runtime)inModule&&(module.exports=runtime);else{(runtime=global.regeneratorRuntime=inModule?module.exports:{}).wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={},IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",runtime.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},runtime.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},runtime.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this},runtime.AsyncIterator=AsyncIterator,runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),Gp[toStringTagSymbol]="Generator",Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},runtime.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},runtime.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel}}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function invoke(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?GenStateCompleted:GenStateSuspendedYield,record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state=GenStateCompleted,context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}function AsyncIterator(generator){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?Promise.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):Promise.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},reject)}reject(record.arg)}var previousPromise;"object"==typeof global.process&&global.process.domain&&(invoke=global.process.domain.bind(invoke)),this._invoke=function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){invoke(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}}("object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],41:[function(require,module,exports){function Backoff(opts){opts=opts||{},this.ms=opts.min||100,this.max=opts.max||1e4,this.factor=opts.factor||2,this.jitter=opts.jitter>0&&opts.jitter<=1?opts.jitter:0,this.attempts=0}module.exports=Backoff,Backoff.prototype.duration=function(){var ms=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var rand=Math.random(),deviation=Math.floor(rand*this.jitter*ms);ms=0==(1&Math.floor(10*rand))?ms-deviation:ms+deviation}return 0|Math.min(ms,this.max)},Backoff.prototype.reset=function(){this.attempts=0},Backoff.prototype.setMin=function(min){this.ms=min},Backoff.prototype.setMax=function(max){this.max=max},Backoff.prototype.setJitter=function(jitter){this.jitter=jitter}},{}],42:[function(require,module,exports){!function(){"use strict";for(var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256),i=0;i<chars.length;i++)lookup[chars.charCodeAt(i)]=i;exports.encode=function(arraybuffer){var i,bytes=new Uint8Array(arraybuffer),len=bytes.length,base64="";for(i=0;i<len;i+=3)base64+=chars[bytes[i]>>2],base64+=chars[(3&bytes[i])<<4|bytes[i+1]>>4],base64+=chars[(15&bytes[i+1])<<2|bytes[i+2]>>6],base64+=chars[63&bytes[i+2]];return len%3==2?base64=base64.substring(0,base64.length-1)+"=":len%3==1&&(base64=base64.substring(0,base64.length-2)+"=="),base64},exports.decode=function(base64){var i,encoded1,encoded2,encoded3,encoded4,bufferLength=.75*base64.length,len=base64.length,p=0;"="===base64[base64.length-1]&&(bufferLength--,"="===base64[base64.length-2]&&bufferLength--);var arraybuffer=new ArrayBuffer(bufferLength),bytes=new Uint8Array(arraybuffer);for(i=0;i<len;i+=4)encoded1=lookup[base64.charCodeAt(i)],encoded2=lookup[base64.charCodeAt(i+1)],encoded3=lookup[base64.charCodeAt(i+2)],encoded4=lookup[base64.charCodeAt(i+3)],bytes[p++]=encoded1<<2|encoded2>>4,bytes[p++]=(15&encoded2)<<4|encoded3>>2,bytes[p++]=(3&encoded3)<<6|63&encoded4;return arraybuffer}}()},{}],43:[function(require,module,exports){"use strict";exports.byteLength=function byteLength(b64){var lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1];return 3*(validLen+placeHoldersLen)/4-placeHoldersLen},exports.toByteArray=function toByteArray(b64){for(var tmp,lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1],arr=new Arr(function _byteLength(b64,validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}(0,validLen,placeHoldersLen)),curByte=0,len=placeHoldersLen>0?validLen-4:validLen,i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=tmp>>16&255,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp;2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp);1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp);return arr},exports.fromByteArray=function fromByteArray(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));1===extraBytes?(tmp=uint8[len-1],parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"="));return parts.join("")};for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var validLen=b64.indexOf("=");return-1===validLen&&(validLen=len),[validLen,validLen===len?0:4-validLen%4]}function encodeChunk(uint8,start,end){for(var tmp,num,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(255&uint8[i+2]),output.push(lookup[(num=tmp)>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]);return output.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},{}],44:[function(require,module,exports){var BlobBuilder=void 0!==BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,blobSupported=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),blobSupportsArrayBufferView=blobSupported&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),blobBuilderSupported=BlobBuilder&&BlobBuilder.prototype.append&&BlobBuilder.prototype.getBlob;function mapArrayBufferViews(ary){return ary.map(function(chunk){if(chunk.buffer instanceof ArrayBuffer){var buf=chunk.buffer;if(chunk.byteLength!==buf.byteLength){var copy=new Uint8Array(chunk.byteLength);copy.set(new Uint8Array(buf,chunk.byteOffset,chunk.byteLength)),buf=copy.buffer}return buf}return chunk})}function BlobBuilderConstructor(ary,options){options=options||{};var bb=new BlobBuilder;return mapArrayBufferViews(ary).forEach(function(part){bb.append(part)}),options.type?bb.getBlob(options.type):bb.getBlob()}function BlobConstructor(ary,options){return new Blob(mapArrayBufferViews(ary),options||{})}"undefined"!=typeof Blob&&(BlobBuilderConstructor.prototype=Blob.prototype,BlobConstructor.prototype=Blob.prototype),module.exports=blobSupported?blobSupportsArrayBufferView?Blob:BlobConstructor:blobBuilderSupported?BlobBuilderConstructor:void 0},{}],45:[function(require,module,exports){},{}],46:[function(require,module,exports){arguments[4][45][0].apply(exports,arguments)},{dup:45}],47:[function(require,module,exports){(function(Buffer){"use strict";var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=function SlowBuffer(length){+length!=length&&(length=0);return Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;function createBuffer(length){if(length>K_MAX_LENGTH)throw new RangeError('The value "'+length+'" is invalid for option "size"');var buf=new Uint8Array(length);return buf.__proto__=Buffer.prototype,buf}function Buffer(arg,encodingOrOffset,length){if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(arg)}return from(arg,encodingOrOffset,length)}function from(value,encodingOrOffset,length){if("string"==typeof value)return function fromString(string,encoding){"string"==typeof encoding&&""!==encoding||(encoding="utf8");if(!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding);var length=0|byteLength(string,encoding),buf=createBuffer(length),actual=buf.write(string,encoding);actual!==length&&(buf=buf.slice(0,actual));return buf}(value,encodingOrOffset);if(ArrayBuffer.isView(value))return fromArrayLike(value);if(null==value)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value);if(isInstance(value,ArrayBuffer)||value&&isInstance(value.buffer,ArrayBuffer))return function fromArrayBuffer(array,byteOffset,length){if(byteOffset<0||array.byteLength<byteOffset)throw new RangeError('"offset" is outside of buffer bounds');if(array.byteLength<byteOffset+(length||0))throw new RangeError('"length" is outside of buffer bounds');var buf;buf=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length);return buf.__proto__=Buffer.prototype,buf}(value,encodingOrOffset,length);if("number"==typeof value)throw new TypeError('The "value" argument must not be of type number. Received type number');var valueOf=value.valueOf&&value.valueOf();if(null!=valueOf&&valueOf!==value)return Buffer.from(valueOf,encodingOrOffset,length);var b=function fromObject(obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length),buf=createBuffer(len);return 0===buf.length?buf:(obj.copy(buf,0,0,len),buf)}if(void 0!==obj.length)return"number"!=typeof obj.length||numberIsNaN(obj.length)?createBuffer(0):fromArrayLike(obj);if("Buffer"===obj.type&&Array.isArray(obj.data))return fromArrayLike(obj.data)}(value);if(b)return b;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof value[Symbol.toPrimitive])return Buffer.from(value[Symbol.toPrimitive]("string"),encodingOrOffset,length);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be of type number');if(size<0)throw new RangeError('The value "'+size+'" is invalid for option "size"')}function allocUnsafe(size){return assertSize(size),createBuffer(size<0?0:0|checked(size))}function fromArrayLike(array){for(var length=array.length<0?0:0|checked(array.length),buf=createBuffer(length),i=0;i<length;i+=1)buf[i]=255&array[i];return buf}function checked(length){if(length>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if(ArrayBuffer.isView(string)||isInstance(string,ArrayBuffer))return string.byteLength;if("string"!=typeof string)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof string);var len=string.length,mustMatch=arguments.length>2&&!0===arguments[2];if(!mustMatch&&0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return mustMatch?-1:utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),numberIsNaN(byteOffset=+byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var i,indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var strLen=string.length;length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(numberIsNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var secondByte,thirdByte,fourthByte,tempCodePoint,firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end)switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:128==(192&(secondByte=buf[i+1]))&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);var res="",i=0;for(;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}(res)}exports.kMaxLength=K_MAX_LENGTH,Buffer.TYPED_ARRAY_SUPPORT=function typedArraySupport(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()}catch(e){return!1}}(),!Buffer.TYPED_ARRAY_SUPPORT&&"undefined"!=typeof console&&console.error,Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=function(value,encodingOrOffset,length){return from(value,encodingOrOffset,length)},Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(size,fill,encoding){return function alloc(size,fill,encoding){return assertSize(size),size<=0?createBuffer(size):void 0!==fill?"string"==typeof encoding?createBuffer(size).fill(fill,encoding):createBuffer(size).fill(fill):createBuffer(size)}(size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(size)},Buffer.isBuffer=function isBuffer(b){return null!=b&&!0===b._isBuffer&&b!==Buffer.prototype},Buffer.compare=function compare(a,b){if(isInstance(a,Uint8Array)&&(a=Buffer.from(a,a.offset,a.byteLength)),isInstance(b,Uint8Array)&&(b=Buffer.from(b,b.offset,b.byteLength)),!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(list,length){if(!Array.isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(isInstance(buf,Uint8Array)&&(buf=Buffer.from(buf)),!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var len=this.length;if(len%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function swap32(){var len=this.length;if(len%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function swap64(){var len=this.length;if(len%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function toString(){var length=this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if((end>>>=0)<=(start>>>=0))return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function inspect(){var str="",max=exports.INSPECT_MAX_BYTES;return str=this.toString("hex",0,max).replace(/(.{2})/g,"$1 ").trim(),this.length>max&&(str+=" ... "),"<Buffer "+str+">"},Buffer.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(isInstance(target,Uint8Array)&&(target=Buffer.from(target,target.offset,target.byteLength)),!Buffer.isBuffer(target))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof target);if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(this===target)return 0;for(var x=(thisEnd>>>=0)-(thisStart>>>=0),y=(end>>>=0)-(start>>>=0),len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function includes(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function indexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function write(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset>>>=0,isFinite(length)?(length>>>=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,0,offset,4),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,0,offset,8),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}Buffer.prototype.slice=function slice(start,end){var len=this.length;(start=~~start)<0?(start+=len)<0&&(start=0):start>len&&(start=len),(end=void 0===end?len:~~end)<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start);var newBuf=this.subarray(start,end);return newBuf.__proto__=Buffer.prototype,newBuf},Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function readInt8(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){offset>>>=0,noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){offset>>>=0,noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){(value=+value,offset>>>=0,byteLength>>>=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){(value=+value,offset>>>=0,byteLength>>>=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,255,0),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value,offset+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,127,-128),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24,offset+4},Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!Buffer.isBuffer(target))throw new TypeError("argument should be a Buffer");if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("Index out of range");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var len=end-start;if(this===target&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(targetStart,start,end);else if(this===target&&start<targetStart&&targetStart<end)for(var i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,end),targetStart);return len},Buffer.prototype.fill=function fill(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding);if(1===val.length){var code=val.charCodeAt(0);("utf8"===encoding&&code<128||"latin1"===encoding)&&(val=code)}}else"number"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;var i;if(start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0),"number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:Buffer.from(val,encoding),len=bytes.length;if(0===len)throw new TypeError('The value "'+val+'" is invalid for argument "value"');for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){var codePoint;units=units||1/0;for(var length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function base64ToBytes(str){return base64.toByteArray(function base64clean(str){if((str=(str=str.split("=")[0]).trim().replace(INVALID_BASE64_RE,"")).length<2)return"";for(;str.length%4!=0;)str+="=";return str}(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isInstance(obj,type){return obj instanceof type||null!=obj&&null!=obj.constructor&&null!=obj.constructor.name&&obj.constructor.name===type.name}function numberIsNaN(obj){return obj!=obj}}).call(this,require("buffer").Buffer)},{"base64-js":43,buffer:47,ieee754:393}],48:[function(require,module,exports){!function(){"use strict";var STYLES,ctx,CanvasGradient,CanvasPattern,namedEntities;function format(str,args){var i,keys=Object.keys(args);for(i=0;i<keys.length;i++)str=str.replace(new RegExp("\\{"+keys[i]+"\\}","gi"),args[keys[i]]);return str}function randomString(holder){var chars,randomstring,i;if(!holder)throw new Error("cannot create a random attribute name for an undefined object");chars="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",randomstring="";do{for(randomstring="",i=0;i<12;i++)randomstring+=chars[Math.floor(Math.random()*chars.length)]}while(holder[randomstring]);return randomstring}function getDominantBaseline(textBaseline){var mapping={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return mapping[textBaseline]||mapping.alphabetic}namedEntities=function createNamedToNumberedLookup(items,radix){var i,entity,base10,lookup={};for(items=items.split(","),radix=radix||10,i=0;i<items.length;i+=2)entity="&"+items[i+1]+";",base10=parseInt(items[i],radix),lookup[entity]="&#"+base10+";";return lookup["\\xa0"]="&#160;",lookup}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),STYLES={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"}},(CanvasGradient=function(gradientNode,ctx){this.__root=gradientNode,this.__ctx=ctx}).prototype.addColorStop=function(offset,color){var matches,stop=this.__ctx.__createElement("stop");stop.setAttribute("offset",offset),-1!==color.indexOf("rgba")?(matches=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(color),stop.setAttribute("stop-color",format("rgb({r},{g},{b})",{r:matches[1],g:matches[2],b:matches[3]})),stop.setAttribute("stop-opacity",matches[4])):stop.setAttribute("stop-color",color),this.__root.appendChild(stop)},CanvasPattern=function(pattern,ctx){this.__root=pattern,this.__ctx=ctx},(ctx=function(o){var options,defaultOptions={width:500,height:500,enableMirroring:!1};if(arguments.length>1?((options=defaultOptions).width=arguments[0],options.height=arguments[1]):options=o||defaultOptions,!(this instanceof ctx))return new ctx(options);this.width=options.width||defaultOptions.width,this.height=options.height||defaultOptions.height,this.enableMirroring=void 0!==options.enableMirroring?options.enableMirroring:defaultOptions.enableMirroring,this.canvas=this,this.__document=options.document||document,this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d"),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)}).prototype.__createElement=function(elementName,properties,resetFill){void 0===properties&&(properties={});var i,key,element=this.__document.createElementNS("http://www.w3.org/2000/svg",elementName),keys=Object.keys(properties);for(resetFill&&(element.setAttribute("fill","none"),element.setAttribute("stroke","none")),i=0;i<keys.length;i++)key=keys[i],element.setAttribute(key,properties[key]);return element},ctx.prototype.__setDefaultStyles=function(){var i,key,keys=Object.keys(STYLES);for(i=0;i<keys.length;i++)this[key=keys[i]]=STYLES[key].canvas},ctx.prototype.__applyStyleState=function(styleState){var i,key,keys=Object.keys(styleState);for(i=0;i<keys.length;i++)this[key=keys[i]]=styleState[key]},ctx.prototype.__getStyleState=function(){var i,key,styleState={},keys=Object.keys(STYLES);for(i=0;i<keys.length;i++)styleState[key=keys[i]]=this[key];return styleState},ctx.prototype.__applyStyleToCurrentElement=function(type){var i,style,value,id,matches,keys=Object.keys(STYLES);for(i=0;i<keys.length;i++)if(style=STYLES[keys[i]],value=this[keys[i]],style.apply)if(-1!==style.apply.indexOf("fill")&&value instanceof CanvasPattern){if(value.__ctx)for(;value.__ctx.__defs.childNodes.length;)id=value.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[id]=id,this.__defs.appendChild(value.__ctx.__defs.childNodes[0]);this.__currentElement.setAttribute("fill",format("url(#{id})",{id:value.__root.getAttribute("id")}))}else-1!==style.apply.indexOf("fill")&&value instanceof CanvasGradient?this.__currentElement.setAttribute("fill",format("url(#{id})",{id:value.__root.getAttribute("id")})):-1!==style.apply.indexOf(type)&&style.svg!==value&&("stroke"!==style.svgAttr&&"fill"!==style.svgAttr||-1===value.indexOf("rgba")?this.__currentElement.setAttribute(style.svgAttr,value):(matches=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(value),this.__currentElement.setAttribute(style.svgAttr,format("rgb({r},{g},{b})",{r:matches[1],g:matches[2],b:matches[3]})),this.__currentElement.setAttribute(style.svgAttr+"-opacity",matches[4])))},ctx.prototype.__closestGroupOrSvg=function(node){return"g"===(node=node||this.__currentElement).nodeName||"svg"===node.nodeName?node:this.__closestGroupOrSvg(node.parentNode)},ctx.prototype.getSerializedSvg=function(fixNamedEntities){var keys,i,key,value,regexp,serialized=(new XMLSerializer).serializeToString(this.__root);if(/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi.test(serialized)&&(serialized=serialized.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),fixNamedEntities)for(keys=Object.keys(namedEntities),i=0;i<keys.length;i++)key=keys[i],value=namedEntities[key],(regexp=new RegExp(key,"gi")).test(serialized)&&(serialized=serialized.replace(regexp,value));return serialized},ctx.prototype.getSvg=function(){return this.__root},ctx.prototype.save=function(){var group=this.__createElement("g"),parent=this.__closestGroupOrSvg();this.__groupStack.push(parent),parent.appendChild(group),this.__currentElement=group,this.__stack.push(this.__getStyleState())},ctx.prototype.restore=function(){this.__currentElement=this.__groupStack.pop();var state=this.__stack.pop();this.__applyStyleState(state)},ctx.prototype.__addTransform=function(t){var parent=this.__closestGroupOrSvg();if(parent.childNodes.length>0){var group=this.__createElement("g");parent.appendChild(group),this.__currentElement=group}var transform=this.__currentElement.getAttribute("transform");transform?transform+=" ":transform="",transform+=t,this.__currentElement.setAttribute("transform",transform)},ctx.prototype.scale=function(x,y){void 0===y&&(y=x),this.__addTransform(format("scale({x},{y})",{x:x,y:y}))},ctx.prototype.rotate=function(angle){var degrees=180*angle/Math.PI;this.__addTransform(format("rotate({angle},{cx},{cy})",{angle:degrees,cx:0,cy:0}))},ctx.prototype.translate=function(x,y){this.__addTransform(format("translate({x},{y})",{x:x,y:y}))},ctx.prototype.transform=function(a,b,c,d,e,f){this.__addTransform(format("matrix({a},{b},{c},{d},{e},{f})",{a:a,b:b,c:c,d:d,e:e,f:f}))},ctx.prototype.beginPath=function(){var path;this.__currentDefaultPath="",this.__currentPosition={},path=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(path),this.__currentElement=path},ctx.prototype.__applyCurrentDefaultPath=function(){if("path"!==this.__currentElement.nodeName)throw new Error("Attempted to apply path command to node "+this.__currentElement.nodeName);var d=this.__currentDefaultPath;this.__currentElement.setAttribute("d",d)},ctx.prototype.__addPathCommand=function(command){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=command},ctx.prototype.moveTo=function(x,y){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:x,y:y},this.__addPathCommand(format("M {x} {y}",{x:x,y:y}))},ctx.prototype.closePath=function(){this.__addPathCommand("Z")},ctx.prototype.lineTo=function(x,y){this.__currentPosition={x:x,y:y},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(format("L {x} {y}",{x:x,y:y})):this.__addPathCommand(format("M {x} {y}",{x:x,y:y}))},ctx.prototype.bezierCurveTo=function(cp1x,cp1y,cp2x,cp2y,x,y){this.__currentPosition={x:x,y:y},this.__addPathCommand(format("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:cp1x,cp1y:cp1y,cp2x:cp2x,cp2y:cp2y,x:x,y:y}))},ctx.prototype.quadraticCurveTo=function(cpx,cpy,x,y){this.__currentPosition={x:x,y:y},this.__addPathCommand(format("Q {cpx} {cpy} {x} {y}",{cpx:cpx,cpy:cpy,x:x,y:y}))};var normalize=function(vector){var len=Math.sqrt(vector[0]*vector[0]+vector[1]*vector[1]);return[vector[0]/len,vector[1]/len]};ctx.prototype.arcTo=function(x1,y1,x2,y2,radius){var x0=this.__currentPosition&&this.__currentPosition.x,y0=this.__currentPosition&&this.__currentPosition.y;if(void 0!==x0&&void 0!==y0){if(radius<0)throw new Error("IndexSizeError: The radius provided ("+radius+") is negative.");if(x0===x1&&y0===y1||x1===x2&&y1===y2||0===radius)this.lineTo(x1,y1);else{var unit_vec_p1_p0=normalize([x0-x1,y0-y1]),unit_vec_p1_p2=normalize([x2-x1,y2-y1]);if(unit_vec_p1_p0[0]*unit_vec_p1_p2[1]!=unit_vec_p1_p0[1]*unit_vec_p1_p2[0]){var cos=unit_vec_p1_p0[0]*unit_vec_p1_p2[0]+unit_vec_p1_p0[1]*unit_vec_p1_p2[1],theta=Math.acos(Math.abs(cos)),unit_vec_p1_origin=normalize([unit_vec_p1_p0[0]+unit_vec_p1_p2[0],unit_vec_p1_p0[1]+unit_vec_p1_p2[1]]),len_p1_origin=radius/Math.sin(theta/2),x=x1+len_p1_origin*unit_vec_p1_origin[0],y=y1+len_p1_origin*unit_vec_p1_origin[1],unit_vec_origin_start_tangent=[-unit_vec_p1_p0[1],unit_vec_p1_p0[0]],unit_vec_origin_end_tangent=[unit_vec_p1_p2[1],-unit_vec_p1_p2[0]],getAngle=function(vector){var x=vector[0];return vector[1]>=0?Math.acos(x):-Math.acos(x)},startAngle=getAngle(unit_vec_origin_start_tangent),endAngle=getAngle(unit_vec_origin_end_tangent);this.lineTo(x+unit_vec_origin_start_tangent[0]*radius,y+unit_vec_origin_start_tangent[1]*radius),this.arc(x,y,radius,startAngle,endAngle)}else this.lineTo(x1,y1)}}},ctx.prototype.stroke=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},ctx.prototype.fill=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},ctx.prototype.rect=function(x,y,width,height){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(x,y),this.lineTo(x+width,y),this.lineTo(x+width,y+height),this.lineTo(x,y+height),this.lineTo(x,y),this.closePath()},ctx.prototype.fillRect=function(x,y,width,height){var rect;rect=this.__createElement("rect",{x:x,y:y,width:width,height:height},!0),this.__closestGroupOrSvg().appendChild(rect),this.__currentElement=rect,this.__applyStyleToCurrentElement("fill")},ctx.prototype.strokeRect=function(x,y,width,height){var rect;rect=this.__createElement("rect",{x:x,y:y,width:width,height:height},!0),this.__closestGroupOrSvg().appendChild(rect),this.__currentElement=rect,this.__applyStyleToCurrentElement("stroke")},ctx.prototype.clearRect=function(x,y,width,height){var rect,parent=this.__closestGroupOrSvg();rect=this.__createElement("rect",{x:x,y:y,width:width,height:height,fill:"#FFFFFF"},!0),parent.appendChild(rect)},ctx.prototype.createLinearGradient=function(x1,y1,x2,y2){var grad=this.__createElement("linearGradient",{id:randomString(this.__ids),x1:x1+"px",x2:x2+"px",y1:y1+"px",y2:y2+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(grad),new CanvasGradient(grad,this)},ctx.prototype.createRadialGradient=function(x0,y0,r0,x1,y1,r1){var grad=this.__createElement("radialGradient",{id:randomString(this.__ids),cx:x1+"px",cy:y1+"px",r:r1+"px",fx:x0+"px",fy:y0+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(grad),new CanvasGradient(grad,this)},ctx.prototype.__parseFont=function(){var fontPart=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\"\sa-z]+?)\s*$/i.exec(this.font),data={style:fontPart[1]||"normal",size:fontPart[4]||"10px",family:fontPart[6]||"sans-serif",weight:fontPart[3]||"normal",decoration:fontPart[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(data.decoration="underline"),this.__fontHref&&(data.href=this.__fontHref),data},ctx.prototype.__wrapTextLink=function(font,element){if(font.href){var a=this.__createElement("a");return a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",font.href),a.appendChild(element),a}return element},ctx.prototype.__applyText=function(text,x,y,action){var textAlign,mapping,font=this.__parseFont(),parent=this.__closestGroupOrSvg(),textElement=this.__createElement("text",{"font-family":font.family,"font-size":font.size,"font-style":font.style,"font-weight":font.weight,"text-decoration":font.decoration,x:x,y:y,"text-anchor":(textAlign=this.textAlign,mapping={left:"start",right:"end",center:"middle",start:"start",end:"end"},mapping[textAlign]||mapping.start),"dominant-baseline":getDominantBaseline(this.textBaseline)},!0);textElement.appendChild(this.__document.createTextNode(text)),this.__currentElement=textElement,this.__applyStyleToCurrentElement(action),parent.appendChild(this.__wrapTextLink(font,textElement))},ctx.prototype.fillText=function(text,x,y){this.__applyText(text,x,y,"fill")},ctx.prototype.strokeText=function(text,x,y){this.__applyText(text,x,y,"stroke")},ctx.prototype.measureText=function(text){return this.__ctx.font=this.font,this.__ctx.measureText(text)},ctx.prototype.arc=function(x,y,radius,startAngle,endAngle,counterClockwise){if(startAngle!==endAngle){(startAngle%=2*Math.PI)===(endAngle%=2*Math.PI)&&(endAngle=(endAngle+2*Math.PI-.001*(counterClockwise?-1:1))%(2*Math.PI));var endX=x+radius*Math.cos(endAngle),endY=y+radius*Math.sin(endAngle),startX=x+radius*Math.cos(startAngle),startY=y+radius*Math.sin(startAngle),sweepFlag=counterClockwise?0:1,largeArcFlag=0,diff=endAngle-startAngle;diff<0&&(diff+=2*Math.PI),largeArcFlag=counterClockwise?diff>Math.PI?0:1:diff>Math.PI?1:0,this.lineTo(startX,startY),this.__addPathCommand(format("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:radius,ry:radius,xAxisRotation:0,largeArcFlag:largeArcFlag,sweepFlag:sweepFlag,endX:endX,endY:endY})),this.__currentPosition={x:endX,y:endY}}},ctx.prototype.clip=function(){var group=this.__closestGroupOrSvg(),clipPath=this.__createElement("clipPath"),id=randomString(this.__ids),newGroup=this.__createElement("g");group.removeChild(this.__currentElement),clipPath.setAttribute("id",id),clipPath.appendChild(this.__currentElement),this.__defs.appendChild(clipPath),group.setAttribute("clip-path",format("url(#{id})",{id:id})),group.appendChild(newGroup),this.__currentElement=newGroup},ctx.prototype.drawImage=function(){var dx,dy,dw,dh,sw,sh,parent,svg,defs,group,currentElement,svgImage,canvas,id,args=Array.prototype.slice.call(arguments),image=args[0],sx=0,sy=0;if(3===args.length)dx=args[1],dy=args[2],dw=sw=image.width,dh=sh=image.height;else if(5===args.length)dx=args[1],dy=args[2],dw=args[3],dh=args[4],sw=image.width,sh=image.height;else{if(9!==args.length)throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length);sx=args[1],sy=args[2],sw=args[3],sh=args[4],dx=args[5],dy=args[6],dw=args[7],dh=args[8]}if(parent=this.__closestGroupOrSvg(),currentElement=this.__currentElement,image instanceof ctx){for(defs=(svg=image.getSvg()).childNodes[0];defs.childNodes.length;)id=defs.childNodes[0].getAttribute("id"),this.__ids[id]=id,this.__defs.appendChild(defs.childNodes[0]);group=svg.childNodes[1],parent.appendChild(group),this.__currentElement=group,this.translate(dx,dy),this.__currentElement=currentElement}else"CANVAS"!==image.nodeName&&"IMG"!==image.nodeName||((svgImage=this.__createElement("image")).setAttribute("width",dw),svgImage.setAttribute("height",dh),svgImage.setAttribute("preserveAspectRatio","none"),(sx||sy||sw!==image.width||sh!==image.height)&&((canvas=this.__document.createElement("canvas")).width=dw,canvas.height=dh,canvas.getContext("2d").drawImage(image,sx,sy,sw,sh,0,0,dw,dh),image=canvas),svgImage.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===image.nodeName?image.toDataURL():image.getAttribute("src")),parent.appendChild(svgImage),this.__currentElement=svgImage,this.translate(dx,dy),this.__currentElement=currentElement)},ctx.prototype.createPattern=function(image,repetition){var img,pattern=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),id=randomString(this.__ids);return pattern.setAttribute("id",id),pattern.setAttribute("width",image.width),pattern.setAttribute("height",image.height),"CANVAS"===image.nodeName||"IMG"===image.nodeName?((img=this.__document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("width",image.width),img.setAttribute("height",image.height),img.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===image.nodeName?image.toDataURL():image.getAttribute("src")),pattern.appendChild(img),this.__defs.appendChild(pattern)):image instanceof ctx&&(pattern.appendChild(image.__root.childNodes[1]),this.__defs.appendChild(pattern)),new CanvasPattern(pattern,this)},ctx.prototype.drawFocusRing=function(){},ctx.prototype.createImageData=function(){},ctx.prototype.getImageData=function(){},ctx.prototype.putImageData=function(){},ctx.prototype.globalCompositeOperation=function(){},ctx.prototype.setTransform=function(){},"object"==typeof window&&(window.C2S=ctx),"object"==typeof module&&"object"==typeof module.exports&&(module.exports=ctx)}()},{}],49:[function(require,module,exports){var slice=[].slice;module.exports=function(obj,fn){if("string"==typeof fn&&(fn=obj[fn]),"function"!=typeof fn)throw new Error("bind() requires a function");var args=slice.call(arguments,2);return function(){return fn.apply(obj,args.concat(slice.call(arguments)))}}},{}],50:[function(require,module,exports){function Emitter(obj){if(obj)return function mixin(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}(obj)}void 0!==module&&(module.exports=Emitter),Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks["$"+event]=this._callbacks["$"+event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){function on(){this.off(event,on),fn.apply(this,arguments)}return on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var cb,callbacks=this._callbacks["$"+event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks["$"+event],this;for(var i=0;i<callbacks.length;i++)if((cb=callbacks[i])===fn||cb.fn===fn){callbacks.splice(i,1);break}return this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks["$"+event];if(callbacks)for(var i=0,len=(callbacks=callbacks.slice(0)).length;i<len;++i)callbacks[i].apply(this,args);return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks["$"+event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{}],51:[function(require,module,exports){module.exports=function(a,b){var fn=function(){};fn.prototype=b.prototype,a.prototype=new fn,a.prototype.constructor=a}},{}],52:[function(require,module,exports){require("../../modules/core.regexp.escape"),module.exports=require("../../modules/_core").RegExp.escape},{"../../modules/_core":73,"../../modules/core.regexp.escape":178}],53:[function(require,module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},{}],54:[function(require,module,exports){var cof=require("./_cof");module.exports=function(it,msg){if("number"!=typeof it&&"Number"!=cof(it))throw TypeError(msg);return+it}},{"./_cof":68}],55:[function(require,module,exports){var UNSCOPABLES=require("./_wks")("unscopables"),ArrayProto=Array.prototype;null==ArrayProto[UNSCOPABLES]&&require("./_hide")(ArrayProto,UNSCOPABLES,{}),module.exports=function(key){ArrayProto[UNSCOPABLES][key]=!0}},{"./_hide":92,"./_wks":176}],56:[function(require,module,exports){module.exports=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||void 0!==forbiddenField&&forbiddenField in it)throw TypeError(name+": incorrect invocation!");return it}},{}],57:[function(require,module,exports){var isObject=require("./_is-object");module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},{"./_is-object":101}],58:[function(require,module,exports){"use strict";var toObject=require("./_to-object"),toAbsoluteIndex=require("./_to-absolute-index"),toLength=require("./_to-length");module.exports=[].copyWithin||function copyWithin(target,start){var O=toObject(this),len=toLength(O.length),to=toAbsoluteIndex(target,len),from=toAbsoluteIndex(start,len),end=arguments.length>2?arguments[2]:void 0,count=Math.min((void 0===end?len:toAbsoluteIndex(end,len))-from,len-to),inc=1;for(from<to&&to<from+count&&(inc=-1,from+=count-1,to+=count-1);count-- >0;)from in O?O[to]=O[from]:delete O[to],to+=inc,from+=inc;return O}},{"./_to-absolute-index":161,"./_to-length":165,"./_to-object":166}],59:[function(require,module,exports){"use strict";var toObject=require("./_to-object"),toAbsoluteIndex=require("./_to-absolute-index"),toLength=require("./_to-length");module.exports=function fill(value){for(var O=toObject(this),length=toLength(O.length),aLen=arguments.length,index=toAbsoluteIndex(aLen>1?arguments[1]:void 0,length),end=aLen>2?arguments[2]:void 0,endPos=void 0===end?length:toAbsoluteIndex(end,length);endPos>index;)O[index++]=value;return O}},{"./_to-absolute-index":161,"./_to-length":165,"./_to-object":166}],60:[function(require,module,exports){var forOf=require("./_for-of");module.exports=function(iter,ITERATOR){var result=[];return forOf(iter,!1,result.push,result,ITERATOR),result}},{"./_for-of":89}],61:[function(require,module,exports){var toIObject=require("./_to-iobject"),toLength=require("./_to-length"),toAbsoluteIndex=require("./_to-absolute-index");module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},{"./_to-absolute-index":161,"./_to-iobject":164,"./_to-length":165}],62:[function(require,module,exports){var ctx=require("./_ctx"),IObject=require("./_iobject"),toObject=require("./_to-object"),toLength=require("./_to-length"),asc=require("./_array-species-create");module.exports=function(TYPE,$create){var IS_MAP=1==TYPE,IS_FILTER=2==TYPE,IS_SOME=3==TYPE,IS_EVERY=4==TYPE,IS_FIND_INDEX=6==TYPE,NO_HOLES=5==TYPE||IS_FIND_INDEX,create=$create||asc;return function($this,callbackfn,that){for(var val,res,O=toObject($this),self=IObject(O),f=ctx(callbackfn,that,3),length=toLength(self.length),index=0,result=IS_MAP?create($this,length):IS_FILTER?create($this,0):void 0;length>index;index++)if((NO_HOLES||index in self)&&(res=f(val=self[index],index,O),TYPE))if(IS_MAP)result[index]=res;else if(res)switch(TYPE){case 3:return!0;case 5:return val;case 6:return index;case 2:result.push(val)}else if(IS_EVERY)return!1;return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:result}}},{"./_array-species-create":65,"./_ctx":75,"./_iobject":97,"./_to-length":165,"./_to-object":166}],63:[function(require,module,exports){var aFunction=require("./_a-function"),toObject=require("./_to-object"),IObject=require("./_iobject"),toLength=require("./_to-length");module.exports=function(that,callbackfn,aLen,memo,isRight){aFunction(callbackfn);var O=toObject(that),self=IObject(O),length=toLength(O.length),index=isRight?length-1:0,i=isRight?-1:1;if(aLen<2)for(;;){if(index in self){memo=self[index],index+=i;break}if(index+=i,isRight?index<0:length<=index)throw TypeError("Reduce of empty array with no initial value")}for(;isRight?index>=0:length>index;index+=i)index in self&&(memo=callbackfn(memo,self[index],index,O));return memo}},{"./_a-function":53,"./_iobject":97,"./_to-length":165,"./_to-object":166}],64:[function(require,module,exports){var isObject=require("./_is-object"),isArray=require("./_is-array"),SPECIES=require("./_wks")("species");module.exports=function(original){var C;return isArray(original)&&("function"!=typeof(C=original.constructor)||C!==Array&&!isArray(C.prototype)||(C=void 0),isObject(C)&&null===(C=C[SPECIES])&&(C=void 0)),void 0===C?Array:C}},{"./_is-array":99,"./_is-object":101,"./_wks":176}],65:[function(require,module,exports){var speciesConstructor=require("./_array-species-constructor");module.exports=function(original,length){return new(speciesConstructor(original))(length)}},{"./_array-species-constructor":64}],66:[function(require,module,exports){"use strict";var aFunction=require("./_a-function"),isObject=require("./_is-object"),invoke=require("./_invoke"),arraySlice=[].slice,factories={};module.exports=Function.bind||function bind(that){var fn=aFunction(this),partArgs=arraySlice.call(arguments,1),bound=function(){var args=partArgs.concat(arraySlice.call(arguments));return this instanceof bound?function(F,len,args){if(!(len in factories)){for(var n=[],i=0;i<len;i++)n[i]="a["+i+"]";factories[len]=Function("F,a","return new F("+n.join(",")+")")}return factories[len](F,args)}(fn,args.length,args):invoke(fn,args,that)};return isObject(fn.prototype)&&(bound.prototype=fn.prototype),bound}},{"./_a-function":53,"./_invoke":96,"./_is-object":101}],67:[function(require,module,exports){var cof=require("./_cof"),TAG=require("./_wks")("toStringTag"),ARG="Arguments"==cof(function(){return arguments}());module.exports=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=function(it,key){try{return it[key]}catch(e){}}(O=Object(it),TAG))?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B}},{"./_cof":68,"./_wks":176}],68:[function(require,module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},{}],69:[function(require,module,exports){"use strict";var dP=require("./_object-dp").f,create=require("./_object-create"),redefineAll=require("./_redefine-all"),ctx=require("./_ctx"),anInstance=require("./_an-instance"),forOf=require("./_for-of"),$iterDefine=require("./_iter-define"),step=require("./_iter-step"),setSpecies=require("./_set-species"),DESCRIPTORS=require("./_descriptors"),fastKey=require("./_meta").fastKey,validate=require("./_validate-collection"),SIZE=DESCRIPTORS?"_s":"size",getEntry=function(that,key){var entry,index=fastKey(key);if("F"!==index)return that._i[index];for(entry=that._f;entry;entry=entry.n)if(entry.k==key)return entry};module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i"),that._t=NAME,that._i=create(null),that._f=void 0,that._l=void 0,that[SIZE]=0,null!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that)});return redefineAll(C.prototype,{clear:function clear(){for(var that=validate(this,NAME),data=that._i,entry=that._f;entry;entry=entry.n)entry.r=!0,entry.p&&(entry.p=entry.p.n=void 0),delete data[entry.i];that._f=that._l=void 0,that[SIZE]=0},delete:function(key){var that=validate(this,NAME),entry=getEntry(that,key);if(entry){var next=entry.n,prev=entry.p;delete that._i[entry.i],entry.r=!0,prev&&(prev.n=next),next&&(next.p=prev),that._f==entry&&(that._f=next),that._l==entry&&(that._l=prev),that[SIZE]--}return!!entry},forEach:function forEach(callbackfn){validate(this,NAME);for(var entry,f=ctx(callbackfn,arguments.length>1?arguments[1]:void 0,3);entry=entry?entry.n:this._f;)for(f(entry.v,entry.k,this);entry&&entry.r;)entry=entry.p},has:function has(key){return!!getEntry(validate(this,NAME),key)}}),DESCRIPTORS&&dP(C.prototype,"size",{get:function(){return validate(this,NAME)[SIZE]}}),C},def:function(that,key,value){var prev,index,entry=getEntry(that,key);return entry?entry.v=value:(that._l=entry={i:index=fastKey(key,!0),k:key,v:value,p:prev=that._l,n:void 0,r:!1},that._f||(that._f=entry),prev&&(prev.n=entry),that[SIZE]++,"F"!==index&&(that._i[index]=entry)),that},getEntry:getEntry,setStrong:function(C,NAME,IS_MAP){$iterDefine(C,NAME,function(iterated,kind){this._t=validate(iterated,NAME),this._k=kind,this._l=void 0},function(){for(var kind=this._k,entry=this._l;entry&&entry.r;)entry=entry.p;return this._t&&(this._l=entry=entry?entry.n:this._t._f)?step(0,"keys"==kind?entry.k:"values"==kind?entry.v:[entry.k,entry.v]):(this._t=void 0,step(1))},IS_MAP?"entries":"values",!IS_MAP,!0),setSpecies(NAME)}}},{"./_an-instance":56,"./_ctx":75,"./_descriptors":79,"./_for-of":89,"./_iter-define":105,"./_iter-step":107,"./_meta":115,"./_object-create":120,"./_object-dp":121,"./_redefine-all":140,"./_set-species":147,"./_validate-collection":173}],70:[function(require,module,exports){var classof=require("./_classof"),from=require("./_array-from-iterable");module.exports=function(NAME){return function toJSON(){if(classof(this)!=NAME)throw TypeError(NAME+"#toJSON isn't generic");return from(this)}}},{"./_array-from-iterable":60,"./_classof":67}],71:[function(require,module,exports){"use strict";var redefineAll=require("./_redefine-all"),getWeak=require("./_meta").getWeak,anObject=require("./_an-object"),isObject=require("./_is-object"),anInstance=require("./_an-instance"),forOf=require("./_for-of"),createArrayMethod=require("./_array-methods"),$has=require("./_has"),validate=require("./_validate-collection"),arrayFind=createArrayMethod(5),arrayFindIndex=createArrayMethod(6),id=0,uncaughtFrozenStore=function(that){return that._l||(that._l=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.a=[]},findUncaughtFrozen=function(store,key){return arrayFind(store.a,function(it){return it[0]===key})};UncaughtFrozenStore.prototype={get:function(key){var entry=findUncaughtFrozen(this,key);if(entry)return entry[1]},has:function(key){return!!findUncaughtFrozen(this,key)},set:function(key,value){var entry=findUncaughtFrozen(this,key);entry?entry[1]=value:this.a.push([key,value])},delete:function(key){var index=arrayFindIndex(this.a,function(it){return it[0]===key});return~index&&this.a.splice(index,1),!!~index}},module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i"),that._t=NAME,that._i=id++,that._l=void 0,null!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that)});return redefineAll(C.prototype,{delete:function(key){if(!isObject(key))return!1;var data=getWeak(key);return!0===data?uncaughtFrozenStore(validate(this,NAME)).delete(key):data&&$has(data,this._i)&&delete data[this._i]},has:function has(key){if(!isObject(key))return!1;var data=getWeak(key);return!0===data?uncaughtFrozenStore(validate(this,NAME)).has(key):data&&$has(data,this._i)}}),C},def:function(that,key,value){var data=getWeak(anObject(key),!0);return!0===data?uncaughtFrozenStore(that).set(key,value):data[that._i]=value,that},ufstore:uncaughtFrozenStore}},{"./_an-instance":56,"./_an-object":57,"./_array-methods":62,"./_for-of":89,"./_has":91,"./_is-object":101,"./_meta":115,"./_redefine-all":140,"./_validate-collection":173}],72:[function(require,module,exports){"use strict";var global=require("./_global"),$export=require("./_export"),redefine=require("./_redefine"),redefineAll=require("./_redefine-all"),meta=require("./_meta"),forOf=require("./_for-of"),anInstance=require("./_an-instance"),isObject=require("./_is-object"),fails=require("./_fails"),$iterDetect=require("./_iter-detect"),setToStringTag=require("./_set-to-string-tag"),inheritIfRequired=require("./_inherit-if-required");module.exports=function(NAME,wrapper,methods,common,IS_MAP,IS_WEAK){var Base=global[NAME],C=Base,ADDER=IS_MAP?"set":"add",proto=C&&C.prototype,O={},fixMethod=function(KEY){var fn=proto[KEY];redefine(proto,KEY,"delete"==KEY?function(a){return!(IS_WEAK&&!isObject(a))&&fn.call(this,0===a?0:a)}:"has"==KEY?function has(a){return!(IS_WEAK&&!isObject(a))&&fn.call(this,0===a?0:a)}:"get"==KEY?function get(a){return IS_WEAK&&!isObject(a)?void 0:fn.call(this,0===a?0:a)}:"add"==KEY?function add(a){return fn.call(this,0===a?0:a),this}:function set(a,b){return fn.call(this,0===a?0:a,b),this})};if("function"==typeof C&&(IS_WEAK||proto.forEach&&!fails(function(){(new C).entries().next()}))){var instance=new C,HASNT_CHAINING=instance[ADDER](IS_WEAK?{}:-0,1)!=instance,THROWS_ON_PRIMITIVES=fails(function(){instance.has(1)}),ACCEPT_ITERABLES=$iterDetect(function(iter){new C(iter)}),BUGGY_ZERO=!IS_WEAK&&fails(function(){for(var $instance=new C,index=5;index--;)$instance[ADDER](index,index);return!$instance.has(-0)});ACCEPT_ITERABLES||((C=wrapper(function(target,iterable){anInstance(target,C,NAME);var that=inheritIfRequired(new Base,target,C);return null!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that),that})).prototype=proto,proto.constructor=C),(THROWS_ON_PRIMITIVES||BUGGY_ZERO)&&(fixMethod("delete"),fixMethod("has"),IS_MAP&&fixMethod("get")),(BUGGY_ZERO||HASNT_CHAINING)&&fixMethod(ADDER),IS_WEAK&&proto.clear&&delete proto.clear}else C=common.getConstructor(wrapper,NAME,IS_MAP,ADDER),redefineAll(C.prototype,methods),meta.NEED=!0;return setToStringTag(C,NAME),O[NAME]=C,$export($export.G+$export.W+$export.F*(C!=Base),O),IS_WEAK||common.setStrong(C,NAME,IS_MAP),C}},{"./_an-instance":56,"./_export":83,"./_fails":85,"./_for-of":89,"./_global":90,"./_inherit-if-required":95,"./_is-object":101,"./_iter-detect":106,"./_meta":115,"./_redefine":141,"./_redefine-all":140,"./_set-to-string-tag":148}],73:[function(require,module,exports){var core=module.exports={version:"2.5.7"};"number"==typeof __e&&(__e=core)},{}],74:[function(require,module,exports){"use strict";var $defineProperty=require("./_object-dp"),createDesc=require("./_property-desc");module.exports=function(object,index,value){index in object?$defineProperty.f(object,index,createDesc(0,value)):object[index]=value}},{"./_object-dp":121,"./_property-desc":139}],75:[function(require,module,exports){var aFunction=require("./_a-function");module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},{"./_a-function":53}],76:[function(require,module,exports){"use strict";var fails=require("./_fails"),getTime=Date.prototype.getTime,$toISOString=Date.prototype.toISOString,lz=function(num){return num>9?num:"0"+num};module.exports=fails(function(){return"0385-07-25T07:06:39.999Z"!=$toISOString.call(new Date(-5e13-1))})||!fails(function(){$toISOString.call(new Date(NaN))})?function toISOString(){if(!isFinite(getTime.call(this)))throw RangeError("Invalid time value");var d=this,y=d.getUTCFullYear(),m=d.getUTCMilliseconds(),s=y<0?"-":y>9999?"+":"";return s+("00000"+Math.abs(y)).slice(s?-6:-4)+"-"+lz(d.getUTCMonth()+1)+"-"+lz(d.getUTCDate())+"T"+lz(d.getUTCHours())+":"+lz(d.getUTCMinutes())+":"+lz(d.getUTCSeconds())+"."+(m>99?m:"0"+lz(m))+"Z"}:$toISOString},{"./_fails":85}],77:[function(require,module,exports){"use strict";var anObject=require("./_an-object"),toPrimitive=require("./_to-primitive");module.exports=function(hint){if("string"!==hint&&"number"!==hint&&"default"!==hint)throw TypeError("Incorrect hint");return toPrimitive(anObject(this),"number"!=hint)}},{"./_an-object":57,"./_to-primitive":167}],78:[function(require,module,exports){module.exports=function(it){if(null==it)throw TypeError("Can't call method on  "+it);return it}},{}],79:[function(require,module,exports){module.exports=!require("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":85}],80:[function(require,module,exports){var isObject=require("./_is-object"),document=require("./_global").document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},{"./_global":90,"./_is-object":101}],81:[function(require,module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],82:[function(require,module,exports){var getKeys=require("./_object-keys"),gOPS=require("./_object-gops"),pIE=require("./_object-pie");module.exports=function(it){var result=getKeys(it),getSymbols=gOPS.f;if(getSymbols)for(var key,symbols=getSymbols(it),isEnum=pIE.f,i=0;symbols.length>i;)isEnum.call(it,key=symbols[i++])&&result.push(key);return result}},{"./_object-gops":127,"./_object-keys":130,"./_object-pie":131}],83:[function(require,module,exports){var global=require("./_global"),core=require("./_core"),hide=require("./_hide"),redefine=require("./_redefine"),ctx=require("./_ctx"),$export=function(type,name,source){var key,own,out,exp,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,target=IS_GLOBAL?global:IS_STATIC?global[name]||(global[name]={}):(global[name]||{}).prototype,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports.prototype||(exports.prototype={});for(key in IS_GLOBAL&&(source=name),source)out=((own=!IS_FORCED&&target&&void 0!==target[key])?target:source)[key],exp=IS_BIND&&own?ctx(out,global):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,target&&redefine(target,key,out,type&$export.U),exports[key]!=out&&hide(exports,key,exp),IS_PROTO&&expProto[key]!=out&&(expProto[key]=out)};global.core=core,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},{"./_core":73,"./_ctx":75,"./_global":90,"./_hide":92,"./_redefine":141}],84:[function(require,module,exports){var MATCH=require("./_wks")("match");module.exports=function(KEY){var re=/./;try{"/./"[KEY](re)}catch(e){try{return re[MATCH]=!1,!"/./"[KEY](re)}catch(f){}}return!0}},{"./_wks":176}],85:[function(require,module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},{}],86:[function(require,module,exports){"use strict";var hide=require("./_hide"),redefine=require("./_redefine"),fails=require("./_fails"),defined=require("./_defined"),wks=require("./_wks");module.exports=function(KEY,length,exec){var SYMBOL=wks(KEY),fns=exec(defined,SYMBOL,""[KEY]),strfn=fns[0],rxfn=fns[1];fails(function(){var O={};return O[SYMBOL]=function(){return 7},7!=""[KEY](O)})&&(redefine(String.prototype,KEY,strfn),hide(RegExp.prototype,SYMBOL,2==length?function(string,arg){return rxfn.call(string,this,arg)}:function(string){return rxfn.call(string,this)}))}},{"./_defined":78,"./_fails":85,"./_hide":92,"./_redefine":141,"./_wks":176}],87:[function(require,module,exports){"use strict";var anObject=require("./_an-object");module.exports=function(){var that=anObject(this),result="";return that.global&&(result+="g"),that.ignoreCase&&(result+="i"),that.multiline&&(result+="m"),that.unicode&&(result+="u"),that.sticky&&(result+="y"),result}},{"./_an-object":57}],88:[function(require,module,exports){"use strict";var isArray=require("./_is-array"),isObject=require("./_is-object"),toLength=require("./_to-length"),ctx=require("./_ctx"),IS_CONCAT_SPREADABLE=require("./_wks")("isConcatSpreadable");module.exports=function flattenIntoArray(target,original,source,sourceLen,start,depth,mapper,thisArg){for(var element,spreadable,targetIndex=start,sourceIndex=0,mapFn=!!mapper&&ctx(mapper,thisArg,3);sourceIndex<sourceLen;){if(sourceIndex in source){if(element=mapFn?mapFn(source[sourceIndex],sourceIndex,original):source[sourceIndex],spreadable=!1,isObject(element)&&(spreadable=void 0!==(spreadable=element[IS_CONCAT_SPREADABLE])?!!spreadable:isArray(element)),spreadable&&depth>0)targetIndex=flattenIntoArray(target,original,element,toLength(element.length),targetIndex,depth-1)-1;else{if(targetIndex>=9007199254740991)throw TypeError();target[targetIndex]=element}targetIndex++}sourceIndex++}return targetIndex}},{"./_ctx":75,"./_is-array":99,"./_is-object":101,"./_to-length":165,"./_wks":176}],89:[function(require,module,exports){var ctx=require("./_ctx"),call=require("./_iter-call"),isArrayIter=require("./_is-array-iter"),anObject=require("./_an-object"),toLength=require("./_to-length"),getIterFn=require("./core.get-iterator-method"),BREAK={},RETURN={};(exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var length,step,iterator,result,iterFn=ITERATOR?function(){return iterable}:getIterFn(iterable),f=ctx(fn,that,entries?2:1),index=0;if("function"!=typeof iterFn)throw TypeError(iterable+" is not iterable!");if(isArrayIter(iterFn)){for(length=toLength(iterable.length);length>index;index++)if((result=entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]))===BREAK||result===RETURN)return result}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;)if((result=call(iterator,f,step.value,entries))===BREAK||result===RETURN)return result}).BREAK=BREAK,exports.RETURN=RETURN},{"./_an-object":57,"./_ctx":75,"./_is-array-iter":98,"./_iter-call":103,"./_to-length":165,"./core.get-iterator-method":177}],90:[function(require,module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},{}],91:[function(require,module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},{}],92:[function(require,module,exports){var dP=require("./_object-dp"),createDesc=require("./_property-desc");module.exports=require("./_descriptors")?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},{"./_descriptors":79,"./_object-dp":121,"./_property-desc":139}],93:[function(require,module,exports){var document=require("./_global").document;module.exports=document&&document.documentElement},{"./_global":90}],94:[function(require,module,exports){module.exports=!require("./_descriptors")&&!require("./_fails")(function(){return 7!=Object.defineProperty(require("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":79,"./_dom-create":80,"./_fails":85}],95:[function(require,module,exports){var isObject=require("./_is-object"),setPrototypeOf=require("./_set-proto").set;module.exports=function(that,target,C){var P,S=target.constructor;return S!==C&&"function"==typeof S&&(P=S.prototype)!==C.prototype&&isObject(P)&&setPrototypeOf&&setPrototypeOf(that,P),that}},{"./_is-object":101,"./_set-proto":146}],96:[function(require,module,exports){module.exports=function(fn,args,that){var un=void 0===that;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)}},{}],97:[function(require,module,exports){var cof=require("./_cof");module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},{"./_cof":68}],98:[function(require,module,exports){var Iterators=require("./_iterators"),ITERATOR=require("./_wks")("iterator"),ArrayProto=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},{"./_iterators":108,"./_wks":176}],99:[function(require,module,exports){var cof=require("./_cof");module.exports=Array.isArray||function isArray(arg){return"Array"==cof(arg)}},{"./_cof":68}],100:[function(require,module,exports){var isObject=require("./_is-object"),floor=Math.floor;module.exports=function isInteger(it){return!isObject(it)&&isFinite(it)&&floor(it)===it}},{"./_is-object":101}],101:[function(require,module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},{}],102:[function(require,module,exports){var isObject=require("./_is-object"),cof=require("./_cof"),MATCH=require("./_wks")("match");module.exports=function(it){var isRegExp;return isObject(it)&&(void 0!==(isRegExp=it[MATCH])?!!isRegExp:"RegExp"==cof(it))}},{"./_cof":68,"./_is-object":101,"./_wks":176}],103:[function(require,module,exports){var anObject=require("./_an-object");module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator.return;throw void 0!==ret&&anObject(ret.call(iterator)),e}}},{"./_an-object":57}],104:[function(require,module,exports){"use strict";var create=require("./_object-create"),descriptor=require("./_property-desc"),setToStringTag=require("./_set-to-string-tag"),IteratorPrototype={};require("./_hide")(IteratorPrototype,require("./_wks")("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},{"./_hide":92,"./_object-create":120,"./_property-desc":139,"./_set-to-string-tag":148,"./_wks":176}],105:[function(require,module,exports){"use strict";var LIBRARY=require("./_library"),$export=require("./_export"),redefine=require("./_redefine"),hide=require("./_hide"),Iterators=require("./_iterators"),$iterCreate=require("./_iter-create"),setToStringTag=require("./_set-to-string-tag"),getPrototypeOf=require("./_object-gpo"),ITERATOR=require("./_wks")("iterator"),BUGGY=!([].keys&&"next"in[].keys()),returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var methods,key,IteratorPrototype,getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case"keys":return function keys(){return new Constructor(this,kind)};case"values":return function values(){return new Constructor(this,kind)}}return function entries(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES="values"==DEFAULT,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto["@@iterator"]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:void 0,$anyNative="Array"==NAME&&proto.entries||$native;if($anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)))!==Object.prototype&&IteratorPrototype.next&&(setToStringTag(IteratorPrototype,TAG,!0),LIBRARY||"function"==typeof IteratorPrototype[ITERATOR]||hide(IteratorPrototype,ITERATOR,returnThis)),DEF_VALUES&&$native&&"values"!==$native.name&&(VALUES_BUG=!0,$default=function values(){return $native.call(this)}),LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod("values"),keys:IS_SET?$default:getMethod("keys"),entries:$entries},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}},{"./_export":83,"./_hide":92,"./_iter-create":104,"./_iterators":108,"./_library":109,"./_object-gpo":128,"./_redefine":141,"./_set-to-string-tag":148,"./_wks":176}],106:[function(require,module,exports){var ITERATOR=require("./_wks")("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){return{done:safe=!0}},arr[ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe}},{"./_wks":176}],107:[function(require,module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},{}],108:[function(require,module,exports){module.exports={}},{}],109:[function(require,module,exports){module.exports=!1},{}],110:[function(require,module,exports){var $expm1=Math.expm1;module.exports=!$expm1||$expm1(10)>22025.465794806718||$expm1(10)<22025.465794806718||-2e-17!=$expm1(-2e-17)?function expm1(x){return 0==(x=+x)?x:x>-1e-6&&x<1e-6?x+x*x/2:Math.exp(x)-1}:$expm1},{}],111:[function(require,module,exports){var sign=require("./_math-sign"),pow=Math.pow,EPSILON=pow(2,-52),EPSILON32=pow(2,-23),MAX32=pow(2,127)*(2-EPSILON32),MIN32=pow(2,-126);module.exports=Math.fround||function fround(x){var a,result,$abs=Math.abs(x),$sign=sign(x);return $abs<MIN32?$sign*($abs/MIN32/EPSILON32+1/EPSILON-1/EPSILON)*MIN32*EPSILON32:(result=(a=(1+EPSILON32/EPSILON)*$abs)-(a-$abs))>MAX32||result!=result?$sign*(1/0):$sign*result}},{"./_math-sign":114}],112:[function(require,module,exports){module.exports=Math.log1p||function log1p(x){return(x=+x)>-1e-8&&x<1e-8?x-x*x/2:Math.log(1+x)}},{}],113:[function(require,module,exports){module.exports=Math.scale||function scale(x,inLow,inHigh,outLow,outHigh){return 0===arguments.length||x!=x||inLow!=inLow||inHigh!=inHigh||outLow!=outLow||outHigh!=outHigh?NaN:x===1/0||x===-1/0?x:(x-inLow)*(outHigh-outLow)/(inHigh-inLow)+outLow}},{}],114:[function(require,module,exports){module.exports=Math.sign||function sign(x){return 0==(x=+x)||x!=x?x:x<0?-1:1}},{}],115:[function(require,module,exports){var META=require("./_uid")("meta"),isObject=require("./_is-object"),has=require("./_has"),setDesc=require("./_object-dp").f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!require("./_fails")(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},meta=module.exports={KEY:META,NEED:!1,fastKey:function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak:function(it,create){if(!has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze:function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META)&&setMeta(it),it}}},{"./_fails":85,"./_has":91,"./_is-object":101,"./_object-dp":121,"./_uid":171}],116:[function(require,module,exports){var Map=require("./es6.map"),$export=require("./_export"),shared=require("./_shared")("metadata"),store=shared.store||(shared.store=new(require("./es6.weak-map"))),getOrCreateMetadataMap=function(target,targetKey,create){var targetMetadata=store.get(target);if(!targetMetadata){if(!create)return;store.set(target,targetMetadata=new Map)}var keyMetadata=targetMetadata.get(targetKey);if(!keyMetadata){if(!create)return;targetMetadata.set(targetKey,keyMetadata=new Map)}return keyMetadata};module.exports={store:store,map:getOrCreateMetadataMap,has:function(MetadataKey,O,P){var metadataMap=getOrCreateMetadataMap(O,P,!1);return void 0!==metadataMap&&metadataMap.has(MetadataKey)},get:function(MetadataKey,O,P){var metadataMap=getOrCreateMetadataMap(O,P,!1);return void 0===metadataMap?void 0:metadataMap.get(MetadataKey)},set:function(MetadataKey,MetadataValue,O,P){getOrCreateMetadataMap(O,P,!0).set(MetadataKey,MetadataValue)},keys:function(target,targetKey){var metadataMap=getOrCreateMetadataMap(target,targetKey,!1),keys=[];return metadataMap&&metadataMap.forEach(function(_,key){keys.push(key)}),keys},key:function(it){return void 0===it||"symbol"==typeof it?it:String(it)},exp:function(O){$export($export.S,"Reflect",O)}}},{"./_export":83,"./_shared":150,"./es6.map":208,"./es6.weak-map":314}],117:[function(require,module,exports){var global=require("./_global"),macrotask=require("./_task").set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,isNode="process"==require("./_cof")(process);module.exports=function(){var head,last,notify,flush=function(){var parent,fn;for(isNode&&(parent=process.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(e){throw head?notify():last=void 0,e}}last=void 0,parent&&parent.enter()};if(isNode)notify=function(){process.nextTick(flush)};else if(!Observer||global.navigator&&global.navigator.standalone)if(Promise&&Promise.resolve){var promise=Promise.resolve(void 0);notify=function(){promise.then(flush)}}else notify=function(){macrotask.call(global,flush)};else{var toggle=!0,node=document.createTextNode("");new Observer(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}}return function(fn){var task={fn:fn,next:void 0};last&&(last.next=task),head||(head=task,notify()),last=task}}},{"./_cof":68,"./_global":90,"./_task":160}],118:[function(require,module,exports){"use strict";var aFunction=require("./_a-function");function PromiseCapability(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aFunction(resolve),this.reject=aFunction(reject)}module.exports.f=function(C){return new PromiseCapability(C)}},{"./_a-function":53}],119:[function(require,module,exports){"use strict";var getKeys=require("./_object-keys"),gOPS=require("./_object-gops"),pIE=require("./_object-pie"),toObject=require("./_to-object"),IObject=require("./_iobject"),$assign=Object.assign;module.exports=!$assign||require("./_fails")(function(){var A={},B={},S=Symbol(),K="abcdefghijklmnopqrst";return A[S]=7,K.split("").forEach(function(k){B[k]=k}),7!=$assign({},A)[S]||Object.keys($assign({},B)).join("")!=K})?function assign(target,source){for(var T=toObject(target),aLen=arguments.length,index=1,getSymbols=gOPS.f,isEnum=pIE.f;aLen>index;)for(var key,S=IObject(arguments[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0;length>j;)isEnum.call(S,key=keys[j++])&&(T[key]=S[key]);return T}:$assign},{"./_fails":85,"./_iobject":97,"./_object-gops":127,"./_object-keys":130,"./_object-pie":131,"./_to-object":166}],120:[function(require,module,exports){var anObject=require("./_an-object"),dPs=require("./_object-dps"),enumBugKeys=require("./_enum-bug-keys"),IE_PROTO=require("./_shared-key")("IE_PROTO"),Empty=function(){},createDict=function(){var iframeDocument,iframe=require("./_dom-create")("iframe"),i=enumBugKeys.length;for(iframe.style.display="none",require("./_html").appendChild(iframe),iframe.src="javascript:",(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write("<script>document.F=Object<\/script>"),iframeDocument.close(),createDict=iframeDocument.F;i--;)delete createDict.prototype[enumBugKeys[i]];return createDict()};module.exports=Object.create||function create(O,Properties){var result;return null!==O?(Empty.prototype=anObject(O),result=new Empty,Empty.prototype=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:dPs(result,Properties)}},{"./_an-object":57,"./_dom-create":80,"./_enum-bug-keys":81,"./_html":93,"./_object-dps":122,"./_shared-key":149}],121:[function(require,module,exports){var anObject=require("./_an-object"),IE8_DOM_DEFINE=require("./_ie8-dom-define"),toPrimitive=require("./_to-primitive"),dP=Object.defineProperty;exports.f=require("./_descriptors")?Object.defineProperty:function defineProperty(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},{"./_an-object":57,"./_descriptors":79,"./_ie8-dom-define":94,"./_to-primitive":167}],122:[function(require,module,exports){var dP=require("./_object-dp"),anObject=require("./_an-object"),getKeys=require("./_object-keys");module.exports=require("./_descriptors")?Object.defineProperties:function defineProperties(O,Properties){anObject(O);for(var P,keys=getKeys(Properties),length=keys.length,i=0;length>i;)dP.f(O,P=keys[i++],Properties[P]);return O}},{"./_an-object":57,"./_descriptors":79,"./_object-dp":121,"./_object-keys":130}],123:[function(require,module,exports){"use strict";module.exports=require("./_library")||!require("./_fails")(function(){var K=Math.random();__defineSetter__.call(null,K,function(){}),delete require("./_global")[K]})},{"./_fails":85,"./_global":90,"./_library":109}],124:[function(require,module,exports){var pIE=require("./_object-pie"),createDesc=require("./_property-desc"),toIObject=require("./_to-iobject"),toPrimitive=require("./_to-primitive"),has=require("./_has"),IE8_DOM_DEFINE=require("./_ie8-dom-define"),gOPD=Object.getOwnPropertyDescriptor;exports.f=require("./_descriptors")?gOPD:function getOwnPropertyDescriptor(O,P){if(O=toIObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}if(has(O,P))return createDesc(!pIE.f.call(O,P),O[P])}},{"./_descriptors":79,"./_has":91,"./_ie8-dom-define":94,"./_object-pie":131,"./_property-desc":139,"./_to-iobject":164,"./_to-primitive":167}],125:[function(require,module,exports){var toIObject=require("./_to-iobject"),gOPN=require("./_object-gopn").f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];module.exports.f=function getOwnPropertyNames(it){return windowNames&&"[object Window]"==toString.call(it)?function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}}(it):gOPN(toIObject(it))}},{"./_object-gopn":126,"./_to-iobject":164}],126:[function(require,module,exports){var $keys=require("./_object-keys-internal"),hiddenKeys=require("./_enum-bug-keys").concat("length","prototype");exports.f=Object.getOwnPropertyNames||function getOwnPropertyNames(O){return $keys(O,hiddenKeys)}},{"./_enum-bug-keys":81,"./_object-keys-internal":129}],127:[function(require,module,exports){exports.f=Object.getOwnPropertySymbols},{}],128:[function(require,module,exports){var has=require("./_has"),toObject=require("./_to-object"),IE_PROTO=require("./_shared-key")("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null}},{"./_has":91,"./_shared-key":149,"./_to-object":166}],129:[function(require,module,exports){var has=require("./_has"),toIObject=require("./_to-iobject"),arrayIndexOf=require("./_array-includes")(!1),IE_PROTO=require("./_shared-key")("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},{"./_array-includes":61,"./_has":91,"./_shared-key":149,"./_to-iobject":164}],130:[function(require,module,exports){var $keys=require("./_object-keys-internal"),enumBugKeys=require("./_enum-bug-keys");module.exports=Object.keys||function keys(O){return $keys(O,enumBugKeys)}},{"./_enum-bug-keys":81,"./_object-keys-internal":129}],131:[function(require,module,exports){exports.f={}.propertyIsEnumerable},{}],132:[function(require,module,exports){var $export=require("./_export"),core=require("./_core"),fails=require("./_fails");module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},{"./_core":73,"./_export":83,"./_fails":85}],133:[function(require,module,exports){var getKeys=require("./_object-keys"),toIObject=require("./_to-iobject"),isEnum=require("./_object-pie").f;module.exports=function(isEntries){return function(it){for(var key,O=toIObject(it),keys=getKeys(O),length=keys.length,i=0,result=[];length>i;)isEnum.call(O,key=keys[i++])&&result.push(isEntries?[key,O[key]]:O[key]);return result}}},{"./_object-keys":130,"./_object-pie":131,"./_to-iobject":164}],134:[function(require,module,exports){var gOPN=require("./_object-gopn"),gOPS=require("./_object-gops"),anObject=require("./_an-object"),Reflect=require("./_global").Reflect;module.exports=Reflect&&Reflect.ownKeys||function ownKeys(it){var keys=gOPN.f(anObject(it)),getSymbols=gOPS.f;return getSymbols?keys.concat(getSymbols(it)):keys}},{"./_an-object":57,"./_global":90,"./_object-gopn":126,"./_object-gops":127}],135:[function(require,module,exports){var $parseFloat=require("./_global").parseFloat,$trim=require("./_string-trim").trim;module.exports=1/$parseFloat(require("./_string-ws")+"-0")!=-1/0?function parseFloat(str){var string=$trim(String(str),3),result=$parseFloat(string);return 0===result&&"-"==string.charAt(0)?-0:result}:$parseFloat},{"./_global":90,"./_string-trim":158,"./_string-ws":159}],136:[function(require,module,exports){var $parseInt=require("./_global").parseInt,$trim=require("./_string-trim").trim,ws=require("./_string-ws"),hex=/^[-+]?0[xX]/;module.exports=8!==$parseInt(ws+"08")||22!==$parseInt(ws+"0x16")?function parseInt(str,radix){var string=$trim(String(str),3);return $parseInt(string,radix>>>0||(hex.test(string)?16:10))}:$parseInt},{"./_global":90,"./_string-trim":158,"./_string-ws":159}],137:[function(require,module,exports){module.exports=function(exec){try{return{e:!1,v:exec()}}catch(e){return{e:!0,v:e}}}},{}],138:[function(require,module,exports){var anObject=require("./_an-object"),isObject=require("./_is-object"),newPromiseCapability=require("./_new-promise-capability");module.exports=function(C,x){if(anObject(C),isObject(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability.f(C);return(0,promiseCapability.resolve)(x),promiseCapability.promise}},{"./_an-object":57,"./_is-object":101,"./_new-promise-capability":118}],139:[function(require,module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},{}],140:[function(require,module,exports){var redefine=require("./_redefine");module.exports=function(target,src,safe){for(var key in src)redefine(target,key,src[key],safe);return target}},{"./_redefine":141}],141:[function(require,module,exports){var global=require("./_global"),hide=require("./_hide"),has=require("./_has"),SRC=require("./_uid")("src"),$toString=Function.toString,TPL=(""+$toString).split("toString");require("./_core").inspectSource=function(it){return $toString.call(it)},(module.exports=function(O,key,val,safe){var isFunction="function"==typeof val;isFunction&&(has(val,"name")||hide(val,"name",key)),O[key]!==val&&(isFunction&&(has(val,SRC)||hide(val,SRC,O[key]?""+O[key]:TPL.join(String(key)))),O===global?O[key]=val:safe?O[key]?O[key]=val:hide(O,key,val):(delete O[key],hide(O,key,val)))})(Function.prototype,"toString",function toString(){return"function"==typeof this&&this[SRC]||$toString.call(this)})},{"./_core":73,"./_global":90,"./_has":91,"./_hide":92,"./_uid":171}],142:[function(require,module,exports){module.exports=function(regExp,replace){var replacer=replace===Object(replace)?function(part){return replace[part]}:replace;return function(it){return String(it).replace(regExp,replacer)}}},{}],143:[function(require,module,exports){module.exports=Object.is||function is(x,y){return x===y?0!==x||1/x==1/y:x!=x&&y!=y}},{}],144:[function(require,module,exports){"use strict";var $export=require("./_export"),aFunction=require("./_a-function"),ctx=require("./_ctx"),forOf=require("./_for-of");module.exports=function(COLLECTION){$export($export.S,COLLECTION,{from:function from(source){var mapping,A,n,cb,mapFn=arguments[1];return aFunction(this),(mapping=void 0!==mapFn)&&aFunction(mapFn),null==source?new this:(A=[],mapping?(n=0,cb=ctx(mapFn,arguments[2],2),forOf(source,!1,function(nextItem){A.push(cb(nextItem,n++))})):forOf(source,!1,A.push,A),new this(A))}})}},{"./_a-function":53,"./_ctx":75,"./_export":83,"./_for-of":89}],145:[function(require,module,exports){"use strict";var $export=require("./_export");module.exports=function(COLLECTION){$export($export.S,COLLECTION,{of:function of(){for(var length=arguments.length,A=new Array(length);length--;)A[length]=arguments[length];return new this(A)}})}},{"./_export":83}],146:[function(require,module,exports){var isObject=require("./_is-object"),anObject=require("./_an-object"),check=function(O,proto){if(anObject(O),!isObject(proto)&&null!==proto)throw TypeError(proto+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(test,buggy,set){try{(set=require("./_ctx")(Function.call,require("./_object-gopd").f(Object.prototype,"__proto__").set,2))(test,[]),buggy=!(test instanceof Array)}catch(e){buggy=!0}return function setPrototypeOf(O,proto){return check(O,proto),buggy?O.__proto__=proto:set(O,proto),O}}({},!1):void 0),check:check}},{"./_an-object":57,"./_ctx":75,"./_is-object":101,"./_object-gopd":124}],147:[function(require,module,exports){"use strict";var global=require("./_global"),dP=require("./_object-dp"),DESCRIPTORS=require("./_descriptors"),SPECIES=require("./_wks")("species");module.exports=function(KEY){var C=global[KEY];DESCRIPTORS&&C&&!C[SPECIES]&&dP.f(C,SPECIES,{configurable:!0,get:function(){return this}})}},{"./_descriptors":79,"./_global":90,"./_object-dp":121,"./_wks":176}],148:[function(require,module,exports){var def=require("./_object-dp").f,has=require("./_has"),TAG=require("./_wks")("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},{"./_has":91,"./_object-dp":121,"./_wks":176}],149:[function(require,module,exports){var shared=require("./_shared")("keys"),uid=require("./_uid");module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},{"./_shared":150,"./_uid":171}],150:[function(require,module,exports){var core=require("./_core"),global=require("./_global"),store=global["__core-js_shared__"]||(global["__core-js_shared__"]={});(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:core.version,mode:require("./_library")?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},{"./_core":73,"./_global":90,"./_library":109}],151:[function(require,module,exports){var anObject=require("./_an-object"),aFunction=require("./_a-function"),SPECIES=require("./_wks")("species");module.exports=function(O,D){var S,C=anObject(O).constructor;return void 0===C||null==(S=anObject(C)[SPECIES])?D:aFunction(S)}},{"./_a-function":53,"./_an-object":57,"./_wks":176}],152:[function(require,module,exports){"use strict";var fails=require("./_fails");module.exports=function(method,arg){return!!method&&fails(function(){arg?method.call(null,function(){},1):method.call(null)})}},{"./_fails":85}],153:[function(require,module,exports){var toInteger=require("./_to-integer"),defined=require("./_defined");module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String(defined(that)),i=toInteger(pos),l=s.length;return i<0||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i))<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):b-56320+(a-55296<<10)+65536}}},{"./_defined":78,"./_to-integer":163}],154:[function(require,module,exports){var isRegExp=require("./_is-regexp"),defined=require("./_defined");module.exports=function(that,searchString,NAME){if(isRegExp(searchString))throw TypeError("String#"+NAME+" doesn't accept regex!");return String(defined(that))}},{"./_defined":78,"./_is-regexp":102}],155:[function(require,module,exports){var $export=require("./_export"),fails=require("./_fails"),defined=require("./_defined"),quot=/"/g,createHTML=function(string,tag,attribute,value){var S=String(defined(string)),p1="<"+tag;return""!==attribute&&(p1+=" "+attribute+'="'+String(value).replace(quot,"&quot;")+'"'),p1+">"+S+"</"+tag+">"};module.exports=function(NAME,exec){var O={};O[NAME]=exec(createHTML),$export($export.P+$export.F*fails(function(){var test=""[NAME]('"');return test!==test.toLowerCase()||test.split('"').length>3}),"String",O)}},{"./_defined":78,"./_export":83,"./_fails":85}],156:[function(require,module,exports){var toLength=require("./_to-length"),repeat=require("./_string-repeat"),defined=require("./_defined");module.exports=function(that,maxLength,fillString,left){var S=String(defined(that)),stringLength=S.length,fillStr=void 0===fillString?" ":String(fillString),intMaxLength=toLength(maxLength);if(intMaxLength<=stringLength||""==fillStr)return S;var fillLen=intMaxLength-stringLength,stringFiller=repeat.call(fillStr,Math.ceil(fillLen/fillStr.length));return stringFiller.length>fillLen&&(stringFiller=stringFiller.slice(0,fillLen)),left?stringFiller+S:S+stringFiller}},{"./_defined":78,"./_string-repeat":157,"./_to-length":165}],157:[function(require,module,exports){"use strict";var toInteger=require("./_to-integer"),defined=require("./_defined");module.exports=function repeat(count){var str=String(defined(this)),res="",n=toInteger(count);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(str+=str))1&n&&(res+=str);return res}},{"./_defined":78,"./_to-integer":163}],158:[function(require,module,exports){var $export=require("./_export"),defined=require("./_defined"),fails=require("./_fails"),spaces=require("./_string-ws"),space="["+spaces+"]",ltrim=RegExp("^"+space+space+"*"),rtrim=RegExp(space+space+"*$"),exporter=function(KEY,exec,ALIAS){var exp={},FORCE=fails(function(){return!!spaces[KEY]()||""!=""[KEY]()}),fn=exp[KEY]=FORCE?exec(trim):spaces[KEY];ALIAS&&(exp[ALIAS]=fn),$export($export.P+$export.F*FORCE,"String",exp)},trim=exporter.trim=function(string,TYPE){return string=String(defined(string)),1&TYPE&&(string=string.replace(ltrim,"")),2&TYPE&&(string=string.replace(rtrim,"")),string};module.exports=exporter},{"./_defined":78,"./_export":83,"./_fails":85,"./_string-ws":159}],159:[function(require,module,exports){module.exports="\t\n\v\f\r \u2028\u2029\ufeff"},{}],160:[function(require,module,exports){var defer,channel,port,ctx=require("./_ctx"),invoke=require("./_invoke"),html=require("./_html"),cel=require("./_dom-create"),global=require("./_global"),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,Dispatch=global.Dispatch,counter=0,queue={},run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},listener=function(event){run.call(event.data)};setTask&&clearTask||(setTask=function setImmediate(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){invoke("function"==typeof fn?fn:Function(fn),args)},defer(counter),counter},clearTask=function clearImmediate(id){delete queue[id]},"process"==require("./_cof")(process)?defer=function(id){process.nextTick(ctx(run,id,1))}:Dispatch&&Dispatch.now?defer=function(id){Dispatch.now(ctx(run,id,1))}:MessageChannel?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=listener,defer=ctx(port.postMessage,port,1)):global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(id){global.postMessage(id+"","*")},global.addEventListener("message",listener,!1)):defer="onreadystatechange"in cel("script")?function(id){html.appendChild(cel("script")).onreadystatechange=function(){html.removeChild(this),run.call(id)}}:function(id){setTimeout(ctx(run,id,1),0)}),module.exports={set:setTask,clear:clearTask}},{"./_cof":68,"./_ctx":75,"./_dom-create":80,"./_global":90,"./_html":93,"./_invoke":96}],161:[function(require,module,exports){var toInteger=require("./_to-integer"),max=Math.max,min=Math.min;module.exports=function(index,length){return(index=toInteger(index))<0?max(index+length,0):min(index,length)}},{"./_to-integer":163}],162:[function(require,module,exports){var toInteger=require("./_to-integer"),toLength=require("./_to-length");module.exports=function(it){if(void 0===it)return 0;var number=toInteger(it),length=toLength(number);if(number!==length)throw RangeError("Wrong length!");return length}},{"./_to-integer":163,"./_to-length":165}],163:[function(require,module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},{}],164:[function(require,module,exports){var IObject=require("./_iobject"),defined=require("./_defined");module.exports=function(it){return IObject(defined(it))}},{"./_defined":78,"./_iobject":97}],165:[function(require,module,exports){var toInteger=require("./_to-integer"),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},{"./_to-integer":163}],166:[function(require,module,exports){var defined=require("./_defined");module.exports=function(it){return Object(defined(it))}},{"./_defined":78}],167:[function(require,module,exports){var isObject=require("./_is-object");module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":101}],168:[function(require,module,exports){"use strict";if(require("./_descriptors")){var LIBRARY=require("./_library"),global=require("./_global"),fails=require("./_fails"),$export=require("./_export"),$typed=require("./_typed"),$buffer=require("./_typed-buffer"),ctx=require("./_ctx"),anInstance=require("./_an-instance"),propertyDesc=require("./_property-desc"),hide=require("./_hide"),redefineAll=require("./_redefine-all"),toInteger=require("./_to-integer"),toLength=require("./_to-length"),toIndex=require("./_to-index"),toAbsoluteIndex=require("./_to-absolute-index"),toPrimitive=require("./_to-primitive"),has=require("./_has"),classof=require("./_classof"),isObject=require("./_is-object"),toObject=require("./_to-object"),isArrayIter=require("./_is-array-iter"),create=require("./_object-create"),getPrototypeOf=require("./_object-gpo"),gOPN=require("./_object-gopn").f,getIterFn=require("./core.get-iterator-method"),uid=require("./_uid"),wks=require("./_wks"),createArrayMethod=require("./_array-methods"),createArrayIncludes=require("./_array-includes"),speciesConstructor=require("./_species-constructor"),ArrayIterators=require("./es6.array.iterator"),Iterators=require("./_iterators"),$iterDetect=require("./_iter-detect"),setSpecies=require("./_set-species"),arrayFill=require("./_array-fill"),arrayCopyWithin=require("./_array-copy-within"),$DP=require("./_object-dp"),$GOPD=require("./_object-gopd"),dP=$DP.f,gOPD=$GOPD.f,RangeError=global.RangeError,TypeError=global.TypeError,Uint8Array=global.Uint8Array,ArrayProto=Array.prototype,$ArrayBuffer=$buffer.ArrayBuffer,$DataView=$buffer.DataView,arrayForEach=createArrayMethod(0),arrayFilter=createArrayMethod(2),arraySome=createArrayMethod(3),arrayEvery=createArrayMethod(4),arrayFind=createArrayMethod(5),arrayFindIndex=createArrayMethod(6),arrayIncludes=createArrayIncludes(!0),arrayIndexOf=createArrayIncludes(!1),arrayValues=ArrayIterators.values,arrayKeys=ArrayIterators.keys,arrayEntries=ArrayIterators.entries,arrayLastIndexOf=ArrayProto.lastIndexOf,arrayReduce=ArrayProto.reduce,arrayReduceRight=ArrayProto.reduceRight,arrayJoin=ArrayProto.join,arraySort=ArrayProto.sort,arraySlice=ArrayProto.slice,arrayToString=ArrayProto.toString,arrayToLocaleString=ArrayProto.toLocaleString,ITERATOR=wks("iterator"),TAG=wks("toStringTag"),TYPED_CONSTRUCTOR=uid("typed_constructor"),DEF_CONSTRUCTOR=uid("def_constructor"),ALL_CONSTRUCTORS=$typed.CONSTR,TYPED_ARRAY=$typed.TYPED,VIEW=$typed.VIEW,$map=createArrayMethod(1,function(O,length){return allocate(speciesConstructor(O,O[DEF_CONSTRUCTOR]),length)}),LITTLE_ENDIAN=fails(function(){return 1===new Uint8Array(new Uint16Array([1]).buffer)[0]}),FORCED_SET=!!Uint8Array&&!!Uint8Array.prototype.set&&fails(function(){new Uint8Array(1).set({})}),toOffset=function(it,BYTES){var offset=toInteger(it);if(offset<0||offset%BYTES)throw RangeError("Wrong offset!");return offset},validate=function(it){if(isObject(it)&&TYPED_ARRAY in it)return it;throw TypeError(it+" is not a typed array!")},allocate=function(C,length){if(!(isObject(C)&&TYPED_CONSTRUCTOR in C))throw TypeError("It is not a typed array constructor!");return new C(length)},speciesFromList=function(O,list){return fromList(speciesConstructor(O,O[DEF_CONSTRUCTOR]),list)},fromList=function(C,list){for(var index=0,length=list.length,result=allocate(C,length);length>index;)result[index]=list[index++];return result},addGetter=function(it,key,internal){dP(it,key,{get:function(){return this._d[internal]}})},$from=function from(source){var i,length,values,result,step,iterator,O=toObject(source),aLen=arguments.length,mapfn=aLen>1?arguments[1]:void 0,mapping=void 0!==mapfn,iterFn=getIterFn(O);if(null!=iterFn&&!isArrayIter(iterFn)){for(iterator=iterFn.call(O),values=[],i=0;!(step=iterator.next()).done;i++)values.push(step.value);O=values}for(mapping&&aLen>2&&(mapfn=ctx(mapfn,arguments[2],2)),i=0,length=toLength(O.length),result=allocate(this,length);length>i;i++)result[i]=mapping?mapfn(O[i],i):O[i];return result},$of=function of(){for(var index=0,length=arguments.length,result=allocate(this,length);length>index;)result[index]=arguments[index++];return result},TO_LOCALE_BUG=!!Uint8Array&&fails(function(){arrayToLocaleString.call(new Uint8Array(1))}),$toLocaleString=function toLocaleString(){return arrayToLocaleString.apply(TO_LOCALE_BUG?arraySlice.call(validate(this)):validate(this),arguments)},proto={copyWithin:function copyWithin(target,start){return arrayCopyWithin.call(validate(this),target,start,arguments.length>2?arguments[2]:void 0)},every:function every(callbackfn){return arrayEvery(validate(this),callbackfn,arguments.length>1?arguments[1]:void 0)},fill:function fill(value){return arrayFill.apply(validate(this),arguments)},filter:function filter(callbackfn){return speciesFromList(this,arrayFilter(validate(this),callbackfn,arguments.length>1?arguments[1]:void 0))},find:function find(predicate){return arrayFind(validate(this),predicate,arguments.length>1?arguments[1]:void 0)},findIndex:function findIndex(predicate){return arrayFindIndex(validate(this),predicate,arguments.length>1?arguments[1]:void 0)},forEach:function forEach(callbackfn){arrayForEach(validate(this),callbackfn,arguments.length>1?arguments[1]:void 0)},indexOf:function indexOf(searchElement){return arrayIndexOf(validate(this),searchElement,arguments.length>1?arguments[1]:void 0)},includes:function includes(searchElement){return arrayIncludes(validate(this),searchElement,arguments.length>1?arguments[1]:void 0)},join:function join(separator){return arrayJoin.apply(validate(this),arguments)},lastIndexOf:function lastIndexOf(searchElement){return arrayLastIndexOf.apply(validate(this),arguments)},map:function map(mapfn){return $map(validate(this),mapfn,arguments.length>1?arguments[1]:void 0)},reduce:function reduce(callbackfn){return arrayReduce.apply(validate(this),arguments)},reduceRight:function reduceRight(callbackfn){return arrayReduceRight.apply(validate(this),arguments)},reverse:function reverse(){for(var value,length=validate(this).length,middle=Math.floor(length/2),index=0;index<middle;)value=this[index],this[index++]=this[--length],this[length]=value;return this},some:function some(callbackfn){return arraySome(validate(this),callbackfn,arguments.length>1?arguments[1]:void 0)},sort:function sort(comparefn){return arraySort.call(validate(this),comparefn)},subarray:function subarray(begin,end){var O=validate(this),length=O.length,$begin=toAbsoluteIndex(begin,length);return new(speciesConstructor(O,O[DEF_CONSTRUCTOR]))(O.buffer,O.byteOffset+$begin*O.BYTES_PER_ELEMENT,toLength((void 0===end?length:toAbsoluteIndex(end,length))-$begin))}},$slice=function slice(start,end){return speciesFromList(this,arraySlice.call(validate(this),start,end))},$set=function set(arrayLike){validate(this);var offset=toOffset(arguments[1],1),length=this.length,src=toObject(arrayLike),len=toLength(src.length),index=0;if(len+offset>length)throw RangeError("Wrong length!");for(;index<len;)this[offset+index]=src[index++]},$iterators={entries:function entries(){return arrayEntries.call(validate(this))},keys:function keys(){return arrayKeys.call(validate(this))},values:function values(){return arrayValues.call(validate(this))}},isTAIndex=function(target,key){return isObject(target)&&target[TYPED_ARRAY]&&"symbol"!=typeof key&&key in target&&String(+key)==String(key)},$getDesc=function getOwnPropertyDescriptor(target,key){return isTAIndex(target,key=toPrimitive(key,!0))?propertyDesc(2,target[key]):gOPD(target,key)},$setDesc=function defineProperty(target,key,desc){return!(isTAIndex(target,key=toPrimitive(key,!0))&&isObject(desc)&&has(desc,"value"))||has(desc,"get")||has(desc,"set")||desc.configurable||has(desc,"writable")&&!desc.writable||has(desc,"enumerable")&&!desc.enumerable?dP(target,key,desc):(target[key]=desc.value,target)};ALL_CONSTRUCTORS||($GOPD.f=$getDesc,$DP.f=$setDesc),$export($export.S+$export.F*!ALL_CONSTRUCTORS,"Object",{getOwnPropertyDescriptor:$getDesc,defineProperty:$setDesc}),fails(function(){arrayToString.call({})})&&(arrayToString=arrayToLocaleString=function toString(){return arrayJoin.call(this)});var $TypedArrayPrototype$=redefineAll({},proto);redefineAll($TypedArrayPrototype$,$iterators),hide($TypedArrayPrototype$,ITERATOR,$iterators.values),redefineAll($TypedArrayPrototype$,{slice:$slice,set:$set,constructor:function(){},toString:arrayToString,toLocaleString:$toLocaleString}),addGetter($TypedArrayPrototype$,"buffer","b"),addGetter($TypedArrayPrototype$,"byteOffset","o"),addGetter($TypedArrayPrototype$,"byteLength","l"),addGetter($TypedArrayPrototype$,"length","e"),dP($TypedArrayPrototype$,TAG,{get:function(){return this[TYPED_ARRAY]}}),module.exports=function(KEY,BYTES,wrapper,CLAMPED){var NAME=KEY+((CLAMPED=!!CLAMPED)?"Clamped":"")+"Array",GETTER="get"+KEY,SETTER="set"+KEY,TypedArray=global[NAME],Base=TypedArray||{},TAC=TypedArray&&getPrototypeOf(TypedArray),FORCED=!TypedArray||!$typed.ABV,O={},TypedArrayPrototype=TypedArray&&TypedArray.prototype,addElement=function(that,index){dP(that,index,{get:function(){return function(that,index){var data=that._d;return data.v[GETTER](index*BYTES+data.o,LITTLE_ENDIAN)}(this,index)},set:function(value){return function(that,index,value){var data=that._d;CLAMPED&&(value=(value=Math.round(value))<0?0:value>255?255:255&value),data.v[SETTER](index*BYTES+data.o,value,LITTLE_ENDIAN)}(this,index,value)},enumerable:!0})};FORCED?(TypedArray=wrapper(function(that,data,$offset,$length){anInstance(that,TypedArray,NAME,"_d");var buffer,byteLength,length,klass,index=0,offset=0;if(isObject(data)){if(!(data instanceof $ArrayBuffer||"ArrayBuffer"==(klass=classof(data))||"SharedArrayBuffer"==klass))return TYPED_ARRAY in data?fromList(TypedArray,data):$from.call(TypedArray,data);buffer=data,offset=toOffset($offset,BYTES);var $len=data.byteLength;if(void 0===$length){if($len%BYTES)throw RangeError("Wrong length!");if((byteLength=$len-offset)<0)throw RangeError("Wrong length!")}else if((byteLength=toLength($length)*BYTES)+offset>$len)throw RangeError("Wrong length!");length=byteLength/BYTES}else length=toIndex(data),buffer=new $ArrayBuffer(byteLength=length*BYTES);for(hide(that,"_d",{b:buffer,o:offset,l:byteLength,e:length,v:new $DataView(buffer)});index<length;)addElement(that,index++)}),TypedArrayPrototype=TypedArray.prototype=create($TypedArrayPrototype$),hide(TypedArrayPrototype,"constructor",TypedArray)):fails(function(){TypedArray(1)})&&fails(function(){new TypedArray(-1)})&&$iterDetect(function(iter){new TypedArray,new TypedArray(null),new TypedArray(1.5),new TypedArray(iter)},!0)||(TypedArray=wrapper(function(that,data,$offset,$length){var klass;return anInstance(that,TypedArray,NAME),isObject(data)?data instanceof $ArrayBuffer||"ArrayBuffer"==(klass=classof(data))||"SharedArrayBuffer"==klass?void 0!==$length?new Base(data,toOffset($offset,BYTES),$length):void 0!==$offset?new Base(data,toOffset($offset,BYTES)):new Base(data):TYPED_ARRAY in data?fromList(TypedArray,data):$from.call(TypedArray,data):new Base(toIndex(data))}),arrayForEach(TAC!==Function.prototype?gOPN(Base).concat(gOPN(TAC)):gOPN(Base),function(key){key in TypedArray||hide(TypedArray,key,Base[key])}),TypedArray.prototype=TypedArrayPrototype,LIBRARY||(TypedArrayPrototype.constructor=TypedArray));var $nativeIterator=TypedArrayPrototype[ITERATOR],CORRECT_ITER_NAME=!!$nativeIterator&&("values"==$nativeIterator.name||null==$nativeIterator.name),$iterator=$iterators.values;hide(TypedArray,TYPED_CONSTRUCTOR,!0),hide(TypedArrayPrototype,TYPED_ARRAY,NAME),hide(TypedArrayPrototype,VIEW,!0),hide(TypedArrayPrototype,DEF_CONSTRUCTOR,TypedArray),(CLAMPED?new TypedArray(1)[TAG]==NAME:TAG in TypedArrayPrototype)||dP(TypedArrayPrototype,TAG,{get:function(){return NAME}}),O[NAME]=TypedArray,$export($export.G+$export.W+$export.F*(TypedArray!=Base),O),$export($export.S,NAME,{BYTES_PER_ELEMENT:BYTES}),$export($export.S+$export.F*fails(function(){Base.of.call(TypedArray,1)}),NAME,{from:$from,of:$of}),"BYTES_PER_ELEMENT"in TypedArrayPrototype||hide(TypedArrayPrototype,"BYTES_PER_ELEMENT",BYTES),$export($export.P,NAME,proto),setSpecies(NAME),$export($export.P+$export.F*FORCED_SET,NAME,{set:$set}),$export($export.P+$export.F*!CORRECT_ITER_NAME,NAME,$iterators),LIBRARY||TypedArrayPrototype.toString==arrayToString||(TypedArrayPrototype.toString=arrayToString),$export($export.P+$export.F*fails(function(){new TypedArray(1).slice()}),NAME,{slice:$slice}),$export($export.P+$export.F*(fails(function(){return[1,2].toLocaleString()!=new TypedArray([1,2]).toLocaleString()})||!fails(function(){TypedArrayPrototype.toLocaleString.call([1,2])})),NAME,{toLocaleString:$toLocaleString}),Iterators[NAME]=CORRECT_ITER_NAME?$nativeIterator:$iterator,LIBRARY||CORRECT_ITER_NAME||hide(TypedArrayPrototype,ITERATOR,$iterator)}}else module.exports=function(){}},{"./_an-instance":56,"./_array-copy-within":58,"./_array-fill":59,"./_array-includes":61,"./_array-methods":62,"./_classof":67,"./_ctx":75,"./_descriptors":79,"./_export":83,"./_fails":85,"./_global":90,"./_has":91,"./_hide":92,"./_is-array-iter":98,"./_is-object":101,"./_iter-detect":106,"./_iterators":108,"./_library":109,"./_object-create":120,"./_object-dp":121,"./_object-gopd":124,"./_object-gopn":126,"./_object-gpo":128,"./_property-desc":139,"./_redefine-all":140,"./_set-species":147,"./_species-constructor":151,"./_to-absolute-index":161,"./_to-index":162,"./_to-integer":163,"./_to-length":165,"./_to-object":166,"./_to-primitive":167,"./_typed":170,"./_typed-buffer":169,"./_uid":171,"./_wks":176,"./core.get-iterator-method":177,"./es6.array.iterator":189}],169:[function(require,module,exports){"use strict";var global=require("./_global"),DESCRIPTORS=require("./_descriptors"),LIBRARY=require("./_library"),$typed=require("./_typed"),hide=require("./_hide"),redefineAll=require("./_redefine-all"),fails=require("./_fails"),anInstance=require("./_an-instance"),toInteger=require("./_to-integer"),toLength=require("./_to-length"),toIndex=require("./_to-index"),gOPN=require("./_object-gopn").f,dP=require("./_object-dp").f,arrayFill=require("./_array-fill"),setToStringTag=require("./_set-to-string-tag"),PROTOTYPE="prototype",WRONG_INDEX="Wrong index!",$ArrayBuffer=global.ArrayBuffer,$DataView=global.DataView,Math=global.Math,RangeError=global.RangeError,Infinity=global.Infinity,BaseBuffer=$ArrayBuffer,abs=Math.abs,pow=Math.pow,floor=Math.floor,log=Math.log,LN2=Math.LN2,$BUFFER=DESCRIPTORS?"_b":"buffer",$LENGTH=DESCRIPTORS?"_l":"byteLength",$OFFSET=DESCRIPTORS?"_o":"byteOffset";function packIEEE754(value,mLen,nBytes){var e,m,c,buffer=new Array(nBytes),eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?pow(2,-24)-pow(2,-77):0,i=0,s=value<0||0===value&&1/value<0?1:0;for((value=abs(value))!=value||value===Infinity?(m=value!=value?1:0,e=eMax):(e=floor(log(value)/LN2),value*(c=pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*pow(2,mLen),e+=eBias):(m=value*pow(2,eBias-1)*pow(2,mLen),e=0));mLen>=8;buffer[i++]=255&m,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[i++]=255&e,e/=256,eLen-=8);return buffer[--i]|=128*s,buffer}function unpackIEEE754(buffer,mLen,nBytes){var m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=eLen-7,i=nBytes-1,s=buffer[i--],e=127&s;for(s>>=7;nBits>0;e=256*e+buffer[i],i--,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[i],i--,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:s?-Infinity:Infinity;m+=pow(2,mLen),e-=eBias}return(s?-1:1)*m*pow(2,e-mLen)}function unpackI32(bytes){return bytes[3]<<24|bytes[2]<<16|bytes[1]<<8|bytes[0]}function packI8(it){return[255&it]}function packI16(it){return[255&it,it>>8&255]}function packI32(it){return[255&it,it>>8&255,it>>16&255,it>>24&255]}function packF64(it){return packIEEE754(it,52,8)}function packF32(it){return packIEEE754(it,23,4)}function addGetter(C,key,internal){dP(C[PROTOTYPE],key,{get:function(){return this[internal]}})}function get(view,bytes,index,isLittleEndian){var intIndex=toIndex(+index);if(intIndex+bytes>view[$LENGTH])throw RangeError(WRONG_INDEX);var store=view[$BUFFER]._b,start=intIndex+view[$OFFSET],pack=store.slice(start,start+bytes);return isLittleEndian?pack:pack.reverse()}function set(view,bytes,index,conversion,value,isLittleEndian){var intIndex=toIndex(+index);if(intIndex+bytes>view[$LENGTH])throw RangeError(WRONG_INDEX);for(var store=view[$BUFFER]._b,start=intIndex+view[$OFFSET],pack=conversion(+value),i=0;i<bytes;i++)store[start+i]=pack[isLittleEndian?i:bytes-i-1]}if($typed.ABV){if(!fails(function(){$ArrayBuffer(1)})||!fails(function(){new $ArrayBuffer(-1)})||fails(function(){return new $ArrayBuffer,new $ArrayBuffer(1.5),new $ArrayBuffer(NaN),"ArrayBuffer"!=$ArrayBuffer.name})){for(var key,ArrayBufferProto=($ArrayBuffer=function ArrayBuffer(length){return anInstance(this,$ArrayBuffer),new BaseBuffer(toIndex(length))})[PROTOTYPE]=BaseBuffer[PROTOTYPE],keys=gOPN(BaseBuffer),j=0;keys.length>j;)(key=keys[j++])in $ArrayBuffer||hide($ArrayBuffer,key,BaseBuffer[key]);LIBRARY||(ArrayBufferProto.constructor=$ArrayBuffer)}var view=new $DataView(new $ArrayBuffer(2)),$setInt8=$DataView[PROTOTYPE].setInt8;view.setInt8(0,2147483648),view.setInt8(1,2147483649),!view.getInt8(0)&&view.getInt8(1)||redefineAll($DataView[PROTOTYPE],{setInt8:function setInt8(byteOffset,value){$setInt8.call(this,byteOffset,value<<24>>24)},setUint8:function setUint8(byteOffset,value){$setInt8.call(this,byteOffset,value<<24>>24)}},!0)}else $ArrayBuffer=function ArrayBuffer(length){anInstance(this,$ArrayBuffer,"ArrayBuffer");var byteLength=toIndex(length);this._b=arrayFill.call(new Array(byteLength),0),this[$LENGTH]=byteLength},$DataView=function DataView(buffer,byteOffset,byteLength){anInstance(this,$DataView,"DataView"),anInstance(buffer,$ArrayBuffer,"DataView");var bufferLength=buffer[$LENGTH],offset=toInteger(byteOffset);if(offset<0||offset>bufferLength)throw RangeError("Wrong offset!");if(offset+(byteLength=void 0===byteLength?bufferLength-offset:toLength(byteLength))>bufferLength)throw RangeError("Wrong length!");this[$BUFFER]=buffer,this[$OFFSET]=offset,this[$LENGTH]=byteLength},DESCRIPTORS&&(addGetter($ArrayBuffer,"byteLength","_l"),addGetter($DataView,"buffer","_b"),addGetter($DataView,"byteLength","_l"),addGetter($DataView,"byteOffset","_o")),redefineAll($DataView[PROTOTYPE],{getInt8:function getInt8(byteOffset){return get(this,1,byteOffset)[0]<<24>>24},getUint8:function getUint8(byteOffset){return get(this,1,byteOffset)[0]},getInt16:function getInt16(byteOffset){var bytes=get(this,2,byteOffset,arguments[1]);return(bytes[1]<<8|bytes[0])<<16>>16},getUint16:function getUint16(byteOffset){var bytes=get(this,2,byteOffset,arguments[1]);return bytes[1]<<8|bytes[0]},getInt32:function getInt32(byteOffset){return unpackI32(get(this,4,byteOffset,arguments[1]))},getUint32:function getUint32(byteOffset){return unpackI32(get(this,4,byteOffset,arguments[1]))>>>0},getFloat32:function getFloat32(byteOffset){return unpackIEEE754(get(this,4,byteOffset,arguments[1]),23,4)},getFloat64:function getFloat64(byteOffset){return unpackIEEE754(get(this,8,byteOffset,arguments[1]),52,8)},setInt8:function setInt8(byteOffset,value){set(this,1,byteOffset,packI8,value)},setUint8:function setUint8(byteOffset,value){set(this,1,byteOffset,packI8,value)},setInt16:function setInt16(byteOffset,value){set(this,2,byteOffset,packI16,value,arguments[2])},setUint16:function setUint16(byteOffset,value){set(this,2,byteOffset,packI16,value,arguments[2])},setInt32:function setInt32(byteOffset,value){set(this,4,byteOffset,packI32,value,arguments[2])},setUint32:function setUint32(byteOffset,value){set(this,4,byteOffset,packI32,value,arguments[2])},setFloat32:function setFloat32(byteOffset,value){set(this,4,byteOffset,packF32,value,arguments[2])},setFloat64:function setFloat64(byteOffset,value){set(this,8,byteOffset,packF64,value,arguments[2])}});setToStringTag($ArrayBuffer,"ArrayBuffer"),setToStringTag($DataView,"DataView"),hide($DataView[PROTOTYPE],$typed.VIEW,!0),exports.ArrayBuffer=$ArrayBuffer,exports.DataView=$DataView},{"./_an-instance":56,"./_array-fill":59,"./_descriptors":79,"./_fails":85,"./_global":90,"./_hide":92,"./_library":109,"./_object-dp":121,"./_object-gopn":126,"./_redefine-all":140,"./_set-to-string-tag":148,"./_to-index":162,"./_to-integer":163,"./_to-length":165,"./_typed":170}],170:[function(require,module,exports){for(var Typed,global=require("./_global"),hide=require("./_hide"),uid=require("./_uid"),TYPED=uid("typed_array"),VIEW=uid("view"),ABV=!(!global.ArrayBuffer||!global.DataView),CONSTR=ABV,i=0,TypedArrayConstructors="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");i<9;)(Typed=global[TypedArrayConstructors[i++]])?(hide(Typed.prototype,TYPED,!0),hide(Typed.prototype,VIEW,!0)):CONSTR=!1;module.exports={ABV:ABV,CONSTR:CONSTR,TYPED:TYPED,VIEW:VIEW}},{"./_global":90,"./_hide":92,"./_uid":171}],171:[function(require,module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}},{}],172:[function(require,module,exports){var navigator=require("./_global").navigator;module.exports=navigator&&navigator.userAgent||""},{"./_global":90}],173:[function(require,module,exports){var isObject=require("./_is-object");module.exports=function(it,TYPE){if(!isObject(it)||it._t!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required!");return it}},{"./_is-object":101}],174:[function(require,module,exports){var global=require("./_global"),core=require("./_core"),LIBRARY=require("./_library"),wksExt=require("./_wks-ext"),defineProperty=require("./_object-dp").f;module.exports=function(name){var $Symbol=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});"_"==name.charAt(0)||name in $Symbol||defineProperty($Symbol,name,{value:wksExt.f(name)})}},{"./_core":73,"./_global":90,"./_library":109,"./_object-dp":121,"./_wks-ext":175}],175:[function(require,module,exports){exports.f=require("./_wks")},{"./_wks":176}],176:[function(require,module,exports){var store=require("./_shared")("wks"),uid=require("./_uid"),Symbol=require("./_global").Symbol,USE_SYMBOL="function"==typeof Symbol;(module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))}).store=store},{"./_global":90,"./_shared":150,"./_uid":171}],177:[function(require,module,exports){var classof=require("./_classof"),ITERATOR=require("./_wks")("iterator"),Iterators=require("./_iterators");module.exports=require("./_core").getIteratorMethod=function(it){if(null!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},{"./_classof":67,"./_core":73,"./_iterators":108,"./_wks":176}],178:[function(require,module,exports){var $export=require("./_export"),$re=require("./_replacer")(/[\\^$*+?.()|[\]{}]/g,"\\$&");$export($export.S,"RegExp",{escape:function escape(it){return $re(it)}})},{"./_export":83,"./_replacer":142}],179:[function(require,module,exports){var $export=require("./_export");$export($export.P,"Array",{copyWithin:require("./_array-copy-within")}),require("./_add-to-unscopables")("copyWithin")},{"./_add-to-unscopables":55,"./_array-copy-within":58,"./_export":83}],180:[function(require,module,exports){"use strict";var $export=require("./_export"),$every=require("./_array-methods")(4);$export($export.P+$export.F*!require("./_strict-method")([].every,!0),"Array",{every:function every(callbackfn){return $every(this,callbackfn,arguments[1])}})},{"./_array-methods":62,"./_export":83,"./_strict-method":152}],181:[function(require,module,exports){var $export=require("./_export");$export($export.P,"Array",{fill:require("./_array-fill")}),require("./_add-to-unscopables")("fill")},{"./_add-to-unscopables":55,"./_array-fill":59,"./_export":83}],182:[function(require,module,exports){"use strict";var $export=require("./_export"),$filter=require("./_array-methods")(2);$export($export.P+$export.F*!require("./_strict-method")([].filter,!0),"Array",{filter:function filter(callbackfn){return $filter(this,callbackfn,arguments[1])}})},{"./_array-methods":62,"./_export":83,"./_strict-method":152}],183:[function(require,module,exports){"use strict";var $export=require("./_export"),$find=require("./_array-methods")(6),KEY="findIndex",forced=!0;KEY in[]&&Array(1)[KEY](function(){forced=!1}),$export($export.P+$export.F*forced,"Array",{findIndex:function findIndex(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:void 0)}}),require("./_add-to-unscopables")(KEY)},{"./_add-to-unscopables":55,"./_array-methods":62,"./_export":83}],184:[function(require,module,exports){"use strict";var $export=require("./_export"),$find=require("./_array-methods")(5),forced=!0;"find"in[]&&Array(1).find(function(){forced=!1}),$export($export.P+$export.F*forced,"Array",{find:function find(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:void 0)}}),require("./_add-to-unscopables")("find")},{"./_add-to-unscopables":55,"./_array-methods":62,"./_export":83}],185:[function(require,module,exports){"use strict";var $export=require("./_export"),$forEach=require("./_array-methods")(0),STRICT=require("./_strict-method")([].forEach,!0);$export($export.P+$export.F*!STRICT,"Array",{forEach:function forEach(callbackfn){return $forEach(this,callbackfn,arguments[1])}})},{"./_array-methods":62,"./_export":83,"./_strict-method":152}],186:[function(require,module,exports){"use strict";var ctx=require("./_ctx"),$export=require("./_export"),toObject=require("./_to-object"),call=require("./_iter-call"),isArrayIter=require("./_is-array-iter"),toLength=require("./_to-length"),createProperty=require("./_create-property"),getIterFn=require("./core.get-iterator-method");$export($export.S+$export.F*!require("./_iter-detect")(function(iter){Array.from(iter)}),"Array",{from:function from(arrayLike){var length,result,step,iterator,O=toObject(arrayLike),C="function"==typeof this?this:Array,aLen=arguments.length,mapfn=aLen>1?arguments[1]:void 0,mapping=void 0!==mapfn,index=0,iterFn=getIterFn(O);if(mapping&&(mapfn=ctx(mapfn,aLen>2?arguments[2]:void 0,2)),null==iterFn||C==Array&&isArrayIter(iterFn))for(result=new C(length=toLength(O.length));length>index;index++)createProperty(result,index,mapping?mapfn(O[index],index):O[index]);else for(iterator=iterFn.call(O),result=new C;!(step=iterator.next()).done;index++)createProperty(result,index,mapping?call(iterator,mapfn,[step.value,index],!0):step.value);return result.length=index,result}})},{"./_create-property":74,"./_ctx":75,"./_export":83,"./_is-array-iter":98,"./_iter-call":103,"./_iter-detect":106,"./_to-length":165,"./_to-object":166,"./core.get-iterator-method":177}],187:[function(require,module,exports){"use strict";var $export=require("./_export"),$indexOf=require("./_array-includes")(!1),$native=[].indexOf,NEGATIVE_ZERO=!!$native&&1/[1].indexOf(1,-0)<0;$export($export.P+$export.F*(NEGATIVE_ZERO||!require("./_strict-method")($native)),"Array",{indexOf:function indexOf(searchElement){return NEGATIVE_ZERO?$native.apply(this,arguments)||0:$indexOf(this,searchElement,arguments[1])}})},{"./_array-includes":61,"./_export":83,"./_strict-method":152}],188:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Array",{isArray:require("./_is-array")})},{"./_export":83,"./_is-array":99}],189:[function(require,module,exports){"use strict";var addToUnscopables=require("./_add-to-unscopables"),step=require("./_iter-step"),Iterators=require("./_iterators"),toIObject=require("./_to-iobject");module.exports=require("./_iter-define")(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,step(1)):step(0,"keys"==kind?index:"values"==kind?O[index]:[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},{"./_add-to-unscopables":55,"./_iter-define":105,"./_iter-step":107,"./_iterators":108,"./_to-iobject":164}],190:[function(require,module,exports){"use strict";var $export=require("./_export"),toIObject=require("./_to-iobject"),arrayJoin=[].join;$export($export.P+$export.F*(require("./_iobject")!=Object||!require("./_strict-method")(arrayJoin)),"Array",{join:function join(separator){return arrayJoin.call(toIObject(this),void 0===separator?",":separator)}})},{"./_export":83,"./_iobject":97,"./_strict-method":152,"./_to-iobject":164}],191:[function(require,module,exports){"use strict";var $export=require("./_export"),toIObject=require("./_to-iobject"),toInteger=require("./_to-integer"),toLength=require("./_to-length"),$native=[].lastIndexOf,NEGATIVE_ZERO=!!$native&&1/[1].lastIndexOf(1,-0)<0;$export($export.P+$export.F*(NEGATIVE_ZERO||!require("./_strict-method")($native)),"Array",{lastIndexOf:function lastIndexOf(searchElement){if(NEGATIVE_ZERO)return $native.apply(this,arguments)||0;var O=toIObject(this),length=toLength(O.length),index=length-1;for(arguments.length>1&&(index=Math.min(index,toInteger(arguments[1]))),index<0&&(index=length+index);index>=0;index--)if(index in O&&O[index]===searchElement)return index||0;return-1}})},{"./_export":83,"./_strict-method":152,"./_to-integer":163,"./_to-iobject":164,"./_to-length":165}],192:[function(require,module,exports){"use strict";var $export=require("./_export"),$map=require("./_array-methods")(1);$export($export.P+$export.F*!require("./_strict-method")([].map,!0),"Array",{map:function map(callbackfn){return $map(this,callbackfn,arguments[1])}})},{"./_array-methods":62,"./_export":83,"./_strict-method":152}],193:[function(require,module,exports){"use strict";var $export=require("./_export"),createProperty=require("./_create-property");$export($export.S+$export.F*require("./_fails")(function(){function F(){}return!(Array.of.call(F)instanceof F)}),"Array",{of:function of(){for(var index=0,aLen=arguments.length,result=new("function"==typeof this?this:Array)(aLen);aLen>index;)createProperty(result,index,arguments[index++]);return result.length=aLen,result}})},{"./_create-property":74,"./_export":83,"./_fails":85}],194:[function(require,module,exports){"use strict";var $export=require("./_export"),$reduce=require("./_array-reduce");$export($export.P+$export.F*!require("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function reduceRight(callbackfn){return $reduce(this,callbackfn,arguments.length,arguments[1],!0)}})},{"./_array-reduce":63,"./_export":83,"./_strict-method":152}],195:[function(require,module,exports){"use strict";var $export=require("./_export"),$reduce=require("./_array-reduce");$export($export.P+$export.F*!require("./_strict-method")([].reduce,!0),"Array",{reduce:function reduce(callbackfn){return $reduce(this,callbackfn,arguments.length,arguments[1],!1)}})},{"./_array-reduce":63,"./_export":83,"./_strict-method":152}],196:[function(require,module,exports){"use strict";var $export=require("./_export"),html=require("./_html"),cof=require("./_cof"),toAbsoluteIndex=require("./_to-absolute-index"),toLength=require("./_to-length"),arraySlice=[].slice;$export($export.P+$export.F*require("./_fails")(function(){html&&arraySlice.call(html)}),"Array",{slice:function slice(begin,end){var len=toLength(this.length),klass=cof(this);if(end=void 0===end?len:end,"Array"==klass)return arraySlice.call(this,begin,end);for(var start=toAbsoluteIndex(begin,len),upTo=toAbsoluteIndex(end,len),size=toLength(upTo-start),cloned=new Array(size),i=0;i<size;i++)cloned[i]="String"==klass?this.charAt(start+i):this[start+i];return cloned}})},{"./_cof":68,"./_export":83,"./_fails":85,"./_html":93,"./_to-absolute-index":161,"./_to-length":165}],197:[function(require,module,exports){"use strict";var $export=require("./_export"),$some=require("./_array-methods")(3);$export($export.P+$export.F*!require("./_strict-method")([].some,!0),"Array",{some:function some(callbackfn){return $some(this,callbackfn,arguments[1])}})},{"./_array-methods":62,"./_export":83,"./_strict-method":152}],198:[function(require,module,exports){"use strict";var $export=require("./_export"),aFunction=require("./_a-function"),toObject=require("./_to-object"),fails=require("./_fails"),$sort=[].sort,test=[1,2,3];$export($export.P+$export.F*(fails(function(){test.sort(void 0)})||!fails(function(){test.sort(null)})||!require("./_strict-method")($sort)),"Array",{sort:function sort(comparefn){return void 0===comparefn?$sort.call(toObject(this)):$sort.call(toObject(this),aFunction(comparefn))}})},{"./_a-function":53,"./_export":83,"./_fails":85,"./_strict-method":152,"./_to-object":166}],199:[function(require,module,exports){require("./_set-species")("Array")},{"./_set-species":147}],200:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Date",{now:function(){return(new Date).getTime()}})},{"./_export":83}],201:[function(require,module,exports){var $export=require("./_export"),toISOString=require("./_date-to-iso-string");$export($export.P+$export.F*(Date.prototype.toISOString!==toISOString),"Date",{toISOString:toISOString})},{"./_date-to-iso-string":76,"./_export":83}],202:[function(require,module,exports){"use strict";var $export=require("./_export"),toObject=require("./_to-object"),toPrimitive=require("./_to-primitive");$export($export.P+$export.F*require("./_fails")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function toJSON(key){var O=toObject(this),pv=toPrimitive(O);return"number"!=typeof pv||isFinite(pv)?O.toISOString():null}})},{"./_export":83,"./_fails":85,"./_to-object":166,"./_to-primitive":167}],203:[function(require,module,exports){var TO_PRIMITIVE=require("./_wks")("toPrimitive"),proto=Date.prototype;TO_PRIMITIVE in proto||require("./_hide")(proto,TO_PRIMITIVE,require("./_date-to-primitive"))},{"./_date-to-primitive":77,"./_hide":92,"./_wks":176}],204:[function(require,module,exports){var DateProto=Date.prototype,$toString=DateProto.toString,getTime=DateProto.getTime;new Date(NaN)+""!="Invalid Date"&&require("./_redefine")(DateProto,"toString",function toString(){var value=getTime.call(this);return value==value?$toString.call(this):"Invalid Date"})},{"./_redefine":141}],205:[function(require,module,exports){var $export=require("./_export");$export($export.P,"Function",{bind:require("./_bind")})},{"./_bind":66,"./_export":83}],206:[function(require,module,exports){"use strict";var isObject=require("./_is-object"),getPrototypeOf=require("./_object-gpo"),HAS_INSTANCE=require("./_wks")("hasInstance"),FunctionProto=Function.prototype;HAS_INSTANCE in FunctionProto||require("./_object-dp").f(FunctionProto,HAS_INSTANCE,{value:function(O){if("function"!=typeof this||!isObject(O))return!1;if(!isObject(this.prototype))return O instanceof this;for(;O=getPrototypeOf(O);)if(this.prototype===O)return!0;return!1}})},{"./_is-object":101,"./_object-dp":121,"./_object-gpo":128,"./_wks":176}],207:[function(require,module,exports){var dP=require("./_object-dp").f,FProto=Function.prototype,nameRE=/^\s*function ([^ (]*)/;"name"in FProto||require("./_descriptors")&&dP(FProto,"name",{configurable:!0,get:function(){try{return(""+this).match(nameRE)[1]}catch(e){return""}}})},{"./_descriptors":79,"./_object-dp":121}],208:[function(require,module,exports){"use strict";var strong=require("./_collection-strong"),validate=require("./_validate-collection");module.exports=require("./_collection")("Map",function(get){return function Map(){return get(this,arguments.length>0?arguments[0]:void 0)}},{get:function get(key){var entry=strong.getEntry(validate(this,"Map"),key);return entry&&entry.v},set:function set(key,value){return strong.def(validate(this,"Map"),0===key?0:key,value)}},strong,!0)},{"./_collection":72,"./_collection-strong":69,"./_validate-collection":173}],209:[function(require,module,exports){var $export=require("./_export"),log1p=require("./_math-log1p"),sqrt=Math.sqrt,$acosh=Math.acosh;$export($export.S+$export.F*!($acosh&&710==Math.floor($acosh(Number.MAX_VALUE))&&$acosh(1/0)==1/0),"Math",{acosh:function acosh(x){return(x=+x)<1?NaN:x>94906265.62425156?Math.log(x)+Math.LN2:log1p(x-1+sqrt(x-1)*sqrt(x+1))}})},{"./_export":83,"./_math-log1p":112}],210:[function(require,module,exports){var $export=require("./_export"),$asinh=Math.asinh;$export($export.S+$export.F*!($asinh&&1/$asinh(0)>0),"Math",{asinh:function asinh(x){return isFinite(x=+x)&&0!=x?x<0?-asinh(-x):Math.log(x+Math.sqrt(x*x+1)):x}})},{"./_export":83}],211:[function(require,module,exports){var $export=require("./_export"),$atanh=Math.atanh;$export($export.S+$export.F*!($atanh&&1/$atanh(-0)<0),"Math",{atanh:function atanh(x){return 0==(x=+x)?x:Math.log((1+x)/(1-x))/2}})},{"./_export":83}],212:[function(require,module,exports){var $export=require("./_export"),sign=require("./_math-sign");$export($export.S,"Math",{cbrt:function cbrt(x){return sign(x=+x)*Math.pow(Math.abs(x),1/3)}})},{"./_export":83,"./_math-sign":114}],213:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{clz32:function clz32(x){return(x>>>=0)?31-Math.floor(Math.log(x+.5)*Math.LOG2E):32}})},{"./_export":83}],214:[function(require,module,exports){var $export=require("./_export"),exp=Math.exp;$export($export.S,"Math",{cosh:function cosh(x){return(exp(x=+x)+exp(-x))/2}})},{"./_export":83}],215:[function(require,module,exports){var $export=require("./_export"),$expm1=require("./_math-expm1");$export($export.S+$export.F*($expm1!=Math.expm1),"Math",{expm1:$expm1})},{"./_export":83,"./_math-expm1":110}],216:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{fround:require("./_math-fround")})},{"./_export":83,"./_math-fround":111}],217:[function(require,module,exports){var $export=require("./_export"),abs=Math.abs;$export($export.S,"Math",{hypot:function hypot(value1,value2){for(var arg,div,sum=0,i=0,aLen=arguments.length,larg=0;i<aLen;)larg<(arg=abs(arguments[i++]))?(sum=sum*(div=larg/arg)*div+1,larg=arg):sum+=arg>0?(div=arg/larg)*div:arg;return larg===1/0?1/0:larg*Math.sqrt(sum)}})},{"./_export":83}],218:[function(require,module,exports){var $export=require("./_export"),$imul=Math.imul;$export($export.S+$export.F*require("./_fails")(function(){return-5!=$imul(4294967295,5)||2!=$imul.length}),"Math",{imul:function imul(x,y){var xn=+x,yn=+y,xl=65535&xn,yl=65535&yn;return 0|xl*yl+((65535&xn>>>16)*yl+xl*(65535&yn>>>16)<<16>>>0)}})},{"./_export":83,"./_fails":85}],219:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{log10:function log10(x){return Math.log(x)*Math.LOG10E}})},{"./_export":83}],220:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{log1p:require("./_math-log1p")})},{"./_export":83,"./_math-log1p":112}],221:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{log2:function log2(x){return Math.log(x)/Math.LN2}})},{"./_export":83}],222:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{sign:require("./_math-sign")})},{"./_export":83,"./_math-sign":114}],223:[function(require,module,exports){var $export=require("./_export"),expm1=require("./_math-expm1"),exp=Math.exp;$export($export.S+$export.F*require("./_fails")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function sinh(x){return Math.abs(x=+x)<1?(expm1(x)-expm1(-x))/2:(exp(x-1)-exp(-x-1))*(Math.E/2)}})},{"./_export":83,"./_fails":85,"./_math-expm1":110}],224:[function(require,module,exports){var $export=require("./_export"),expm1=require("./_math-expm1"),exp=Math.exp;$export($export.S,"Math",{tanh:function tanh(x){var a=expm1(x=+x),b=expm1(-x);return a==1/0?1:b==1/0?-1:(a-b)/(exp(x)+exp(-x))}})},{"./_export":83,"./_math-expm1":110}],225:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{trunc:function trunc(it){return(it>0?Math.floor:Math.ceil)(it)}})},{"./_export":83}],226:[function(require,module,exports){"use strict";var global=require("./_global"),has=require("./_has"),cof=require("./_cof"),inheritIfRequired=require("./_inherit-if-required"),toPrimitive=require("./_to-primitive"),fails=require("./_fails"),gOPN=require("./_object-gopn").f,gOPD=require("./_object-gopd").f,dP=require("./_object-dp").f,$trim=require("./_string-trim").trim,$Number=global.Number,Base=$Number,proto=$Number.prototype,BROKEN_COF="Number"==cof(require("./_object-create")(proto)),TRIM="trim"in String.prototype,toNumber=function(argument){var it=toPrimitive(argument,!1);if("string"==typeof it&&it.length>2){var third,radix,maxCode,first=(it=TRIM?it.trim():$trim(it,3)).charCodeAt(0);if(43===first||45===first){if(88===(third=it.charCodeAt(2))||120===third)return NaN}else if(48===first){switch(it.charCodeAt(1)){case 66:case 98:radix=2,maxCode=49;break;case 79:case 111:radix=8,maxCode=55;break;default:return+it}for(var code,digits=it.slice(2),i=0,l=digits.length;i<l;i++)if((code=digits.charCodeAt(i))<48||code>maxCode)return NaN;return parseInt(digits,radix)}}return+it};if(!$Number(" 0o1")||!$Number("0b1")||$Number("+0x1")){$Number=function Number(value){var it=arguments.length<1?0:value,that=this;return that instanceof $Number&&(BROKEN_COF?fails(function(){proto.valueOf.call(that)}):"Number"!=cof(that))?inheritIfRequired(new Base(toNumber(it)),that,$Number):toNumber(it)};for(var key,keys=require("./_descriptors")?gOPN(Base):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;keys.length>j;j++)has(Base,key=keys[j])&&!has($Number,key)&&dP($Number,key,gOPD(Base,key));$Number.prototype=proto,proto.constructor=$Number,require("./_redefine")(global,"Number",$Number)}},{"./_cof":68,"./_descriptors":79,"./_fails":85,"./_global":90,"./_has":91,"./_inherit-if-required":95,"./_object-create":120,"./_object-dp":121,"./_object-gopd":124,"./_object-gopn":126,"./_redefine":141,"./_string-trim":158,"./_to-primitive":167}],227:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./_export":83}],228:[function(require,module,exports){var $export=require("./_export"),_isFinite=require("./_global").isFinite;$export($export.S,"Number",{isFinite:function isFinite(it){return"number"==typeof it&&_isFinite(it)}})},{"./_export":83,"./_global":90}],229:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Number",{isInteger:require("./_is-integer")})},{"./_export":83,"./_is-integer":100}],230:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Number",{isNaN:function isNaN(number){return number!=number}})},{"./_export":83}],231:[function(require,module,exports){var $export=require("./_export"),isInteger=require("./_is-integer"),abs=Math.abs;$export($export.S,"Number",{isSafeInteger:function isSafeInteger(number){return isInteger(number)&&abs(number)<=9007199254740991}})},{"./_export":83,"./_is-integer":100}],232:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":83}],233:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":83}],234:[function(require,module,exports){var $export=require("./_export"),$parseFloat=require("./_parse-float");$export($export.S+$export.F*(Number.parseFloat!=$parseFloat),"Number",{parseFloat:$parseFloat})},{"./_export":83,"./_parse-float":135}],235:[function(require,module,exports){var $export=require("./_export"),$parseInt=require("./_parse-int");$export($export.S+$export.F*(Number.parseInt!=$parseInt),"Number",{parseInt:$parseInt})},{"./_export":83,"./_parse-int":136}],236:[function(require,module,exports){"use strict";var $export=require("./_export"),toInteger=require("./_to-integer"),aNumberValue=require("./_a-number-value"),repeat=require("./_string-repeat"),$toFixed=1..toFixed,floor=Math.floor,data=[0,0,0,0,0,0],ERROR="Number.toFixed: incorrect invocation!",multiply=function(n,c){for(var i=-1,c2=c;++i<6;)c2+=n*data[i],data[i]=c2%1e7,c2=floor(c2/1e7)},divide=function(n){for(var i=6,c=0;--i>=0;)c+=data[i],data[i]=floor(c/n),c=c%n*1e7},numToString=function(){for(var i=6,s="";--i>=0;)if(""!==s||0===i||0!==data[i]){var t=String(data[i]);s=""===s?t:s+repeat.call("0",7-t.length)+t}return s},pow=function(x,n,acc){return 0===n?acc:n%2==1?pow(x,n-1,acc*x):pow(x*x,n/2,acc)};$export($export.P+$export.F*(!!$toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!require("./_fails")(function(){$toFixed.call({})})),"Number",{toFixed:function toFixed(fractionDigits){var e,z,j,k,x=aNumberValue(this,ERROR),f=toInteger(fractionDigits),s="",m="0";if(f<0||f>20)throw RangeError(ERROR);if(x!=x)return"NaN";if(x<=-1e21||x>=1e21)return String(x);if(x<0&&(s="-",x=-x),x>1e-21)if(z=(e=function(x){for(var n=0,x2=x;x2>=4096;)n+=12,x2/=4096;for(;x2>=2;)n+=1,x2/=2;return n}(x*pow(2,69,1))-69)<0?x*pow(2,-e,1):x/pow(2,e,1),z*=4503599627370496,(e=52-e)>0){for(multiply(0,z),j=f;j>=7;)multiply(1e7,0),j-=7;for(multiply(pow(10,j,1),0),j=e-1;j>=23;)divide(1<<23),j-=23;divide(1<<j),multiply(1,1),divide(2),m=numToString()}else multiply(0,z),multiply(1<<-e,0),m=numToString()+repeat.call("0",f);return m=f>0?s+((k=m.length)<=f?"0."+repeat.call("0",f-k)+m:m.slice(0,k-f)+"."+m.slice(k-f)):s+m}})},{"./_a-number-value":54,"./_export":83,"./_fails":85,"./_string-repeat":157,"./_to-integer":163}],237:[function(require,module,exports){"use strict";var $export=require("./_export"),$fails=require("./_fails"),aNumberValue=require("./_a-number-value"),$toPrecision=1..toPrecision;$export($export.P+$export.F*($fails(function(){return"1"!==$toPrecision.call(1,void 0)})||!$fails(function(){$toPrecision.call({})})),"Number",{toPrecision:function toPrecision(precision){var that=aNumberValue(this,"Number#toPrecision: incorrect invocation!");return void 0===precision?$toPrecision.call(that):$toPrecision.call(that,precision)}})},{"./_a-number-value":54,"./_export":83,"./_fails":85}],238:[function(require,module,exports){var $export=require("./_export");$export($export.S+$export.F,"Object",{assign:require("./_object-assign")})},{"./_export":83,"./_object-assign":119}],239:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Object",{create:require("./_object-create")})},{"./_export":83,"./_object-create":120}],240:[function(require,module,exports){var $export=require("./_export");$export($export.S+$export.F*!require("./_descriptors"),"Object",{defineProperties:require("./_object-dps")})},{"./_descriptors":79,"./_export":83,"./_object-dps":122}],241:[function(require,module,exports){var $export=require("./_export");$export($export.S+$export.F*!require("./_descriptors"),"Object",{defineProperty:require("./_object-dp").f})},{"./_descriptors":79,"./_export":83,"./_object-dp":121}],242:[function(require,module,exports){var isObject=require("./_is-object"),meta=require("./_meta").onFreeze;require("./_object-sap")("freeze",function($freeze){return function freeze(it){return $freeze&&isObject(it)?$freeze(meta(it)):it}})},{"./_is-object":101,"./_meta":115,"./_object-sap":132}],243:[function(require,module,exports){var toIObject=require("./_to-iobject"),$getOwnPropertyDescriptor=require("./_object-gopd").f;require("./_object-sap")("getOwnPropertyDescriptor",function(){return function getOwnPropertyDescriptor(it,key){return $getOwnPropertyDescriptor(toIObject(it),key)}})},{"./_object-gopd":124,"./_object-sap":132,"./_to-iobject":164}],244:[function(require,module,exports){require("./_object-sap")("getOwnPropertyNames",function(){return require("./_object-gopn-ext").f})},{"./_object-gopn-ext":125,"./_object-sap":132}],245:[function(require,module,exports){var toObject=require("./_to-object"),$getPrototypeOf=require("./_object-gpo");require("./_object-sap")("getPrototypeOf",function(){return function getPrototypeOf(it){return $getPrototypeOf(toObject(it))}})},{"./_object-gpo":128,"./_object-sap":132,"./_to-object":166}],246:[function(require,module,exports){var isObject=require("./_is-object");require("./_object-sap")("isExtensible",function($isExtensible){return function isExtensible(it){return!!isObject(it)&&(!$isExtensible||$isExtensible(it))}})},{"./_is-object":101,"./_object-sap":132}],247:[function(require,module,exports){var isObject=require("./_is-object");require("./_object-sap")("isFrozen",function($isFrozen){return function isFrozen(it){return!isObject(it)||!!$isFrozen&&$isFrozen(it)}})},{"./_is-object":101,"./_object-sap":132}],248:[function(require,module,exports){var isObject=require("./_is-object");require("./_object-sap")("isSealed",function($isSealed){return function isSealed(it){return!isObject(it)||!!$isSealed&&$isSealed(it)}})},{"./_is-object":101,"./_object-sap":132}],249:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Object",{is:require("./_same-value")})},{"./_export":83,"./_same-value":143}],250:[function(require,module,exports){var toObject=require("./_to-object"),$keys=require("./_object-keys");require("./_object-sap")("keys",function(){return function keys(it){return $keys(toObject(it))}})},{"./_object-keys":130,"./_object-sap":132,"./_to-object":166}],251:[function(require,module,exports){var isObject=require("./_is-object"),meta=require("./_meta").onFreeze;require("./_object-sap")("preventExtensions",function($preventExtensions){return function preventExtensions(it){return $preventExtensions&&isObject(it)?$preventExtensions(meta(it)):it}})},{"./_is-object":101,"./_meta":115,"./_object-sap":132}],252:[function(require,module,exports){var isObject=require("./_is-object"),meta=require("./_meta").onFreeze;require("./_object-sap")("seal",function($seal){return function seal(it){return $seal&&isObject(it)?$seal(meta(it)):it}})},{"./_is-object":101,"./_meta":115,"./_object-sap":132}],253:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Object",{setPrototypeOf:require("./_set-proto").set})},{"./_export":83,"./_set-proto":146}],254:[function(require,module,exports){"use strict";var classof=require("./_classof"),test={};test[require("./_wks")("toStringTag")]="z",test+""!="[object z]"&&require("./_redefine")(Object.prototype,"toString",function toString(){return"[object "+classof(this)+"]"},!0)},{"./_classof":67,"./_redefine":141,"./_wks":176}],255:[function(require,module,exports){var $export=require("./_export"),$parseFloat=require("./_parse-float");$export($export.G+$export.F*(parseFloat!=$parseFloat),{parseFloat:$parseFloat})},{"./_export":83,"./_parse-float":135}],256:[function(require,module,exports){var $export=require("./_export"),$parseInt=require("./_parse-int");$export($export.G+$export.F*(parseInt!=$parseInt),{parseInt:$parseInt})},{"./_export":83,"./_parse-int":136}],257:[function(require,module,exports){"use strict";var Internal,newGenericPromiseCapability,OwnPromiseCapability,Wrapper,LIBRARY=require("./_library"),global=require("./_global"),ctx=require("./_ctx"),classof=require("./_classof"),$export=require("./_export"),isObject=require("./_is-object"),aFunction=require("./_a-function"),anInstance=require("./_an-instance"),forOf=require("./_for-of"),speciesConstructor=require("./_species-constructor"),task=require("./_task").set,microtask=require("./_microtask")(),newPromiseCapabilityModule=require("./_new-promise-capability"),perform=require("./_perform"),userAgent=require("./_user-agent"),promiseResolve=require("./_promise-resolve"),TypeError=global.TypeError,process=global.process,versions=process&&process.versions,v8=versions&&versions.v8||"",$Promise=global.Promise,isNode="process"==classof(process),empty=function(){},newPromiseCapability=newGenericPromiseCapability=newPromiseCapabilityModule.f,USE_NATIVE=!!function(){try{var promise=$Promise.resolve(1),FakePromise=(promise.constructor={})[require("./_wks")("species")]=function(exec){exec(empty,empty)};return(isNode||"function"==typeof PromiseRejectionEvent)&&promise.then(empty)instanceof FakePromise&&0!==v8.indexOf("6.6")&&-1===userAgent.indexOf("Chrome/66")}catch(e){}}(),isThenable=function(it){var then;return!(!isObject(it)||"function"!=typeof(then=it.then))&&then},notify=function(promise,isReject){if(!promise._n){promise._n=!0;var chain=promise._c;microtask(function(){for(var value=promise._v,ok=1==promise._s,i=0,run=function(reaction){var result,then,exited,handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(2==promise._h&&onHandleUnhandled(promise),promise._h=1),!0===handler?result=value:(domain&&domain.enter(),result=handler(value),domain&&(domain.exit(),exited=!0)),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(e){domain&&!exited&&domain.exit(),reject(e)}};chain.length>i;)run(chain[i++]);promise._c=[],promise._n=!1,isReject&&!promise._h&&onUnhandled(promise)})}},onUnhandled=function(promise){task.call(global,function(){var result,handler,console,value=promise._v,unhandled=isUnhandled(promise);if(unhandled&&(result=perform(function(){isNode?process.emit("unhandledRejection",value,promise):(handler=global.onunhandledrejection)?handler({promise:promise,reason:value}):(console=global.console)&&console.error&&console.error("Unhandled promise rejection",value)}),promise._h=isNode||isUnhandled(promise)?2:1),promise._a=void 0,unhandled&&result.e)throw result.v})},isUnhandled=function(promise){return 1!==promise._h&&0===(promise._a||promise._c).length},onHandleUnhandled=function(promise){task.call(global,function(){var handler;isNode?process.emit("rejectionHandled",promise):(handler=global.onrejectionhandled)&&handler({promise:promise,reason:promise._v})})},$reject=function(value){var promise=this;promise._d||(promise._d=!0,(promise=promise._w||promise)._v=value,promise._s=2,promise._a||(promise._a=promise._c.slice()),notify(promise,!0))},$resolve=function(value){var then,promise=this;if(!promise._d){promise._d=!0,promise=promise._w||promise;try{if(promise===value)throw TypeError("Promise can't be resolved itself");(then=isThenable(value))?microtask(function(){var wrapper={_w:promise,_d:!1};try{then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1))}catch(e){$reject.call(wrapper,e)}}):(promise._v=value,promise._s=1,notify(promise,!1))}catch(e){$reject.call({_w:promise,_d:!1},e)}}};USE_NATIVE||($Promise=function Promise(executor){anInstance(this,$Promise,"Promise","_h"),aFunction(executor),Internal.call(this);try{executor(ctx($resolve,this,1),ctx($reject,this,1))}catch(err){$reject.call(this,err)}},(Internal=function Promise(executor){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=require("./_redefine-all")($Promise.prototype,{then:function then(onFulfilled,onRejected){var reaction=newPromiseCapability(speciesConstructor(this,$Promise));return reaction.ok="function"!=typeof onFulfilled||onFulfilled,reaction.fail="function"==typeof onRejected&&onRejected,reaction.domain=isNode?process.domain:void 0,this._c.push(reaction),this._a&&this._a.push(reaction),this._s&&notify(this,!1),reaction.promise},catch:function(onRejected){return this.then(void 0,onRejected)}}),OwnPromiseCapability=function(){var promise=new Internal;this.promise=promise,this.resolve=ctx($resolve,promise,1),this.reject=ctx($reject,promise,1)},newPromiseCapabilityModule.f=newPromiseCapability=function(C){return C===$Promise||C===Wrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:$Promise}),require("./_set-to-string-tag")($Promise,"Promise"),require("./_set-species")("Promise"),Wrapper=require("./_core").Promise,$export($export.S+$export.F*!USE_NATIVE,"Promise",{reject:function reject(r){var capability=newPromiseCapability(this);return(0,capability.reject)(r),capability.promise}}),$export($export.S+$export.F*(LIBRARY||!USE_NATIVE),"Promise",{resolve:function resolve(x){return promiseResolve(LIBRARY&&this===Wrapper?$Promise:this,x)}}),$export($export.S+$export.F*!(USE_NATIVE&&require("./_iter-detect")(function(iter){$Promise.all(iter).catch(empty)})),"Promise",{all:function all(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,result=perform(function(){var values=[],index=0,remaining=1;forOf(iterable,!1,function(promise){var $index=index++,alreadyCalled=!1;values.push(void 0),remaining++,C.resolve(promise).then(function(value){alreadyCalled||(alreadyCalled=!0,values[$index]=value,--remaining||resolve(values))},reject)}),--remaining||resolve(values)});return result.e&&reject(result.v),capability.promise},race:function race(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,result=perform(function(){forOf(iterable,!1,function(promise){C.resolve(promise).then(capability.resolve,reject)})});return result.e&&reject(result.v),capability.promise}})},{"./_a-function":53,"./_an-instance":56,"./_classof":67,"./_core":73,"./_ctx":75,"./_export":83,"./_for-of":89,"./_global":90,"./_is-object":101,"./_iter-detect":106,"./_library":109,"./_microtask":117,"./_new-promise-capability":118,"./_perform":137,"./_promise-resolve":138,"./_redefine-all":140,"./_set-species":147,"./_set-to-string-tag":148,"./_species-constructor":151,"./_task":160,"./_user-agent":172,"./_wks":176}],258:[function(require,module,exports){var $export=require("./_export"),aFunction=require("./_a-function"),anObject=require("./_an-object"),rApply=(require("./_global").Reflect||{}).apply,fApply=Function.apply;$export($export.S+$export.F*!require("./_fails")(function(){rApply(function(){})}),"Reflect",{apply:function apply(target,thisArgument,argumentsList){var T=aFunction(target),L=anObject(argumentsList);return rApply?rApply(T,thisArgument,L):fApply.call(T,thisArgument,L)}})},{"./_a-function":53,"./_an-object":57,"./_export":83,"./_fails":85,"./_global":90}],259:[function(require,module,exports){var $export=require("./_export"),create=require("./_object-create"),aFunction=require("./_a-function"),anObject=require("./_an-object"),isObject=require("./_is-object"),fails=require("./_fails"),bind=require("./_bind"),rConstruct=(require("./_global").Reflect||{}).construct,NEW_TARGET_BUG=fails(function(){function F(){}return!(rConstruct(function(){},[],F)instanceof F)}),ARGS_BUG=!fails(function(){rConstruct(function(){})});$export($export.S+$export.F*(NEW_TARGET_BUG||ARGS_BUG),"Reflect",{construct:function construct(Target,args){aFunction(Target),anObject(args);var newTarget=arguments.length<3?Target:aFunction(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return rConstruct(Target,args,newTarget);if(Target==newTarget){switch(args.length){case 0:return new Target;case 1:return new Target(args[0]);case 2:return new Target(args[0],args[1]);case 3:return new Target(args[0],args[1],args[2]);case 4:return new Target(args[0],args[1],args[2],args[3])}var $args=[null];return $args.push.apply($args,args),new(bind.apply(Target,$args))}var proto=newTarget.prototype,instance=create(isObject(proto)?proto:Object.prototype),result=Function.apply.call(Target,instance,args);return isObject(result)?result:instance}})},{"./_a-function":53,"./_an-object":57,"./_bind":66,"./_export":83,"./_fails":85,"./_global":90,"./_is-object":101,"./_object-create":120}],260:[function(require,module,exports){var dP=require("./_object-dp"),$export=require("./_export"),anObject=require("./_an-object"),toPrimitive=require("./_to-primitive");$export($export.S+$export.F*require("./_fails")(function(){Reflect.defineProperty(dP.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function defineProperty(target,propertyKey,attributes){anObject(target),propertyKey=toPrimitive(propertyKey,!0),anObject(attributes);try{return dP.f(target,propertyKey,attributes),!0}catch(e){return!1}}})},{"./_an-object":57,"./_export":83,"./_fails":85,"./_object-dp":121,"./_to-primitive":167}],261:[function(require,module,exports){var $export=require("./_export"),gOPD=require("./_object-gopd").f,anObject=require("./_an-object");$export($export.S,"Reflect",{deleteProperty:function deleteProperty(target,propertyKey){var desc=gOPD(anObject(target),propertyKey);return!(desc&&!desc.configurable)&&delete target[propertyKey]}})},{"./_an-object":57,"./_export":83,"./_object-gopd":124}],262:[function(require,module,exports){"use strict";var $export=require("./_export"),anObject=require("./_an-object"),Enumerate=function(iterated){this._t=anObject(iterated),this._i=0;var key,keys=this._k=[];for(key in iterated)keys.push(key)};require("./_iter-create")(Enumerate,"Object",function(){var key,keys=this._k;do{if(this._i>=keys.length)return{value:void 0,done:!0}}while(!((key=keys[this._i++])in this._t));return{value:key,done:!1}}),$export($export.S,"Reflect",{enumerate:function enumerate(target){return new Enumerate(target)}})},{"./_an-object":57,"./_export":83,"./_iter-create":104}],263:[function(require,module,exports){var gOPD=require("./_object-gopd"),$export=require("./_export"),anObject=require("./_an-object");$export($export.S,"Reflect",{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(target,propertyKey){return gOPD.f(anObject(target),propertyKey)}})},{"./_an-object":57,"./_export":83,"./_object-gopd":124}],264:[function(require,module,exports){var $export=require("./_export"),getProto=require("./_object-gpo"),anObject=require("./_an-object");$export($export.S,"Reflect",{getPrototypeOf:function getPrototypeOf(target){return getProto(anObject(target))}})},{"./_an-object":57,"./_export":83,"./_object-gpo":128}],265:[function(require,module,exports){var gOPD=require("./_object-gopd"),getPrototypeOf=require("./_object-gpo"),has=require("./_has"),$export=require("./_export"),isObject=require("./_is-object"),anObject=require("./_an-object");$export($export.S,"Reflect",{get:function get(target,propertyKey){var desc,proto,receiver=arguments.length<3?target:arguments[2];return anObject(target)===receiver?target[propertyKey]:(desc=gOPD.f(target,propertyKey))?has(desc,"value")?desc.value:void 0!==desc.get?desc.get.call(receiver):void 0:isObject(proto=getPrototypeOf(target))?get(proto,propertyKey,receiver):void 0}})},{"./_an-object":57,"./_export":83,"./_has":91,"./_is-object":101,"./_object-gopd":124,"./_object-gpo":128}],266:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Reflect",{has:function has(target,propertyKey){return propertyKey in target}})},{"./_export":83}],267:[function(require,module,exports){var $export=require("./_export"),anObject=require("./_an-object"),$isExtensible=Object.isExtensible;$export($export.S,"Reflect",{isExtensible:function isExtensible(target){return anObject(target),!$isExtensible||$isExtensible(target)}})},{"./_an-object":57,"./_export":83}],268:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Reflect",{ownKeys:require("./_own-keys")})},{"./_export":83,"./_own-keys":134}],269:[function(require,module,exports){var $export=require("./_export"),anObject=require("./_an-object"),$preventExtensions=Object.preventExtensions;$export($export.S,"Reflect",{preventExtensions:function preventExtensions(target){anObject(target);try{return $preventExtensions&&$preventExtensions(target),!0}catch(e){return!1}}})},{"./_an-object":57,"./_export":83}],270:[function(require,module,exports){var $export=require("./_export"),setProto=require("./_set-proto");setProto&&$export($export.S,"Reflect",{setPrototypeOf:function setPrototypeOf(target,proto){setProto.check(target,proto);try{return setProto.set(target,proto),!0}catch(e){return!1}}})},{"./_export":83,"./_set-proto":146}],271:[function(require,module,exports){var dP=require("./_object-dp"),gOPD=require("./_object-gopd"),getPrototypeOf=require("./_object-gpo"),has=require("./_has"),$export=require("./_export"),createDesc=require("./_property-desc"),anObject=require("./_an-object"),isObject=require("./_is-object");$export($export.S,"Reflect",{set:function set(target,propertyKey,V){var existingDescriptor,proto,receiver=arguments.length<4?target:arguments[3],ownDesc=gOPD.f(anObject(target),propertyKey);if(!ownDesc){if(isObject(proto=getPrototypeOf(target)))return set(proto,propertyKey,V,receiver);ownDesc=createDesc(0)}if(has(ownDesc,"value")){if(!1===ownDesc.writable||!isObject(receiver))return!1;if(existingDescriptor=gOPD.f(receiver,propertyKey)){if(existingDescriptor.get||existingDescriptor.set||!1===existingDescriptor.writable)return!1;existingDescriptor.value=V,dP.f(receiver,propertyKey,existingDescriptor)}else dP.f(receiver,propertyKey,createDesc(0,V));return!0}return void 0!==ownDesc.set&&(ownDesc.set.call(receiver,V),!0)}})},{"./_an-object":57,"./_export":83,"./_has":91,"./_is-object":101,"./_object-dp":121,"./_object-gopd":124,"./_object-gpo":128,"./_property-desc":139}],272:[function(require,module,exports){var global=require("./_global"),inheritIfRequired=require("./_inherit-if-required"),dP=require("./_object-dp").f,gOPN=require("./_object-gopn").f,isRegExp=require("./_is-regexp"),$flags=require("./_flags"),$RegExp=global.RegExp,Base=$RegExp,proto=$RegExp.prototype,re1=/a/g,re2=/a/g,CORRECT_NEW=new $RegExp(re1)!==re1;if(require("./_descriptors")&&(!CORRECT_NEW||require("./_fails")(function(){return re2[require("./_wks")("match")]=!1,$RegExp(re1)!=re1||$RegExp(re2)==re2||"/a/i"!=$RegExp(re1,"i")}))){$RegExp=function RegExp(p,f){var tiRE=this instanceof $RegExp,piRE=isRegExp(p),fiU=void 0===f;return!tiRE&&piRE&&p.constructor===$RegExp&&fiU?p:inheritIfRequired(CORRECT_NEW?new Base(piRE&&!fiU?p.source:p,f):Base((piRE=p instanceof $RegExp)?p.source:p,piRE&&fiU?$flags.call(p):f),tiRE?this:proto,$RegExp)};for(var proxy=function(key){key in $RegExp||dP($RegExp,key,{configurable:!0,get:function(){return Base[key]},set:function(it){Base[key]=it}})},keys=gOPN(Base),i=0;keys.length>i;)proxy(keys[i++]);proto.constructor=$RegExp,$RegExp.prototype=proto,require("./_redefine")(global,"RegExp",$RegExp)}require("./_set-species")("RegExp")},{"./_descriptors":79,"./_fails":85,"./_flags":87,"./_global":90,"./_inherit-if-required":95,"./_is-regexp":102,"./_object-dp":121,"./_object-gopn":126,"./_redefine":141,"./_set-species":147,"./_wks":176}],273:[function(require,module,exports){require("./_descriptors")&&"g"!=/./g.flags&&require("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:require("./_flags")})},{"./_descriptors":79,"./_flags":87,"./_object-dp":121}],274:[function(require,module,exports){require("./_fix-re-wks")("match",1,function(defined,MATCH,$match){return[function match(regexp){"use strict";var O=defined(this),fn=null==regexp?void 0:regexp[MATCH];return void 0!==fn?fn.call(regexp,O):new RegExp(regexp)[MATCH](String(O))},$match]})},{"./_fix-re-wks":86}],275:[function(require,module,exports){require("./_fix-re-wks")("replace",2,function(defined,REPLACE,$replace){return[function replace(searchValue,replaceValue){"use strict";var O=defined(this),fn=null==searchValue?void 0:searchValue[REPLACE];return void 0!==fn?fn.call(searchValue,O,replaceValue):$replace.call(String(O),searchValue,replaceValue)},$replace]})},{"./_fix-re-wks":86}],276:[function(require,module,exports){require("./_fix-re-wks")("search",1,function(defined,SEARCH,$search){return[function search(regexp){"use strict";var O=defined(this),fn=null==regexp?void 0:regexp[SEARCH];return void 0!==fn?fn.call(regexp,O):new RegExp(regexp)[SEARCH](String(O))},$search]})},{"./_fix-re-wks":86}],277:[function(require,module,exports){require("./_fix-re-wks")("split",2,function(defined,SPLIT,$split){"use strict";var isRegExp=require("./_is-regexp"),_split=$split,$push=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var NPCG=void 0===/()??/.exec("")[1];$split=function(separator,limit){var string=String(this);if(void 0===separator&&0===limit)return[];if(!isRegExp(separator))return _split.call(string,separator,limit);var separator2,match,lastIndex,lastLength,i,output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.unicode?"u":"")+(separator.sticky?"y":""),lastLastIndex=0,splitLimit=void 0===limit?4294967295:limit>>>0,separatorCopy=new RegExp(separator.source,flags+"g");for(NPCG||(separator2=new RegExp("^"+separatorCopy.source+"$(?!\\s)",flags));(match=separatorCopy.exec(string))&&!((lastIndex=match.index+match[0].length)>lastLastIndex&&(output.push(string.slice(lastLastIndex,match.index)),!NPCG&&match.length>1&&match[0].replace(separator2,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(match[i]=void 0)}),match.length>1&&match.index<string.length&&$push.apply(output,match.slice(1)),lastLength=match[0].length,lastLastIndex=lastIndex,output.length>=splitLimit));)separatorCopy.lastIndex===match.index&&separatorCopy.lastIndex++;return lastLastIndex===string.length?!lastLength&&separatorCopy.test("")||output.push(""):output.push(string.slice(lastLastIndex)),output.length>splitLimit?output.slice(0,splitLimit):output}}else"0".split(void 0,0).length&&($split=function(separator,limit){return void 0===separator&&0===limit?[]:_split.call(this,separator,limit)});return[function split(separator,limit){var O=defined(this),fn=null==separator?void 0:separator[SPLIT];return void 0!==fn?fn.call(separator,O,limit):$split.call(String(O),separator,limit)},$split]})},{"./_fix-re-wks":86,"./_is-regexp":102}],278:[function(require,module,exports){"use strict";require("./es6.regexp.flags");var anObject=require("./_an-object"),$flags=require("./_flags"),DESCRIPTORS=require("./_descriptors"),$toString=/./.toString,define=function(fn){require("./_redefine")(RegExp.prototype,"toString",fn,!0)};require("./_fails")(function(){return"/a/b"!=$toString.call({source:"a",flags:"b"})})?define(function toString(){var R=anObject(this);return"/".concat(R.source,"/","flags"in R?R.flags:!DESCRIPTORS&&R instanceof RegExp?$flags.call(R):void 0)}):"toString"!=$toString.name&&define(function toString(){return $toString.call(this)})},{"./_an-object":57,"./_descriptors":79,"./_fails":85,"./_flags":87,"./_redefine":141,"./es6.regexp.flags":273}],279:[function(require,module,exports){"use strict";var strong=require("./_collection-strong"),validate=require("./_validate-collection");module.exports=require("./_collection")("Set",function(get){return function Set(){return get(this,arguments.length>0?arguments[0]:void 0)}},{add:function add(value){return strong.def(validate(this,"Set"),value=0===value?0:value,value)}},strong)},{"./_collection":72,"./_collection-strong":69,"./_validate-collection":173}],280:[function(require,module,exports){"use strict";require("./_string-html")("anchor",function(createHTML){return function anchor(name){return createHTML(this,"a","name",name)}})},{"./_string-html":155}],281:[function(require,module,exports){"use strict";require("./_string-html")("big",function(createHTML){return function big(){return createHTML(this,"big","","")}})},{"./_string-html":155}],282:[function(require,module,exports){"use strict";require("./_string-html")("blink",function(createHTML){return function blink(){return createHTML(this,"blink","","")}})},{"./_string-html":155}],283:[function(require,module,exports){"use strict";require("./_string-html")("bold",function(createHTML){return function bold(){return createHTML(this,"b","","")}})},{"./_string-html":155}],284:[function(require,module,exports){"use strict";var $export=require("./_export"),$at=require("./_string-at")(!1);$export($export.P,"String",{codePointAt:function codePointAt(pos){return $at(this,pos)}})},{"./_export":83,"./_string-at":153}],285:[function(require,module,exports){"use strict";var $export=require("./_export"),toLength=require("./_to-length"),context=require("./_string-context"),$endsWith="".endsWith;$export($export.P+$export.F*require("./_fails-is-regexp")("endsWith"),"String",{endsWith:function endsWith(searchString){var that=context(this,searchString,"endsWith"),endPosition=arguments.length>1?arguments[1]:void 0,len=toLength(that.length),end=void 0===endPosition?len:Math.min(toLength(endPosition),len),search=String(searchString);return $endsWith?$endsWith.call(that,search,end):that.slice(end-search.length,end)===search}})},{"./_export":83,"./_fails-is-regexp":84,"./_string-context":154,"./_to-length":165}],286:[function(require,module,exports){"use strict";require("./_string-html")("fixed",function(createHTML){return function fixed(){return createHTML(this,"tt","","")}})},{"./_string-html":155}],287:[function(require,module,exports){"use strict";require("./_string-html")("fontcolor",function(createHTML){return function fontcolor(color){return createHTML(this,"font","color",color)}})},{"./_string-html":155}],288:[function(require,module,exports){"use strict";require("./_string-html")("fontsize",function(createHTML){return function fontsize(size){return createHTML(this,"font","size",size)}})},{"./_string-html":155}],289:[function(require,module,exports){var $export=require("./_export"),toAbsoluteIndex=require("./_to-absolute-index"),fromCharCode=String.fromCharCode,$fromCodePoint=String.fromCodePoint;$export($export.S+$export.F*(!!$fromCodePoint&&1!=$fromCodePoint.length),"String",{fromCodePoint:function fromCodePoint(x){for(var code,res=[],aLen=arguments.length,i=0;aLen>i;){if(code=+arguments[i++],toAbsoluteIndex(code,1114111)!==code)throw RangeError(code+" is not a valid code point");res.push(code<65536?fromCharCode(code):fromCharCode(55296+((code-=65536)>>10),code%1024+56320))}return res.join("")}})},{"./_export":83,"./_to-absolute-index":161}],290:[function(require,module,exports){"use strict";var $export=require("./_export"),context=require("./_string-context");$export($export.P+$export.F*require("./_fails-is-regexp")("includes"),"String",{includes:function includes(searchString){return!!~context(this,searchString,"includes").indexOf(searchString,arguments.length>1?arguments[1]:void 0)}})},{"./_export":83,"./_fails-is-regexp":84,"./_string-context":154}],291:[function(require,module,exports){"use strict";require("./_string-html")("italics",function(createHTML){return function italics(){return createHTML(this,"i","","")}})},{"./_string-html":155}],292:[function(require,module,exports){"use strict";var $at=require("./_string-at")(!0);require("./_iter-define")(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var point,O=this._t,index=this._i;return index>=O.length?{value:void 0,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})})},{"./_iter-define":105,"./_string-at":153}],293:[function(require,module,exports){"use strict";require("./_string-html")("link",function(createHTML){return function link(url){return createHTML(this,"a","href",url)}})},{"./_string-html":155}],294:[function(require,module,exports){var $export=require("./_export"),toIObject=require("./_to-iobject"),toLength=require("./_to-length");$export($export.S,"String",{raw:function raw(callSite){for(var tpl=toIObject(callSite.raw),len=toLength(tpl.length),aLen=arguments.length,res=[],i=0;len>i;)res.push(String(tpl[i++])),i<aLen&&res.push(String(arguments[i]));return res.join("")}})},{"./_export":83,"./_to-iobject":164,"./_to-length":165}],295:[function(require,module,exports){var $export=require("./_export");$export($export.P,"String",{repeat:require("./_string-repeat")})},{"./_export":83,"./_string-repeat":157}],296:[function(require,module,exports){"use strict";require("./_string-html")("small",function(createHTML){return function small(){return createHTML(this,"small","","")}})},{"./_string-html":155}],297:[function(require,module,exports){"use strict";var $export=require("./_export"),toLength=require("./_to-length"),context=require("./_string-context"),$startsWith="".startsWith;$export($export.P+$export.F*require("./_fails-is-regexp")("startsWith"),"String",{startsWith:function startsWith(searchString){var that=context(this,searchString,"startsWith"),index=toLength(Math.min(arguments.length>1?arguments[1]:void 0,that.length)),search=String(searchString);return $startsWith?$startsWith.call(that,search,index):that.slice(index,index+search.length)===search}})},{"./_export":83,"./_fails-is-regexp":84,"./_string-context":154,"./_to-length":165}],298:[function(require,module,exports){"use strict";require("./_string-html")("strike",function(createHTML){return function strike(){return createHTML(this,"strike","","")}})},{"./_string-html":155}],299:[function(require,module,exports){"use strict";require("./_string-html")("sub",function(createHTML){return function sub(){return createHTML(this,"sub","","")}})},{"./_string-html":155}],300:[function(require,module,exports){"use strict";require("./_string-html")("sup",function(createHTML){return function sup(){return createHTML(this,"sup","","")}})},{"./_string-html":155}],301:[function(require,module,exports){"use strict";require("./_string-trim")("trim",function($trim){return function trim(){return $trim(this,3)}})},{"./_string-trim":158}],302:[function(require,module,exports){"use strict";var global=require("./_global"),has=require("./_has"),DESCRIPTORS=require("./_descriptors"),$export=require("./_export"),redefine=require("./_redefine"),META=require("./_meta").KEY,$fails=require("./_fails"),shared=require("./_shared"),setToStringTag=require("./_set-to-string-tag"),uid=require("./_uid"),wks=require("./_wks"),wksExt=require("./_wks-ext"),wksDefine=require("./_wks-define"),enumKeys=require("./_enum-keys"),isArray=require("./_is-array"),anObject=require("./_an-object"),isObject=require("./_is-object"),toIObject=require("./_to-iobject"),toPrimitive=require("./_to-primitive"),createDesc=require("./_property-desc"),_create=require("./_object-create"),gOPNExt=require("./_object-gopn-ext"),$GOPD=require("./_object-gopd"),$DP=require("./_object-dp"),$keys=require("./_object-keys"),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object.prototype,USE_NATIVE="function"==typeof $Symbol,QObject=global.QObject,setter=!QObject||!QObject.prototype||!QObject.prototype.findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a})?function(it,key,D){var protoDesc=gOPD(ObjectProto,key);protoDesc&&delete ObjectProto[key],dP(it,key,D),protoDesc&&it!==ObjectProto&&dP(ObjectProto,key,protoDesc)}:dP,wrap=function(tag){var sym=AllSymbols[tag]=_create($Symbol.prototype);return sym._k=tag,sym},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return it instanceof $Symbol},$defineProperty=function defineProperty(it,key,D){return it===ObjectProto&&$defineProperty(OPSymbols,key,D),anObject(it),key=toPrimitive(key,!0),anObject(D),has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_create(D,{enumerable:createDesc(0,!1)})):(has(it,HIDDEN)||dP(it,HIDDEN,createDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP(it,key,D)},$defineProperties=function defineProperties(it,P){anObject(it);for(var key,keys=enumKeys(P=toIObject(P)),i=0,l=keys.length;l>i;)$defineProperty(it,key=keys[i++],P[key]);return it},$propertyIsEnumerable=function propertyIsEnumerable(key){var E=isEnum.call(this,key=toPrimitive(key,!0));return!(this===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key))&&(!(E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key])||E)},$getOwnPropertyDescriptor=function getOwnPropertyDescriptor(it,key){if(it=toIObject(it),key=toPrimitive(key,!0),it!==ObjectProto||!has(AllSymbols,key)||has(OPSymbols,key)){var D=gOPD(it,key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}},$getOwnPropertyNames=function getOwnPropertyNames(it){for(var key,names=gOPN(toIObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])||key==HIDDEN||key==META||result.push(key);return result},$getOwnPropertySymbols=function getOwnPropertySymbols(it){for(var key,IS_OP=it===ObjectProto,names=gOPN(IS_OP?OPSymbols:toIObject(it)),result=[],i=0;names.length>i;)!has(AllSymbols,key=names[i++])||IS_OP&&!has(ObjectProto,key)||result.push(AllSymbols[key]);return result};USE_NATIVE||(redefine(($Symbol=function Symbol(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=uid(arguments.length>0?arguments[0]:void 0),$set=function(value){this===ObjectProto&&$set.call(OPSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,createDesc(1,value))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:$set}),wrap(tag)}).prototype,"toString",function toString(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,require("./_object-gopn").f=gOPNExt.f=$getOwnPropertyNames,require("./_object-pie").f=$propertyIsEnumerable,require("./_object-gops").f=$getOwnPropertySymbols,DESCRIPTORS&&!require("./_library")&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(name){return wrap(wks(name))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys(wks.store),k=0;wellKnownSymbols.length>k;)wksDefine(wellKnownSymbols[k++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{for:function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function keyFor(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol!");for(var key in SymbolRegistry)if(SymbolRegistry[key]===sym)return key},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:function create(it,P){return void 0===P?_create(it):$defineProperties(_create(it),P)},defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var S=$Symbol();return"[null]"!=_stringify([S])||"{}"!=_stringify({a:S})||"{}"!=_stringify(Object(S))})),"JSON",{stringify:function stringify(it){for(var replacer,$replacer,args=[it],i=1;arguments.length>i;)args.push(arguments[i++]);if($replacer=replacer=args[1],(isObject(replacer)||void 0!==it)&&!isSymbol(it))return isArray(replacer)||(replacer=function(key,value){if("function"==typeof $replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,_stringify.apply($JSON,args)}}),$Symbol.prototype[TO_PRIMITIVE]||require("./_hide")($Symbol.prototype,TO_PRIMITIVE,$Symbol.prototype.valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global.JSON,"JSON",!0)},{"./_an-object":57,"./_descriptors":79,"./_enum-keys":82,"./_export":83,"./_fails":85,"./_global":90,"./_has":91,"./_hide":92,"./_is-array":99,"./_is-object":101,"./_library":109,"./_meta":115,"./_object-create":120,"./_object-dp":121,"./_object-gopd":124,"./_object-gopn":126,"./_object-gopn-ext":125,"./_object-gops":127,"./_object-keys":130,"./_object-pie":131,"./_property-desc":139,"./_redefine":141,"./_set-to-string-tag":148,"./_shared":150,"./_to-iobject":164,"./_to-primitive":167,"./_uid":171,"./_wks":176,"./_wks-define":174,"./_wks-ext":175}],303:[function(require,module,exports){"use strict";var $export=require("./_export"),$typed=require("./_typed"),buffer=require("./_typed-buffer"),anObject=require("./_an-object"),toAbsoluteIndex=require("./_to-absolute-index"),toLength=require("./_to-length"),isObject=require("./_is-object"),ArrayBuffer=require("./_global").ArrayBuffer,speciesConstructor=require("./_species-constructor"),$ArrayBuffer=buffer.ArrayBuffer,$DataView=buffer.DataView,$isView=$typed.ABV&&ArrayBuffer.isView,$slice=$ArrayBuffer.prototype.slice,VIEW=$typed.VIEW;$export($export.G+$export.W+$export.F*(ArrayBuffer!==$ArrayBuffer),{ArrayBuffer:$ArrayBuffer}),$export($export.S+$export.F*!$typed.CONSTR,"ArrayBuffer",{isView:function isView(it){return $isView&&$isView(it)||isObject(it)&&VIEW in it}}),$export($export.P+$export.U+$export.F*require("./_fails")(function(){return!new $ArrayBuffer(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function slice(start,end){if(void 0!==$slice&&void 0===end)return $slice.call(anObject(this),start);for(var len=anObject(this).byteLength,first=toAbsoluteIndex(start,len),fin=toAbsoluteIndex(void 0===end?len:end,len),result=new(speciesConstructor(this,$ArrayBuffer))(toLength(fin-first)),viewS=new $DataView(this),viewT=new $DataView(result),index=0;first<fin;)viewT.setUint8(index++,viewS.getUint8(first++));return result}}),require("./_set-species")("ArrayBuffer")},{"./_an-object":57,"./_export":83,"./_fails":85,"./_global":90,"./_is-object":101,"./_set-species":147,"./_species-constructor":151,"./_to-absolute-index":161,"./_to-length":165,"./_typed":170,"./_typed-buffer":169}],304:[function(require,module,exports){var $export=require("./_export");$export($export.G+$export.W+$export.F*!require("./_typed").ABV,{DataView:require("./_typed-buffer").DataView})},{"./_export":83,"./_typed":170,"./_typed-buffer":169}],305:[function(require,module,exports){require("./_typed-array")("Float32",4,function(init){return function Float32Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":168}],306:[function(require,module,exports){require("./_typed-array")("Float64",8,function(init){return function Float64Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":168}],307:[function(require,module,exports){require("./_typed-array")("Int16",2,function(init){return function Int16Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":168}],308:[function(require,module,exports){require("./_typed-array")("Int32",4,function(init){return function Int32Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":168}],309:[function(require,module,exports){require("./_typed-array")("Int8",1,function(init){return function Int8Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":168}],310:[function(require,module,exports){require("./_typed-array")("Uint16",2,function(init){return function Uint16Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":168}],311:[function(require,module,exports){require("./_typed-array")("Uint32",4,function(init){return function Uint32Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":168}],312:[function(require,module,exports){require("./_typed-array")("Uint8",1,function(init){return function Uint8Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":168}],313:[function(require,module,exports){require("./_typed-array")("Uint8",1,function(init){return function Uint8ClampedArray(data,byteOffset,length){return init(this,data,byteOffset,length)}},!0)},{"./_typed-array":168}],314:[function(require,module,exports){"use strict";var InternalMap,each=require("./_array-methods")(0),redefine=require("./_redefine"),meta=require("./_meta"),assign=require("./_object-assign"),weak=require("./_collection-weak"),isObject=require("./_is-object"),fails=require("./_fails"),validate=require("./_validate-collection"),getWeak=meta.getWeak,isExtensible=Object.isExtensible,uncaughtFrozenStore=weak.ufstore,tmp={},wrapper=function(get){return function WeakMap(){return get(this,arguments.length>0?arguments[0]:void 0)}},methods={get:function get(key){if(isObject(key)){var data=getWeak(key);return!0===data?uncaughtFrozenStore(validate(this,"WeakMap")).get(key):data?data[this._i]:void 0}},set:function set(key,value){return weak.def(validate(this,"WeakMap"),key,value)}},$WeakMap=module.exports=require("./_collection")("WeakMap",wrapper,methods,weak,!0,!0);fails(function(){return 7!=(new $WeakMap).set((Object.freeze||Object)(tmp),7).get(tmp)})&&(assign((InternalMap=weak.getConstructor(wrapper,"WeakMap")).prototype,methods),meta.NEED=!0,each(["delete","has","get","set"],function(key){var proto=$WeakMap.prototype,method=proto[key];redefine(proto,key,function(a,b){if(isObject(a)&&!isExtensible(a)){this._f||(this._f=new InternalMap);var result=this._f[key](a,b);return"set"==key?this:result}return method.call(this,a,b)})}))},{"./_array-methods":62,"./_collection":72,"./_collection-weak":71,"./_fails":85,"./_is-object":101,"./_meta":115,"./_object-assign":119,"./_redefine":141,"./_validate-collection":173}],315:[function(require,module,exports){"use strict";var weak=require("./_collection-weak"),validate=require("./_validate-collection");require("./_collection")("WeakSet",function(get){return function WeakSet(){return get(this,arguments.length>0?arguments[0]:void 0)}},{add:function add(value){return weak.def(validate(this,"WeakSet"),value,!0)}},weak,!1,!0)},{"./_collection":72,"./_collection-weak":71,"./_validate-collection":173}],316:[function(require,module,exports){"use strict";var $export=require("./_export"),flattenIntoArray=require("./_flatten-into-array"),toObject=require("./_to-object"),toLength=require("./_to-length"),aFunction=require("./_a-function"),arraySpeciesCreate=require("./_array-species-create");$export($export.P,"Array",{flatMap:function flatMap(callbackfn){var sourceLen,A,O=toObject(this);return aFunction(callbackfn),sourceLen=toLength(O.length),A=arraySpeciesCreate(O,0),flattenIntoArray(A,O,O,sourceLen,0,1,callbackfn,arguments[1]),A}}),require("./_add-to-unscopables")("flatMap")},{"./_a-function":53,"./_add-to-unscopables":55,"./_array-species-create":65,"./_export":83,"./_flatten-into-array":88,"./_to-length":165,"./_to-object":166}],317:[function(require,module,exports){"use strict";var $export=require("./_export"),flattenIntoArray=require("./_flatten-into-array"),toObject=require("./_to-object"),toLength=require("./_to-length"),toInteger=require("./_to-integer"),arraySpeciesCreate=require("./_array-species-create");$export($export.P,"Array",{flatten:function flatten(){var depthArg=arguments[0],O=toObject(this),sourceLen=toLength(O.length),A=arraySpeciesCreate(O,0);return flattenIntoArray(A,O,O,sourceLen,0,void 0===depthArg?1:toInteger(depthArg)),A}}),require("./_add-to-unscopables")("flatten")},{"./_add-to-unscopables":55,"./_array-species-create":65,"./_export":83,"./_flatten-into-array":88,"./_to-integer":163,"./_to-length":165,"./_to-object":166}],318:[function(require,module,exports){"use strict";var $export=require("./_export"),$includes=require("./_array-includes")(!0);$export($export.P,"Array",{includes:function includes(el){return $includes(this,el,arguments.length>1?arguments[1]:void 0)}}),require("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":55,"./_array-includes":61,"./_export":83}],319:[function(require,module,exports){var $export=require("./_export"),microtask=require("./_microtask")(),process=require("./_global").process,isNode="process"==require("./_cof")(process);$export($export.G,{asap:function asap(fn){var domain=isNode&&process.domain;microtask(domain?domain.bind(fn):fn)}})},{"./_cof":68,"./_export":83,"./_global":90,"./_microtask":117}],320:[function(require,module,exports){var $export=require("./_export"),cof=require("./_cof");$export($export.S,"Error",{isError:function isError(it){return"Error"===cof(it)}})},{"./_cof":68,"./_export":83}],321:[function(require,module,exports){var $export=require("./_export");$export($export.G,{global:require("./_global")})},{"./_export":83,"./_global":90}],322:[function(require,module,exports){require("./_set-collection-from")("Map")},{"./_set-collection-from":144}],323:[function(require,module,exports){require("./_set-collection-of")("Map")},{"./_set-collection-of":145}],324:[function(require,module,exports){var $export=require("./_export");$export($export.P+$export.R,"Map",{toJSON:require("./_collection-to-json")("Map")})},{"./_collection-to-json":70,"./_export":83}],325:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{clamp:function clamp(x,lower,upper){return Math.min(upper,Math.max(lower,x))}})},{"./_export":83}],326:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{DEG_PER_RAD:Math.PI/180})},{"./_export":83}],327:[function(require,module,exports){var $export=require("./_export"),RAD_PER_DEG=180/Math.PI;$export($export.S,"Math",{degrees:function degrees(radians){return radians*RAD_PER_DEG}})},{"./_export":83}],328:[function(require,module,exports){var $export=require("./_export"),scale=require("./_math-scale"),fround=require("./_math-fround");$export($export.S,"Math",{fscale:function fscale(x,inLow,inHigh,outLow,outHigh){return fround(scale(x,inLow,inHigh,outLow,outHigh))}})},{"./_export":83,"./_math-fround":111,"./_math-scale":113}],329:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{iaddh:function iaddh(x0,x1,y0,y1){var $x0=x0>>>0,$y0=y0>>>0;return(x1>>>0)+(y1>>>0)+(($x0&$y0|($x0|$y0)&~($x0+$y0>>>0))>>>31)|0}})},{"./_export":83}],330:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{imulh:function imulh(u,v){var $u=+u,$v=+v,u0=65535&$u,v0=65535&$v,u1=$u>>16,v1=$v>>16,t=(u1*v0>>>0)+(u0*v0>>>16);return u1*v1+(t>>16)+((u0*v1>>>0)+(65535&t)>>16)}})},{"./_export":83}],331:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{isubh:function isubh(x0,x1,y0,y1){var $x0=x0>>>0,$y0=y0>>>0;return(x1>>>0)-(y1>>>0)-((~$x0&$y0|~($x0^$y0)&$x0-$y0>>>0)>>>31)|0}})},{"./_export":83}],332:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{RAD_PER_DEG:180/Math.PI})},{"./_export":83}],333:[function(require,module,exports){var $export=require("./_export"),DEG_PER_RAD=Math.PI/180;$export($export.S,"Math",{radians:function radians(degrees){return degrees*DEG_PER_RAD}})},{"./_export":83}],334:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{scale:require("./_math-scale")})},{"./_export":83,"./_math-scale":113}],335:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{signbit:function signbit(x){return(x=+x)!=x?x:0==x?1/x==1/0:x>0}})},{"./_export":83}],336:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{umulh:function umulh(u,v){var $u=+u,$v=+v,u0=65535&$u,v0=65535&$v,u1=$u>>>16,v1=$v>>>16,t=(u1*v0>>>0)+(u0*v0>>>16);return u1*v1+(t>>>16)+((u0*v1>>>0)+(65535&t)>>>16)}})},{"./_export":83}],337:[function(require,module,exports){"use strict";var $export=require("./_export"),toObject=require("./_to-object"),aFunction=require("./_a-function"),$defineProperty=require("./_object-dp");require("./_descriptors")&&$export($export.P+require("./_object-forced-pam"),"Object",{__defineGetter__:function __defineGetter__(P,getter){$defineProperty.f(toObject(this),P,{get:aFunction(getter),enumerable:!0,configurable:!0})}})},{"./_a-function":53,"./_descriptors":79,"./_export":83,"./_object-dp":121,"./_object-forced-pam":123,"./_to-object":166}],338:[function(require,module,exports){"use strict";var $export=require("./_export"),toObject=require("./_to-object"),aFunction=require("./_a-function"),$defineProperty=require("./_object-dp");require("./_descriptors")&&$export($export.P+require("./_object-forced-pam"),"Object",{__defineSetter__:function __defineSetter__(P,setter){$defineProperty.f(toObject(this),P,{set:aFunction(setter),enumerable:!0,configurable:!0})}})},{"./_a-function":53,"./_descriptors":79,"./_export":83,"./_object-dp":121,"./_object-forced-pam":123,"./_to-object":166}],339:[function(require,module,exports){var $export=require("./_export"),$entries=require("./_object-to-array")(!0);$export($export.S,"Object",{entries:function entries(it){return $entries(it)}})},{"./_export":83,"./_object-to-array":133}],340:[function(require,module,exports){var $export=require("./_export"),ownKeys=require("./_own-keys"),toIObject=require("./_to-iobject"),gOPD=require("./_object-gopd"),createProperty=require("./_create-property");$export($export.S,"Object",{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(object){for(var key,desc,O=toIObject(object),getDesc=gOPD.f,keys=ownKeys(O),result={},i=0;keys.length>i;)void 0!==(desc=getDesc(O,key=keys[i++]))&&createProperty(result,key,desc);return result}})},{"./_create-property":74,"./_export":83,"./_object-gopd":124,"./_own-keys":134,"./_to-iobject":164}],341:[function(require,module,exports){"use strict";var $export=require("./_export"),toObject=require("./_to-object"),toPrimitive=require("./_to-primitive"),getPrototypeOf=require("./_object-gpo"),getOwnPropertyDescriptor=require("./_object-gopd").f;require("./_descriptors")&&$export($export.P+require("./_object-forced-pam"),"Object",{__lookupGetter__:function __lookupGetter__(P){var D,O=toObject(this),K=toPrimitive(P,!0);do{if(D=getOwnPropertyDescriptor(O,K))return D.get}while(O=getPrototypeOf(O))}})},{"./_descriptors":79,"./_export":83,"./_object-forced-pam":123,"./_object-gopd":124,"./_object-gpo":128,"./_to-object":166,"./_to-primitive":167}],342:[function(require,module,exports){"use strict";var $export=require("./_export"),toObject=require("./_to-object"),toPrimitive=require("./_to-primitive"),getPrototypeOf=require("./_object-gpo"),getOwnPropertyDescriptor=require("./_object-gopd").f;require("./_descriptors")&&$export($export.P+require("./_object-forced-pam"),"Object",{__lookupSetter__:function __lookupSetter__(P){var D,O=toObject(this),K=toPrimitive(P,!0);do{if(D=getOwnPropertyDescriptor(O,K))return D.set}while(O=getPrototypeOf(O))}})},{"./_descriptors":79,"./_export":83,"./_object-forced-pam":123,"./_object-gopd":124,"./_object-gpo":128,"./_to-object":166,"./_to-primitive":167}],343:[function(require,module,exports){var $export=require("./_export"),$values=require("./_object-to-array")(!1);$export($export.S,"Object",{values:function values(it){return $values(it)}})},{"./_export":83,"./_object-to-array":133}],344:[function(require,module,exports){"use strict";var $export=require("./_export"),global=require("./_global"),core=require("./_core"),microtask=require("./_microtask")(),OBSERVABLE=require("./_wks")("observable"),aFunction=require("./_a-function"),anObject=require("./_an-object"),anInstance=require("./_an-instance"),redefineAll=require("./_redefine-all"),hide=require("./_hide"),forOf=require("./_for-of"),RETURN=forOf.RETURN,getMethod=function(fn){return null==fn?void 0:aFunction(fn)},cleanupSubscription=function(subscription){var cleanup=subscription._c;cleanup&&(subscription._c=void 0,cleanup())},subscriptionClosed=function(subscription){return void 0===subscription._o},closeSubscription=function(subscription){subscriptionClosed(subscription)||(subscription._o=void 0,cleanupSubscription(subscription))},Subscription=function(observer,subscriber){anObject(observer),this._c=void 0,this._o=observer,observer=new SubscriptionObserver(this);try{var cleanup=subscriber(observer),subscription=cleanup;null!=cleanup&&("function"==typeof cleanup.unsubscribe?cleanup=function(){subscription.unsubscribe()}:aFunction(cleanup),this._c=cleanup)}catch(e){return void observer.error(e)}subscriptionClosed(this)&&cleanupSubscription(this)};Subscription.prototype=redefineAll({},{unsubscribe:function unsubscribe(){closeSubscription(this)}});var SubscriptionObserver=function(subscription){this._s=subscription};SubscriptionObserver.prototype=redefineAll({},{next:function next(value){var subscription=this._s;if(!subscriptionClosed(subscription)){var observer=subscription._o;try{var m=getMethod(observer.next);if(m)return m.call(observer,value)}catch(e){try{closeSubscription(subscription)}finally{throw e}}}},error:function error(value){var subscription=this._s;if(subscriptionClosed(subscription))throw value;var observer=subscription._o;subscription._o=void 0;try{var m=getMethod(observer.error);if(!m)throw value;value=m.call(observer,value)}catch(e){try{cleanupSubscription(subscription)}finally{throw e}}return cleanupSubscription(subscription),value},complete:function complete(value){var subscription=this._s;if(!subscriptionClosed(subscription)){var observer=subscription._o;subscription._o=void 0;try{var m=getMethod(observer.complete);value=m?m.call(observer,value):void 0}catch(e){try{cleanupSubscription(subscription)}finally{throw e}}return cleanupSubscription(subscription),value}}});var $Observable=function Observable(subscriber){anInstance(this,$Observable,"Observable","_f")._f=aFunction(subscriber)};redefineAll($Observable.prototype,{subscribe:function subscribe(observer){return new Subscription(observer,this._f)},forEach:function forEach(fn){var that=this;return new(core.Promise||global.Promise)(function(resolve,reject){aFunction(fn);var subscription=that.subscribe({next:function(value){try{return fn(value)}catch(e){reject(e),subscription.unsubscribe()}},error:reject,complete:resolve})})}}),redefineAll($Observable,{from:function from(x){var C="function"==typeof this?this:$Observable,method=getMethod(anObject(x)[OBSERVABLE]);if(method){var observable=anObject(method.call(x));return observable.constructor===C?observable:new C(function(observer){return observable.subscribe(observer)})}return new C(function(observer){var done=!1;return microtask(function(){if(!done){try{if(forOf(x,!1,function(it){if(observer.next(it),done)return RETURN})===RETURN)return}catch(e){if(done)throw e;return void observer.error(e)}observer.complete()}}),function(){done=!0}})},of:function of(){for(var i=0,l=arguments.length,items=new Array(l);i<l;)items[i]=arguments[i++];return new("function"==typeof this?this:$Observable)(function(observer){var done=!1;return microtask(function(){if(!done){for(var j=0;j<items.length;++j)if(observer.next(items[j]),done)return;observer.complete()}}),function(){done=!0}})}}),hide($Observable.prototype,OBSERVABLE,function(){return this}),$export($export.G,{Observable:$Observable}),require("./_set-species")("Observable")},{"./_a-function":53,"./_an-instance":56,"./_an-object":57,"./_core":73,"./_export":83,"./_for-of":89,"./_global":90,"./_hide":92,"./_microtask":117,"./_redefine-all":140,"./_set-species":147,"./_wks":176}],345:[function(require,module,exports){"use strict";var $export=require("./_export"),core=require("./_core"),global=require("./_global"),speciesConstructor=require("./_species-constructor"),promiseResolve=require("./_promise-resolve");$export($export.P+$export.R,"Promise",{finally:function(onFinally){var C=speciesConstructor(this,core.Promise||global.Promise),isFunction="function"==typeof onFinally;return this.then(isFunction?function(x){return promiseResolve(C,onFinally()).then(function(){return x})}:onFinally,isFunction?function(e){return promiseResolve(C,onFinally()).then(function(){throw e})}:onFinally)}})},{"./_core":73,"./_export":83,"./_global":90,"./_promise-resolve":138,"./_species-constructor":151}],346:[function(require,module,exports){"use strict";var $export=require("./_export"),newPromiseCapability=require("./_new-promise-capability"),perform=require("./_perform");$export($export.S,"Promise",{try:function(callbackfn){var promiseCapability=newPromiseCapability.f(this),result=perform(callbackfn);return(result.e?promiseCapability.reject:promiseCapability.resolve)(result.v),promiseCapability.promise}})},{"./_export":83,"./_new-promise-capability":118,"./_perform":137}],347:[function(require,module,exports){var metadata=require("./_metadata"),anObject=require("./_an-object"),toMetaKey=metadata.key,ordinaryDefineOwnMetadata=metadata.set;metadata.exp({defineMetadata:function defineMetadata(metadataKey,metadataValue,target,targetKey){ordinaryDefineOwnMetadata(metadataKey,metadataValue,anObject(target),toMetaKey(targetKey))}})},{"./_an-object":57,"./_metadata":116}],348:[function(require,module,exports){var metadata=require("./_metadata"),anObject=require("./_an-object"),toMetaKey=metadata.key,getOrCreateMetadataMap=metadata.map,store=metadata.store;metadata.exp({deleteMetadata:function deleteMetadata(metadataKey,target){var targetKey=arguments.length<3?void 0:toMetaKey(arguments[2]),metadataMap=getOrCreateMetadataMap(anObject(target),targetKey,!1);if(void 0===metadataMap||!metadataMap.delete(metadataKey))return!1;if(metadataMap.size)return!0;var targetMetadata=store.get(target);return targetMetadata.delete(targetKey),!!targetMetadata.size||store.delete(target)}})},{"./_an-object":57,"./_metadata":116}],349:[function(require,module,exports){var Set=require("./es6.set"),from=require("./_array-from-iterable"),metadata=require("./_metadata"),anObject=require("./_an-object"),getPrototypeOf=require("./_object-gpo"),ordinaryOwnMetadataKeys=metadata.keys,toMetaKey=metadata.key,ordinaryMetadataKeys=function(O,P){var oKeys=ordinaryOwnMetadataKeys(O,P),parent=getPrototypeOf(O);if(null===parent)return oKeys;var pKeys=ordinaryMetadataKeys(parent,P);return pKeys.length?oKeys.length?from(new Set(oKeys.concat(pKeys))):pKeys:oKeys};metadata.exp({getMetadataKeys:function getMetadataKeys(target){return ordinaryMetadataKeys(anObject(target),arguments.length<2?void 0:toMetaKey(arguments[1]))}})},{"./_an-object":57,"./_array-from-iterable":60,"./_metadata":116,"./_object-gpo":128,"./es6.set":279}],350:[function(require,module,exports){var metadata=require("./_metadata"),anObject=require("./_an-object"),getPrototypeOf=require("./_object-gpo"),ordinaryHasOwnMetadata=metadata.has,ordinaryGetOwnMetadata=metadata.get,toMetaKey=metadata.key,ordinaryGetMetadata=function(MetadataKey,O,P){if(ordinaryHasOwnMetadata(MetadataKey,O,P))return ordinaryGetOwnMetadata(MetadataKey,O,P);var parent=getPrototypeOf(O);return null!==parent?ordinaryGetMetadata(MetadataKey,parent,P):void 0};metadata.exp({getMetadata:function getMetadata(metadataKey,target){return ordinaryGetMetadata(metadataKey,anObject(target),arguments.length<3?void 0:toMetaKey(arguments[2]))}})},{"./_an-object":57,"./_metadata":116,"./_object-gpo":128}],351:[function(require,module,exports){var metadata=require("./_metadata"),anObject=require("./_an-object"),ordinaryOwnMetadataKeys=metadata.keys,toMetaKey=metadata.key;metadata.exp({getOwnMetadataKeys:function getOwnMetadataKeys(target){return ordinaryOwnMetadataKeys(anObject(target),arguments.length<2?void 0:toMetaKey(arguments[1]))}})},{"./_an-object":57,"./_metadata":116}],352:[function(require,module,exports){var metadata=require("./_metadata"),anObject=require("./_an-object"),ordinaryGetOwnMetadata=metadata.get,toMetaKey=metadata.key;metadata.exp({getOwnMetadata:function getOwnMetadata(metadataKey,target){return ordinaryGetOwnMetadata(metadataKey,anObject(target),arguments.length<3?void 0:toMetaKey(arguments[2]))}})},{"./_an-object":57,"./_metadata":116}],353:[function(require,module,exports){var metadata=require("./_metadata"),anObject=require("./_an-object"),getPrototypeOf=require("./_object-gpo"),ordinaryHasOwnMetadata=metadata.has,toMetaKey=metadata.key,ordinaryHasMetadata=function(MetadataKey,O,P){if(ordinaryHasOwnMetadata(MetadataKey,O,P))return!0;var parent=getPrototypeOf(O);return null!==parent&&ordinaryHasMetadata(MetadataKey,parent,P)};metadata.exp({hasMetadata:function hasMetadata(metadataKey,target){return ordinaryHasMetadata(metadataKey,anObject(target),arguments.length<3?void 0:toMetaKey(arguments[2]))}})},{"./_an-object":57,"./_metadata":116,"./_object-gpo":128}],354:[function(require,module,exports){var metadata=require("./_metadata"),anObject=require("./_an-object"),ordinaryHasOwnMetadata=metadata.has,toMetaKey=metadata.key;metadata.exp({hasOwnMetadata:function hasOwnMetadata(metadataKey,target){return ordinaryHasOwnMetadata(metadataKey,anObject(target),arguments.length<3?void 0:toMetaKey(arguments[2]))}})},{"./_an-object":57,"./_metadata":116}],355:[function(require,module,exports){var $metadata=require("./_metadata"),anObject=require("./_an-object"),aFunction=require("./_a-function"),toMetaKey=$metadata.key,ordinaryDefineOwnMetadata=$metadata.set;$metadata.exp({metadata:function metadata(metadataKey,metadataValue){return function decorator(target,targetKey){ordinaryDefineOwnMetadata(metadataKey,metadataValue,(void 0!==targetKey?anObject:aFunction)(target),toMetaKey(targetKey))}}})},{"./_a-function":53,"./_an-object":57,"./_metadata":116}],356:[function(require,module,exports){require("./_set-collection-from")("Set")},{"./_set-collection-from":144}],357:[function(require,module,exports){require("./_set-collection-of")("Set")},{"./_set-collection-of":145}],358:[function(require,module,exports){var $export=require("./_export");$export($export.P+$export.R,"Set",{toJSON:require("./_collection-to-json")("Set")})},{"./_collection-to-json":70,"./_export":83}],359:[function(require,module,exports){"use strict";var $export=require("./_export"),$at=require("./_string-at")(!0);$export($export.P,"String",{at:function at(pos){return $at(this,pos)}})},{"./_export":83,"./_string-at":153}],360:[function(require,module,exports){"use strict";var $export=require("./_export"),defined=require("./_defined"),toLength=require("./_to-length"),isRegExp=require("./_is-regexp"),getFlags=require("./_flags"),RegExpProto=RegExp.prototype,$RegExpStringIterator=function(regexp,string){this._r=regexp,this._s=string};require("./_iter-create")($RegExpStringIterator,"RegExp String",function next(){var match=this._r.exec(this._s);return{value:match,done:null===match}}),$export($export.P,"String",{matchAll:function matchAll(regexp){if(defined(this),!isRegExp(regexp))throw TypeError(regexp+" is not a regexp!");var S=String(this),flags="flags"in RegExpProto?String(regexp.flags):getFlags.call(regexp),rx=new RegExp(regexp.source,~flags.indexOf("g")?flags:"g"+flags);return rx.lastIndex=toLength(regexp.lastIndex),new $RegExpStringIterator(rx,S)}})},{"./_defined":78,"./_export":83,"./_flags":87,"./_is-regexp":102,"./_iter-create":104,"./_to-length":165}],361:[function(require,module,exports){"use strict";var $export=require("./_export"),$pad=require("./_string-pad"),userAgent=require("./_user-agent");$export($export.P+$export.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(userAgent),"String",{padEnd:function padEnd(maxLength){return $pad(this,maxLength,arguments.length>1?arguments[1]:void 0,!1)}})},{"./_export":83,"./_string-pad":156,"./_user-agent":172}],362:[function(require,module,exports){"use strict";var $export=require("./_export"),$pad=require("./_string-pad"),userAgent=require("./_user-agent");$export($export.P+$export.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(userAgent),"String",{padStart:function padStart(maxLength){return $pad(this,maxLength,arguments.length>1?arguments[1]:void 0,!0)}})},{"./_export":83,"./_string-pad":156,"./_user-agent":172}],363:[function(require,module,exports){"use strict";require("./_string-trim")("trimLeft",function($trim){return function trimLeft(){return $trim(this,1)}},"trimStart")},{"./_string-trim":158}],364:[function(require,module,exports){"use strict";require("./_string-trim")("trimRight",function($trim){return function trimRight(){return $trim(this,2)}},"trimEnd")},{"./_string-trim":158}],365:[function(require,module,exports){require("./_wks-define")("asyncIterator")},{"./_wks-define":174}],366:[function(require,module,exports){require("./_wks-define")("observable")},{"./_wks-define":174}],367:[function(require,module,exports){var $export=require("./_export");$export($export.S,"System",{global:require("./_global")})},{"./_export":83,"./_global":90}],368:[function(require,module,exports){require("./_set-collection-from")("WeakMap")},{"./_set-collection-from":144}],369:[function(require,module,exports){require("./_set-collection-of")("WeakMap")},{"./_set-collection-of":145}],370:[function(require,module,exports){require("./_set-collection-from")("WeakSet")},{"./_set-collection-from":144}],371:[function(require,module,exports){require("./_set-collection-of")("WeakSet")},{"./_set-collection-of":145}],372:[function(require,module,exports){for(var $iterators=require("./es6.array.iterator"),getKeys=require("./_object-keys"),redefine=require("./_redefine"),global=require("./_global"),hide=require("./_hide"),Iterators=require("./_iterators"),wks=require("./_wks"),ITERATOR=wks("iterator"),TO_STRING_TAG=wks("toStringTag"),ArrayValues=Iterators.Array,DOMIterables={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},collections=getKeys(DOMIterables),i=0;i<collections.length;i++){var key,NAME=collections[i],explicit=DOMIterables[NAME],Collection=global[NAME],proto=Collection&&Collection.prototype;if(proto&&(proto[ITERATOR]||hide(proto,ITERATOR,ArrayValues),proto[TO_STRING_TAG]||hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=ArrayValues,explicit))for(key in $iterators)proto[key]||redefine(proto,key,$iterators[key],!0)}},{"./_global":90,"./_hide":92,"./_iterators":108,"./_object-keys":130,"./_redefine":141,"./_wks":176,"./es6.array.iterator":189}],373:[function(require,module,exports){var $export=require("./_export"),$task=require("./_task");$export($export.G+$export.B,{setImmediate:$task.set,clearImmediate:$task.clear})},{"./_export":83,"./_task":160}],374:[function(require,module,exports){var global=require("./_global"),$export=require("./_export"),userAgent=require("./_user-agent"),slice=[].slice,MSIE=/MSIE .\./.test(userAgent),wrap=function(set){return function(fn,time){var boundArgs=arguments.length>2,args=!!boundArgs&&slice.call(arguments,2);return set(boundArgs?function(){("function"==typeof fn?fn:Function(fn)).apply(this,args)}:fn,time)}};$export($export.G+$export.B+$export.F*MSIE,{setTimeout:wrap(global.setTimeout),setInterval:wrap(global.setInterval)})},{"./_export":83,"./_global":90,"./_user-agent":172}],375:[function(require,module,exports){require("./modules/es6.symbol"),require("./modules/es6.object.create"),require("./modules/es6.object.define-property"),require("./modules/es6.object.define-properties"),require("./modules/es6.object.get-own-property-descriptor"),require("./modules/es6.object.get-prototype-of"),require("./modules/es6.object.keys"),require("./modules/es6.object.get-own-property-names"),require("./modules/es6.object.freeze"),require("./modules/es6.object.seal"),require("./modules/es6.object.prevent-extensions"),require("./modules/es6.object.is-frozen"),require("./modules/es6.object.is-sealed"),require("./modules/es6.object.is-extensible"),require("./modules/es6.object.assign"),require("./modules/es6.object.is"),require("./modules/es6.object.set-prototype-of"),require("./modules/es6.object.to-string"),require("./modules/es6.function.bind"),require("./modules/es6.function.name"),require("./modules/es6.function.has-instance"),require("./modules/es6.parse-int"),require("./modules/es6.parse-float"),require("./modules/es6.number.constructor"),require("./modules/es6.number.to-fixed"),require("./modules/es6.number.to-precision"),require("./modules/es6.number.epsilon"),require("./modules/es6.number.is-finite"),require("./modules/es6.number.is-integer"),require("./modules/es6.number.is-nan"),require("./modules/es6.number.is-safe-integer"),require("./modules/es6.number.max-safe-integer"),require("./modules/es6.number.min-safe-integer"),require("./modules/es6.number.parse-float"),require("./modules/es6.number.parse-int"),require("./modules/es6.math.acosh"),require("./modules/es6.math.asinh"),require("./modules/es6.math.atanh"),require("./modules/es6.math.cbrt"),require("./modules/es6.math.clz32"),require("./modules/es6.math.cosh"),require("./modules/es6.math.expm1"),require("./modules/es6.math.fround"),require("./modules/es6.math.hypot"),require("./modules/es6.math.imul"),require("./modules/es6.math.log10"),require("./modules/es6.math.log1p"),require("./modules/es6.math.log2"),require("./modules/es6.math.sign"),require("./modules/es6.math.sinh"),require("./modules/es6.math.tanh"),require("./modules/es6.math.trunc"),require("./modules/es6.string.from-code-point"),require("./modules/es6.string.raw"),require("./modules/es6.string.trim"),require("./modules/es6.string.iterator"),require("./modules/es6.string.code-point-at"),require("./modules/es6.string.ends-with"),require("./modules/es6.string.includes"),require("./modules/es6.string.repeat"),require("./modules/es6.string.starts-with"),require("./modules/es6.string.anchor"),require("./modules/es6.string.big"),require("./modules/es6.string.blink"),require("./modules/es6.string.bold"),require("./modules/es6.string.fixed"),require("./modules/es6.string.fontcolor"),require("./modules/es6.string.fontsize"),require("./modules/es6.string.italics"),require("./modules/es6.string.link"),require("./modules/es6.string.small"),require("./modules/es6.string.strike"),require("./modules/es6.string.sub"),require("./modules/es6.string.sup"),require("./modules/es6.date.now"),require("./modules/es6.date.to-json"),require("./modules/es6.date.to-iso-string"),require("./modules/es6.date.to-string"),require("./modules/es6.date.to-primitive"),require("./modules/es6.array.is-array"),require("./modules/es6.array.from"),require("./modules/es6.array.of"),require("./modules/es6.array.join"),require("./modules/es6.array.slice"),require("./modules/es6.array.sort"),require("./modules/es6.array.for-each"),require("./modules/es6.array.map"),require("./modules/es6.array.filter"),require("./modules/es6.array.some"),require("./modules/es6.array.every"),require("./modules/es6.array.reduce"),require("./modules/es6.array.reduce-right"),require("./modules/es6.array.index-of"),require("./modules/es6.array.last-index-of"),require("./modules/es6.array.copy-within"),require("./modules/es6.array.fill"),require("./modules/es6.array.find"),require("./modules/es6.array.find-index"),require("./modules/es6.array.species"),require("./modules/es6.array.iterator"),require("./modules/es6.regexp.constructor"),require("./modules/es6.regexp.to-string"),require("./modules/es6.regexp.flags"),require("./modules/es6.regexp.match"),require("./modules/es6.regexp.replace"),require("./modules/es6.regexp.search"),require("./modules/es6.regexp.split"),require("./modules/es6.promise"),require("./modules/es6.map"),require("./modules/es6.set"),require("./modules/es6.weak-map"),require("./modules/es6.weak-set"),require("./modules/es6.typed.array-buffer"),require("./modules/es6.typed.data-view"),require("./modules/es6.typed.int8-array"),require("./modules/es6.typed.uint8-array"),require("./modules/es6.typed.uint8-clamped-array"),require("./modules/es6.typed.int16-array"),require("./modules/es6.typed.uint16-array"),require("./modules/es6.typed.int32-array"),require("./modules/es6.typed.uint32-array"),require("./modules/es6.typed.float32-array"),require("./modules/es6.typed.float64-array"),require("./modules/es6.reflect.apply"),require("./modules/es6.reflect.construct"),require("./modules/es6.reflect.define-property"),require("./modules/es6.reflect.delete-property"),require("./modules/es6.reflect.enumerate"),require("./modules/es6.reflect.get"),require("./modules/es6.reflect.get-own-property-descriptor"),require("./modules/es6.reflect.get-prototype-of"),require("./modules/es6.reflect.has"),require("./modules/es6.reflect.is-extensible"),require("./modules/es6.reflect.own-keys"),require("./modules/es6.reflect.prevent-extensions"),require("./modules/es6.reflect.set"),require("./modules/es6.reflect.set-prototype-of"),require("./modules/es7.array.includes"),require("./modules/es7.array.flat-map"),require("./modules/es7.array.flatten"),require("./modules/es7.string.at"),require("./modules/es7.string.pad-start"),require("./modules/es7.string.pad-end"),require("./modules/es7.string.trim-left"),require("./modules/es7.string.trim-right"),require("./modules/es7.string.match-all"),require("./modules/es7.symbol.async-iterator"),require("./modules/es7.symbol.observable"),require("./modules/es7.object.get-own-property-descriptors"),require("./modules/es7.object.values"),require("./modules/es7.object.entries"),require("./modules/es7.object.define-getter"),require("./modules/es7.object.define-setter"),require("./modules/es7.object.lookup-getter"),require("./modules/es7.object.lookup-setter"),require("./modules/es7.map.to-json"),require("./modules/es7.set.to-json"),require("./modules/es7.map.of"),require("./modules/es7.set.of"),require("./modules/es7.weak-map.of"),require("./modules/es7.weak-set.of"),require("./modules/es7.map.from"),require("./modules/es7.set.from"),require("./modules/es7.weak-map.from"),require("./modules/es7.weak-set.from"),require("./modules/es7.global"),require("./modules/es7.system.global"),require("./modules/es7.error.is-error"),require("./modules/es7.math.clamp"),require("./modules/es7.math.deg-per-rad"),require("./modules/es7.math.degrees"),require("./modules/es7.math.fscale"),require("./modules/es7.math.iaddh"),require("./modules/es7.math.isubh"),require("./modules/es7.math.imulh"),require("./modules/es7.math.rad-per-deg"),require("./modules/es7.math.radians"),require("./modules/es7.math.scale"),require("./modules/es7.math.umulh"),require("./modules/es7.math.signbit"),require("./modules/es7.promise.finally"),require("./modules/es7.promise.try"),require("./modules/es7.reflect.define-metadata"),require("./modules/es7.reflect.delete-metadata"),require("./modules/es7.reflect.get-metadata"),require("./modules/es7.reflect.get-metadata-keys"),require("./modules/es7.reflect.get-own-metadata"),require("./modules/es7.reflect.get-own-metadata-keys"),require("./modules/es7.reflect.has-metadata"),require("./modules/es7.reflect.has-own-metadata"),require("./modules/es7.reflect.metadata"),require("./modules/es7.asap"),require("./modules/es7.observable"),require("./modules/web.timers"),require("./modules/web.immediate"),require("./modules/web.dom.iterable"),module.exports=require("./modules/_core")},{"./modules/_core":73,"./modules/es6.array.copy-within":179,"./modules/es6.array.every":180,"./modules/es6.array.fill":181,"./modules/es6.array.filter":182,"./modules/es6.array.find":184,"./modules/es6.array.find-index":183,"./modules/es6.array.for-each":185,"./modules/es6.array.from":186,"./modules/es6.array.index-of":187,"./modules/es6.array.is-array":188,"./modules/es6.array.iterator":189,"./modules/es6.array.join":190,"./modules/es6.array.last-index-of":191,"./modules/es6.array.map":192,"./modules/es6.array.of":193,"./modules/es6.array.reduce":195,"./modules/es6.array.reduce-right":194,"./modules/es6.array.slice":196,"./modules/es6.array.some":197,"./modules/es6.array.sort":198,"./modules/es6.array.species":199,"./modules/es6.date.now":200,"./modules/es6.date.to-iso-string":201,"./modules/es6.date.to-json":202,"./modules/es6.date.to-primitive":203,"./modules/es6.date.to-string":204,"./modules/es6.function.bind":205,"./modules/es6.function.has-instance":206,"./modules/es6.function.name":207,"./modules/es6.map":208,"./modules/es6.math.acosh":209,"./modules/es6.math.asinh":210,"./modules/es6.math.atanh":211,"./modules/es6.math.cbrt":212,"./modules/es6.math.clz32":213,"./modules/es6.math.cosh":214,"./modules/es6.math.expm1":215,"./modules/es6.math.fround":216,"./modules/es6.math.hypot":217,"./modules/es6.math.imul":218,"./modules/es6.math.log10":219,"./modules/es6.math.log1p":220,"./modules/es6.math.log2":221,"./modules/es6.math.sign":222,"./modules/es6.math.sinh":223,"./modules/es6.math.tanh":224,"./modules/es6.math.trunc":225,"./modules/es6.number.constructor":226,"./modules/es6.number.epsilon":227,"./modules/es6.number.is-finite":228,"./modules/es6.number.is-integer":229,"./modules/es6.number.is-nan":230,"./modules/es6.number.is-safe-integer":231,"./modules/es6.number.max-safe-integer":232,"./modules/es6.number.min-safe-integer":233,"./modules/es6.number.parse-float":234,"./modules/es6.number.parse-int":235,"./modules/es6.number.to-fixed":236,"./modules/es6.number.to-precision":237,"./modules/es6.object.assign":238,"./modules/es6.object.create":239,"./modules/es6.object.define-properties":240,"./modules/es6.object.define-property":241,"./modules/es6.object.freeze":242,"./modules/es6.object.get-own-property-descriptor":243,"./modules/es6.object.get-own-property-names":244,"./modules/es6.object.get-prototype-of":245,"./modules/es6.object.is":249,"./modules/es6.object.is-extensible":246,"./modules/es6.object.is-frozen":247,"./modules/es6.object.is-sealed":248,"./modules/es6.object.keys":250,"./modules/es6.object.prevent-extensions":251,"./modules/es6.object.seal":252,"./modules/es6.object.set-prototype-of":253,"./modules/es6.object.to-string":254,"./modules/es6.parse-float":255,"./modules/es6.parse-int":256,"./modules/es6.promise":257,"./modules/es6.reflect.apply":258,"./modules/es6.reflect.construct":259,"./modules/es6.reflect.define-property":260,"./modules/es6.reflect.delete-property":261,"./modules/es6.reflect.enumerate":262,"./modules/es6.reflect.get":265,"./modules/es6.reflect.get-own-property-descriptor":263,"./modules/es6.reflect.get-prototype-of":264,"./modules/es6.reflect.has":266,"./modules/es6.reflect.is-extensible":267,"./modules/es6.reflect.own-keys":268,"./modules/es6.reflect.prevent-extensions":269,"./modules/es6.reflect.set":271,"./modules/es6.reflect.set-prototype-of":270,"./modules/es6.regexp.constructor":272,"./modules/es6.regexp.flags":273,"./modules/es6.regexp.match":274,"./modules/es6.regexp.replace":275,"./modules/es6.regexp.search":276,"./modules/es6.regexp.split":277,"./modules/es6.regexp.to-string":278,"./modules/es6.set":279,"./modules/es6.string.anchor":280,"./modules/es6.string.big":281,"./modules/es6.string.blink":282,"./modules/es6.string.bold":283,"./modules/es6.string.code-point-at":284,"./modules/es6.string.ends-with":285,"./modules/es6.string.fixed":286,"./modules/es6.string.fontcolor":287,"./modules/es6.string.fontsize":288,"./modules/es6.string.from-code-point":289,"./modules/es6.string.includes":290,"./modules/es6.string.italics":291,"./modules/es6.string.iterator":292,"./modules/es6.string.link":293,"./modules/es6.string.raw":294,"./modules/es6.string.repeat":295,"./modules/es6.string.small":296,"./modules/es6.string.starts-with":297,"./modules/es6.string.strike":298,"./modules/es6.string.sub":299,"./modules/es6.string.sup":300,"./modules/es6.string.trim":301,"./modules/es6.symbol":302,"./modules/es6.typed.array-buffer":303,"./modules/es6.typed.data-view":304,"./modules/es6.typed.float32-array":305,"./modules/es6.typed.float64-array":306,"./modules/es6.typed.int16-array":307,"./modules/es6.typed.int32-array":308,"./modules/es6.typed.int8-array":309,"./modules/es6.typed.uint16-array":310,"./modules/es6.typed.uint32-array":311,"./modules/es6.typed.uint8-array":312,"./modules/es6.typed.uint8-clamped-array":313,"./modules/es6.weak-map":314,"./modules/es6.weak-set":315,"./modules/es7.array.flat-map":316,"./modules/es7.array.flatten":317,"./modules/es7.array.includes":318,"./modules/es7.asap":319,"./modules/es7.error.is-error":320,"./modules/es7.global":321,"./modules/es7.map.from":322,"./modules/es7.map.of":323,"./modules/es7.map.to-json":324,"./modules/es7.math.clamp":325,"./modules/es7.math.deg-per-rad":326,"./modules/es7.math.degrees":327,"./modules/es7.math.fscale":328,"./modules/es7.math.iaddh":329,"./modules/es7.math.imulh":330,"./modules/es7.math.isubh":331,"./modules/es7.math.rad-per-deg":332,"./modules/es7.math.radians":333,"./modules/es7.math.scale":334,"./modules/es7.math.signbit":335,"./modules/es7.math.umulh":336,"./modules/es7.object.define-getter":337,"./modules/es7.object.define-setter":338,"./modules/es7.object.entries":339,"./modules/es7.object.get-own-property-descriptors":340,"./modules/es7.object.lookup-getter":341,"./modules/es7.object.lookup-setter":342,"./modules/es7.object.values":343,"./modules/es7.observable":344,"./modules/es7.promise.finally":345,"./modules/es7.promise.try":346,"./modules/es7.reflect.define-metadata":347,"./modules/es7.reflect.delete-metadata":348,"./modules/es7.reflect.get-metadata":350,"./modules/es7.reflect.get-metadata-keys":349,"./modules/es7.reflect.get-own-metadata":352,"./modules/es7.reflect.get-own-metadata-keys":351,"./modules/es7.reflect.has-metadata":353,"./modules/es7.reflect.has-own-metadata":354,"./modules/es7.reflect.metadata":355,"./modules/es7.set.from":356,"./modules/es7.set.of":357,"./modules/es7.set.to-json":358,"./modules/es7.string.at":359,"./modules/es7.string.match-all":360,"./modules/es7.string.pad-end":361,"./modules/es7.string.pad-start":362,"./modules/es7.string.trim-left":363,"./modules/es7.string.trim-right":364,"./modules/es7.symbol.async-iterator":365,"./modules/es7.symbol.observable":366,"./modules/es7.system.global":367,"./modules/es7.weak-map.from":368,"./modules/es7.weak-map.of":369,"./modules/es7.weak-set.from":370,"./modules/es7.weak-set.of":371,"./modules/web.dom.iterable":372,"./modules/web.immediate":373,"./modules/web.timers":374}],376:[function(require,module,exports){module.exports=require("./socket"),module.exports.parser=require("engine.io-parser")},{"./socket":377,"engine.io-parser":387}],377:[function(require,module,exports){var transports=require("./transports/index"),Emitter=require("component-emitter"),debug=require("debug")("engine.io-client:socket"),index=require("indexof"),parser=require("engine.io-parser"),parseuri=require("parseuri"),parseqs=require("parseqs");function Socket(uri,opts){if(!(this instanceof Socket))return new Socket(uri,opts);opts=opts||{},uri&&"object"==typeof uri&&(opts=uri,uri=null),uri?(uri=parseuri(uri),opts.hostname=uri.host,opts.secure="https"===uri.protocol||"wss"===uri.protocol,opts.port=uri.port,uri.query&&(opts.query=uri.query)):opts.host&&(opts.hostname=parseuri(opts.host).host),this.secure=null!=opts.secure?opts.secure:"undefined"!=typeof location&&"https:"===location.protocol,opts.hostname&&!opts.port&&(opts.port=this.secure?"443":"80"),this.agent=opts.agent||!1,this.hostname=opts.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=opts.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=opts.query||{},"string"==typeof this.query&&(this.query=parseqs.decode(this.query)),this.upgrade=!1!==opts.upgrade,this.path=(opts.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!opts.forceJSONP,this.jsonp=!1!==opts.jsonp,this.forceBase64=!!opts.forceBase64,this.enablesXDR=!!opts.enablesXDR,this.timestampParam=opts.timestampParam||"t",this.timestampRequests=opts.timestampRequests,this.transports=opts.transports||["polling","websocket"],this.transportOptions=opts.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=opts.policyPort||843,this.rememberUpgrade=opts.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=opts.onlyBinaryUpgrades,this.perMessageDeflate=!1!==opts.perMessageDeflate&&(opts.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=opts.pfx||null,this.key=opts.key||null,this.passphrase=opts.passphrase||null,this.cert=opts.cert||null,this.ca=opts.ca||null,this.ciphers=opts.ciphers||null,this.rejectUnauthorized=void 0===opts.rejectUnauthorized||opts.rejectUnauthorized,this.forceNode=!!opts.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(opts.extraHeaders&&Object.keys(opts.extraHeaders).length>0&&(this.extraHeaders=opts.extraHeaders),opts.localAddress&&(this.localAddress=opts.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}module.exports=Socket,Socket.priorWebsocketSuccess=!1,Emitter(Socket.prototype),Socket.protocol=parser.protocol,Socket.Socket=Socket,Socket.Transport=require("./transport"),Socket.transports=require("./transports/index"),Socket.parser=require("engine.io-parser"),Socket.prototype.createTransport=function(name){debug('creating transport "%s"',name);var query=function clone(obj){var o={};for(var i in obj)obj.hasOwnProperty(i)&&(o[i]=obj[i]);return o}(this.query);query.EIO=parser.protocol,query.transport=name;var options=this.transportOptions[name]||{};return this.id&&(query.sid=this.id),new transports[name]({query:query,socket:this,agent:options.agent||this.agent,hostname:options.hostname||this.hostname,port:options.port||this.port,secure:options.secure||this.secure,path:options.path||this.path,forceJSONP:options.forceJSONP||this.forceJSONP,jsonp:options.jsonp||this.jsonp,forceBase64:options.forceBase64||this.forceBase64,enablesXDR:options.enablesXDR||this.enablesXDR,timestampRequests:options.timestampRequests||this.timestampRequests,timestampParam:options.timestampParam||this.timestampParam,policyPort:options.policyPort||this.policyPort,pfx:options.pfx||this.pfx,key:options.key||this.key,passphrase:options.passphrase||this.passphrase,cert:options.cert||this.cert,ca:options.ca||this.ca,ciphers:options.ciphers||this.ciphers,rejectUnauthorized:options.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:options.perMessageDeflate||this.perMessageDeflate,extraHeaders:options.extraHeaders||this.extraHeaders,forceNode:options.forceNode||this.forceNode,localAddress:options.localAddress||this.localAddress,requestTimeout:options.requestTimeout||this.requestTimeout,protocols:options.protocols||void 0,isReactNative:this.isReactNative})},Socket.prototype.open=function(){var transport;if(this.rememberUpgrade&&Socket.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))transport="websocket";else{if(0===this.transports.length){var self=this;return void setTimeout(function(){self.emit("error","No transports available")},0)}transport=this.transports[0]}this.readyState="opening";try{transport=this.createTransport(transport)}catch(e){return this.transports.shift(),void this.open()}transport.open(),this.setTransport(transport)},Socket.prototype.setTransport=function(transport){debug("setting transport %s",transport.name);var self=this;this.transport&&(debug("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=transport,transport.on("drain",function(){self.onDrain()}).on("packet",function(packet){self.onPacket(packet)}).on("error",function(e){self.onError(e)}).on("close",function(){self.onClose("transport close")})},Socket.prototype.probe=function(name){debug('probing transport "%s"',name);var transport=this.createTransport(name,{probe:1}),failed=!1,self=this;function onTransportOpen(){if(self.onlyBinaryUpgrades){var upgradeLosesBinary=!this.supportsBinary&&self.transport.supportsBinary;failed=failed||upgradeLosesBinary}failed||(debug('probe transport "%s" opened',name),transport.send([{type:"ping",data:"probe"}]),transport.once("packet",function(msg){if(!failed)if("pong"===msg.type&&"probe"===msg.data){if(debug('probe transport "%s" pong',name),self.upgrading=!0,self.emit("upgrading",transport),!transport)return;Socket.priorWebsocketSuccess="websocket"===transport.name,debug('pausing current transport "%s"',self.transport.name),self.transport.pause(function(){failed||"closed"!==self.readyState&&(debug("changing transport and sending upgrade packet"),cleanup(),self.setTransport(transport),transport.send([{type:"upgrade"}]),self.emit("upgrade",transport),transport=null,self.upgrading=!1,self.flush())})}else{debug('probe transport "%s" failed',name);var err=new Error("probe error");err.transport=transport.name,self.emit("upgradeError",err)}}))}function freezeTransport(){failed||(failed=!0,cleanup(),transport.close(),transport=null)}function onerror(err){var error=new Error("probe error: "+err);error.transport=transport.name,freezeTransport(),debug('probe transport "%s" failed because of error: %s',name,err),self.emit("upgradeError",error)}function onTransportClose(){onerror("transport closed")}function onclose(){onerror("socket closed")}function onupgrade(to){transport&&to.name!==transport.name&&(debug('"%s" works - aborting "%s"',to.name,transport.name),freezeTransport())}function cleanup(){transport.removeListener("open",onTransportOpen),transport.removeListener("error",onerror),transport.removeListener("close",onTransportClose),self.removeListener("close",onclose),self.removeListener("upgrading",onupgrade)}Socket.priorWebsocketSuccess=!1,transport.once("open",onTransportOpen),transport.once("error",onerror),transport.once("close",onTransportClose),this.once("close",onclose),this.once("upgrading",onupgrade),transport.open()},Socket.prototype.onOpen=function(){if(debug("socket open"),this.readyState="open",Socket.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){debug("starting upgrade probes");for(var i=0,l=this.upgrades.length;i<l;i++)this.probe(this.upgrades[i])}},Socket.prototype.onPacket=function(packet){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(debug('socket receive: type "%s", data "%s"',packet.type,packet.data),this.emit("packet",packet),this.emit("heartbeat"),packet.type){case"open":this.onHandshake(JSON.parse(packet.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var err=new Error("server error");err.code=packet.data,this.onError(err);break;case"message":this.emit("data",packet.data),this.emit("message",packet.data)}else debug('packet received with socket readyState "%s"',this.readyState)},Socket.prototype.onHandshake=function(data){this.emit("handshake",data),this.id=data.sid,this.transport.query.sid=data.sid,this.upgrades=this.filterUpgrades(data.upgrades),this.pingInterval=data.pingInterval,this.pingTimeout=data.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},Socket.prototype.onHeartbeat=function(timeout){clearTimeout(this.pingTimeoutTimer);var self=this;self.pingTimeoutTimer=setTimeout(function(){"closed"!==self.readyState&&self.onClose("ping timeout")},timeout||self.pingInterval+self.pingTimeout)},Socket.prototype.setPing=function(){var self=this;clearTimeout(self.pingIntervalTimer),self.pingIntervalTimer=setTimeout(function(){debug("writing ping packet - expecting pong within %sms",self.pingTimeout),self.ping(),self.onHeartbeat(self.pingTimeout)},self.pingInterval)},Socket.prototype.ping=function(){var self=this;this.sendPacket("ping",function(){self.emit("ping")})},Socket.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},Socket.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(debug("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},Socket.prototype.write=Socket.prototype.send=function(msg,options,fn){return this.sendPacket("message",msg,options,fn),this},Socket.prototype.sendPacket=function(type,data,options,fn){if("function"==typeof data&&(fn=data,data=void 0),"function"==typeof options&&(fn=options,options=null),"closing"!==this.readyState&&"closed"!==this.readyState){(options=options||{}).compress=!1!==options.compress;var packet={type:type,data:data,options:options};this.emit("packetCreate",packet),this.writeBuffer.push(packet),fn&&this.once("flush",fn),this.flush()}},Socket.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var self=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?waitForUpgrade():close()}):this.upgrading?waitForUpgrade():close()}function close(){self.onClose("forced close"),debug("socket closing - telling transport to close"),self.transport.close()}function cleanupAndClose(){self.removeListener("upgrade",cleanupAndClose),self.removeListener("upgradeError",cleanupAndClose),close()}function waitForUpgrade(){self.once("upgrade",cleanupAndClose),self.once("upgradeError",cleanupAndClose)}return this},Socket.prototype.onError=function(err){debug("socket error %j",err),Socket.priorWebsocketSuccess=!1,this.emit("error",err),this.onClose("transport error",err)},Socket.prototype.onClose=function(reason,desc){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){debug('socket close with reason: "%s"',reason);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",reason,desc),this.writeBuffer=[],this.prevBufferLen=0}},Socket.prototype.filterUpgrades=function(upgrades){for(var filteredUpgrades=[],i=0,j=upgrades.length;i<j;i++)~index(this.transports,upgrades[i])&&filteredUpgrades.push(upgrades[i]);return filteredUpgrades}},{"./transport":378,"./transports/index":379,"component-emitter":50,debug:385,"engine.io-parser":387,indexof:394,parseqs:485,parseuri:486}],378:[function(require,module,exports){var parser=require("engine.io-parser"),Emitter=require("component-emitter");function Transport(opts){this.path=opts.path,this.hostname=opts.hostname,this.port=opts.port,this.secure=opts.secure,this.query=opts.query,this.timestampParam=opts.timestampParam,this.timestampRequests=opts.timestampRequests,this.readyState="",this.agent=opts.agent||!1,this.socket=opts.socket,this.enablesXDR=opts.enablesXDR,this.pfx=opts.pfx,this.key=opts.key,this.passphrase=opts.passphrase,this.cert=opts.cert,this.ca=opts.ca,this.ciphers=opts.ciphers,this.rejectUnauthorized=opts.rejectUnauthorized,this.forceNode=opts.forceNode,this.isReactNative=opts.isReactNative,this.extraHeaders=opts.extraHeaders,this.localAddress=opts.localAddress}module.exports=Transport,Emitter(Transport.prototype),Transport.prototype.onError=function(msg,desc){var err=new Error(msg);return err.type="TransportError",err.description=desc,this.emit("error",err),this},Transport.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},Transport.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},Transport.prototype.send=function(packets){if("open"!==this.readyState)throw new Error("Transport not open");this.write(packets)},Transport.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},Transport.prototype.onData=function(data){var packet=parser.decodePacket(data,this.socket.binaryType);this.onPacket(packet)},Transport.prototype.onPacket=function(packet){this.emit("packet",packet)},Transport.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":50,"engine.io-parser":387}],379:[function(require,module,exports){var XMLHttpRequest=require("xmlhttprequest-ssl"),XHR=require("./polling-xhr"),JSONP=require("./polling-jsonp"),websocket=require("./websocket");exports.polling=function polling(opts){var xd=!1,xs=!1,jsonp=!1!==opts.jsonp;if("undefined"!=typeof location){var isSSL="https:"===location.protocol,port=location.port;port||(port=isSSL?443:80),xd=opts.hostname!==location.hostname||port!==opts.port,xs=opts.secure!==isSSL}if(opts.xdomain=xd,opts.xscheme=xs,"open"in new XMLHttpRequest(opts)&&!opts.forceJSONP)return new XHR(opts);if(!jsonp)throw new Error("JSONP disabled");return new JSONP(opts)},exports.websocket=websocket},{"./polling-jsonp":380,"./polling-xhr":381,"./websocket":383,"xmlhttprequest-ssl":384}],380:[function(require,module,exports){(function(global){var Polling=require("./polling"),inherit=require("component-inherit");module.exports=JSONPPolling;var callbacks,rNewline=/\n/g,rEscapedNewline=/\\n/g;function empty(){}function glob(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:{}}function JSONPPolling(opts){if(Polling.call(this,opts),this.query=this.query||{},!callbacks){var global=glob();callbacks=global.___eio=global.___eio||[]}this.index=callbacks.length;var self=this;callbacks.push(function(msg){self.onData(msg)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){self.script&&(self.script.onerror=empty)},!1)}inherit(JSONPPolling,Polling),JSONPPolling.prototype.supportsBinary=!1,JSONPPolling.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),Polling.prototype.doClose.call(this)},JSONPPolling.prototype.doPoll=function(){var self=this,script=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),script.async=!0,script.src=this.uri(),script.onerror=function(e){self.onError("jsonp poll error",e)};var insertAt=document.getElementsByTagName("script")[0];insertAt?insertAt.parentNode.insertBefore(script,insertAt):(document.head||document.body).appendChild(script),this.script=script,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var iframe=document.createElement("iframe");document.body.appendChild(iframe),document.body.removeChild(iframe)},100)},JSONPPolling.prototype.doWrite=function(data,fn){var self=this;if(!this.form){var iframe,form=document.createElement("form"),area=document.createElement("textarea"),id=this.iframeId="eio_iframe_"+this.index;form.className="socketio",form.style.position="absolute",form.style.top="-1000px",form.style.left="-1000px",form.target=id,form.method="POST",form.setAttribute("accept-charset","utf-8"),area.name="d",form.appendChild(area),document.body.appendChild(form),this.form=form,this.area=area}function complete(){initIframe(),fn()}function initIframe(){if(self.iframe)try{self.form.removeChild(self.iframe)}catch(e){self.onError("jsonp polling iframe removal error",e)}try{var html='<iframe src="javascript:0" name="'+self.iframeId+'">';iframe=document.createElement(html)}catch(e){(iframe=document.createElement("iframe")).name=self.iframeId,iframe.src="javascript:0"}iframe.id=self.iframeId,self.form.appendChild(iframe),self.iframe=iframe}this.form.action=this.uri(),initIframe(),data=data.replace(rEscapedNewline,"\\\n"),this.area.value=data.replace(rNewline,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===self.iframe.readyState&&complete()}:this.iframe.onload=complete}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":382,"component-inherit":51}],381:[function(require,module,exports){var XMLHttpRequest=require("xmlhttprequest-ssl"),Polling=require("./polling"),Emitter=require("component-emitter"),inherit=require("component-inherit"),debug=require("debug")("engine.io-client:polling-xhr");function empty(){}function XHR(opts){if(Polling.call(this,opts),this.requestTimeout=opts.requestTimeout,this.extraHeaders=opts.extraHeaders,"undefined"!=typeof location){var isSSL="https:"===location.protocol,port=location.port;port||(port=isSSL?443:80),this.xd="undefined"!=typeof location&&opts.hostname!==location.hostname||port!==opts.port,this.xs=opts.secure!==isSSL}}function Request(opts){this.method=opts.method||"GET",this.uri=opts.uri,this.xd=!!opts.xd,this.xs=!!opts.xs,this.async=!1!==opts.async,this.data=void 0!==opts.data?opts.data:null,this.agent=opts.agent,this.isBinary=opts.isBinary,this.supportsBinary=opts.supportsBinary,this.enablesXDR=opts.enablesXDR,this.requestTimeout=opts.requestTimeout,this.pfx=opts.pfx,this.key=opts.key,this.passphrase=opts.passphrase,this.cert=opts.cert,this.ca=opts.ca,this.ciphers=opts.ciphers,this.rejectUnauthorized=opts.rejectUnauthorized,this.extraHeaders=opts.extraHeaders,this.create()}if(module.exports=XHR,module.exports.Request=Request,inherit(XHR,Polling),XHR.prototype.supportsBinary=!0,XHR.prototype.request=function(opts){return(opts=opts||{}).uri=this.uri(),opts.xd=this.xd,opts.xs=this.xs,opts.agent=this.agent||!1,opts.supportsBinary=this.supportsBinary,opts.enablesXDR=this.enablesXDR,opts.pfx=this.pfx,opts.key=this.key,opts.passphrase=this.passphrase,opts.cert=this.cert,opts.ca=this.ca,opts.ciphers=this.ciphers,opts.rejectUnauthorized=this.rejectUnauthorized,opts.requestTimeout=this.requestTimeout,opts.extraHeaders=this.extraHeaders,new Request(opts)},XHR.prototype.doWrite=function(data,fn){var isBinary="string"!=typeof data&&void 0!==data,req=this.request({method:"POST",data:data,isBinary:isBinary}),self=this;req.on("success",fn),req.on("error",function(err){self.onError("xhr post error",err)}),this.sendXhr=req},XHR.prototype.doPoll=function(){debug("xhr poll");var req=this.request(),self=this;req.on("data",function(data){self.onData(data)}),req.on("error",function(err){self.onError("xhr poll error",err)}),this.pollXhr=req},Emitter(Request.prototype),Request.prototype.create=function(){var opts={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};opts.pfx=this.pfx,opts.key=this.key,opts.passphrase=this.passphrase,opts.cert=this.cert,opts.ca=this.ca,opts.ciphers=this.ciphers,opts.rejectUnauthorized=this.rejectUnauthorized;var xhr=this.xhr=new XMLHttpRequest(opts),self=this;try{debug("xhr open %s: %s",this.method,this.uri),xhr.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in xhr.setDisableHeaderCheck&&xhr.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&xhr.setRequestHeader(i,this.extraHeaders[i])}catch(e){}if("POST"===this.method)try{this.isBinary?xhr.setRequestHeader("Content-type","application/octet-stream"):xhr.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{xhr.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in xhr&&(xhr.withCredentials=!0),this.requestTimeout&&(xhr.timeout=this.requestTimeout),this.hasXDR()?(xhr.onload=function(){self.onLoad()},xhr.onerror=function(){self.onError(xhr.responseText)}):xhr.onreadystatechange=function(){if(2===xhr.readyState)try{var contentType=xhr.getResponseHeader("Content-Type");self.supportsBinary&&"application/octet-stream"===contentType&&(xhr.responseType="arraybuffer")}catch(e){}4===xhr.readyState&&(200===xhr.status||1223===xhr.status?self.onLoad():setTimeout(function(){self.onError(xhr.status)},0))},debug("xhr data %s",this.data),xhr.send(this.data)}catch(e){return void setTimeout(function(){self.onError(e)},0)}"undefined"!=typeof document&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)},Request.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},Request.prototype.onData=function(data){this.emit("data",data),this.onSuccess()},Request.prototype.onError=function(err){this.emit("error",err),this.cleanup(!0)},Request.prototype.cleanup=function(fromError){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=empty:this.xhr.onreadystatechange=empty,fromError)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete Request.requests[this.index],this.xhr=null}},Request.prototype.onLoad=function(){var data;try{var contentType;try{contentType=this.xhr.getResponseHeader("Content-Type")}catch(e){}data="application/octet-stream"===contentType&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=data&&this.onData(data)},Request.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},Request.prototype.abort=function(){this.cleanup()},Request.requestsCount=0,Request.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",unloadHandler);else if("function"==typeof addEventListener){var terminationEvent="onpagehide"in self?"pagehide":"unload";addEventListener(terminationEvent,unloadHandler,!1)}function unloadHandler(){for(var i in Request.requests)Request.requests.hasOwnProperty(i)&&Request.requests[i].abort()}},{"./polling":382,"component-emitter":50,"component-inherit":51,debug:385,"xmlhttprequest-ssl":384}],382:[function(require,module,exports){var Transport=require("../transport"),parseqs=require("parseqs"),parser=require("engine.io-parser"),inherit=require("component-inherit"),yeast=require("yeast"),debug=require("debug")("engine.io-client:polling");module.exports=Polling;var hasXHR2=null!=new(require("xmlhttprequest-ssl"))({xdomain:!1}).responseType;function Polling(opts){var forceBase64=opts&&opts.forceBase64;hasXHR2&&!forceBase64||(this.supportsBinary=!1),Transport.call(this,opts)}inherit(Polling,Transport),Polling.prototype.name="polling",Polling.prototype.doOpen=function(){this.poll()},Polling.prototype.pause=function(onPause){var self=this;function pause(){debug("paused"),self.readyState="paused",onPause()}if(this.readyState="pausing",this.polling||!this.writable){var total=0;this.polling&&(debug("we are currently polling - waiting to pause"),total++,this.once("pollComplete",function(){debug("pre-pause polling complete"),--total||pause()})),this.writable||(debug("we are currently writing - waiting to pause"),total++,this.once("drain",function(){debug("pre-pause writing complete"),--total||pause()}))}else pause()},Polling.prototype.poll=function(){debug("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},Polling.prototype.onData=function(data){var self=this;debug("polling got data %s",data);parser.decodePayload(data,this.socket.binaryType,function(packet,index,total){if("opening"===self.readyState&&self.onOpen(),"close"===packet.type)return self.onClose(),!1;self.onPacket(packet)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():debug('ignoring poll - transport state "%s"',this.readyState))},Polling.prototype.doClose=function(){var self=this;function close(){debug("writing close packet"),self.write([{type:"close"}])}"open"===this.readyState?(debug("transport open - closing"),close()):(debug("transport not open - deferring close"),this.once("open",close))},Polling.prototype.write=function(packets){var self=this;this.writable=!1;var callbackfn=function(){self.writable=!0,self.emit("drain")};parser.encodePayload(packets,this.supportsBinary,function(data){self.doWrite(data,callbackfn)})},Polling.prototype.uri=function(){var query=this.query||{},schema=this.secure?"https":"http",port="";return!1!==this.timestampRequests&&(query[this.timestampParam]=yeast()),this.supportsBinary||query.sid||(query.b64=1),query=parseqs.encode(query),this.port&&("https"===schema&&443!==Number(this.port)||"http"===schema&&80!==Number(this.port))&&(port=":"+this.port),query.length&&(query="?"+query),schema+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+port+this.path+query}},{"../transport":378,"component-inherit":51,debug:385,"engine.io-parser":387,parseqs:485,"xmlhttprequest-ssl":384,yeast:508}],383:[function(require,module,exports){(function(Buffer){var BrowserWebSocket,NodeWebSocket,Transport=require("../transport"),parser=require("engine.io-parser"),parseqs=require("parseqs"),inherit=require("component-inherit"),yeast=require("yeast"),debug=require("debug")("engine.io-client:websocket");if("undefined"!=typeof WebSocket)BrowserWebSocket=WebSocket;else if("undefined"!=typeof self)BrowserWebSocket=self.WebSocket||self.MozWebSocket;else try{NodeWebSocket=require("ws")}catch(e){}var WebSocketImpl=BrowserWebSocket||NodeWebSocket;function WS(opts){opts&&opts.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=opts.perMessageDeflate,this.usingBrowserWebSocket=BrowserWebSocket&&!opts.forceNode,this.protocols=opts.protocols,this.usingBrowserWebSocket||(WebSocketImpl=NodeWebSocket),Transport.call(this,opts)}module.exports=WS,inherit(WS,Transport),WS.prototype.name="websocket",WS.prototype.supportsBinary=!0,WS.prototype.doOpen=function(){if(this.check()){var uri=this.uri(),protocols=this.protocols,opts={agent:this.agent,perMessageDeflate:this.perMessageDeflate};opts.pfx=this.pfx,opts.key=this.key,opts.passphrase=this.passphrase,opts.cert=this.cert,opts.ca=this.ca,opts.ciphers=this.ciphers,opts.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(opts.headers=this.extraHeaders),this.localAddress&&(opts.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?protocols?new WebSocketImpl(uri,protocols):new WebSocketImpl(uri):new WebSocketImpl(uri,protocols,opts)}catch(err){return this.emit("error",err)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},WS.prototype.addEventListeners=function(){var self=this;this.ws.onopen=function(){self.onOpen()},this.ws.onclose=function(){self.onClose()},this.ws.onmessage=function(ev){self.onData(ev.data)},this.ws.onerror=function(e){self.onError("websocket error",e)}},WS.prototype.write=function(packets){var self=this;this.writable=!1;for(var total=packets.length,i=0,l=total;i<l;i++)!function(packet){parser.encodePacket(packet,self.supportsBinary,function(data){if(!self.usingBrowserWebSocket){var opts={};if(packet.options&&(opts.compress=packet.options.compress),self.perMessageDeflate)("string"==typeof data?Buffer.byteLength(data):data.length)<self.perMessageDeflate.threshold&&(opts.compress=!1)}try{self.usingBrowserWebSocket?self.ws.send(data):self.ws.send(data,opts)}catch(e){debug("websocket closed before onclose event")}--total||done()})}(packets[i]);function done(){self.emit("flush"),setTimeout(function(){self.writable=!0,self.emit("drain")},0)}},WS.prototype.onClose=function(){Transport.prototype.onClose.call(this)},WS.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},WS.prototype.uri=function(){var query=this.query||{},schema=this.secure?"wss":"ws",port="";return this.port&&("wss"===schema&&443!==Number(this.port)||"ws"===schema&&80!==Number(this.port))&&(port=":"+this.port),this.timestampRequests&&(query[this.timestampParam]=yeast()),this.supportsBinary||(query.b64=1),(query=parseqs.encode(query)).length&&(query="?"+query),schema+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+port+this.path+query},WS.prototype.check=function(){return!(!WebSocketImpl||"__initialize"in WebSocketImpl&&this.name===WS.prototype.name)}}).call(this,require("buffer").Buffer)},{"../transport":378,buffer:47,"component-inherit":51,debug:385,"engine.io-parser":387,parseqs:485,ws:45,yeast:508}],384:[function(require,module,exports){var hasCORS=require("has-cors");module.exports=function(opts){var xdomain=opts.xdomain,xscheme=opts.xscheme,enablesXDR=opts.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!xdomain||hasCORS))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!xscheme&&enablesXDR)return new XDomainRequest}catch(e){}if(!xdomain)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},{"has-cors":392}],385:[function(require,module,exports){(function(process){function load(){var r;try{r=exports.storage.debug}catch(e){}return!r&&void 0!==process&&"env"in process&&(r=process.env.DEBUG),r}(exports=module.exports=require("./debug")).log=function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},exports.formatArgs=function formatArgs(args){var useColors=this.useColors;if(args[0]=(useColors?"%c":"")+this.namespace+(useColors?" %c":" ")+args[0]+(useColors?"%c ":" ")+"+"+exports.humanize(this.diff),!useColors)return;var c="color: "+this.color;args.splice(1,0,c,"color: inherit");var index=0,lastC=0;args[0].replace(/%[a-zA-Z%]/g,function(match){"%%"!==match&&(index++,"%c"===match&&(lastC=index))}),args.splice(lastC,0,c)},exports.save=function save(namespaces){try{null==namespaces?exports.storage.removeItem("debug"):exports.storage.debug=namespaces}catch(e){}},exports.load=load,exports.useColors=function useColors(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},exports.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function localstorage(){try{return window.localStorage}catch(e){}}(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],exports.formatters.j=function(v){try{return JSON.stringify(v)}catch(err){return"[UnexpectedJSONParseError]: "+err.message}},exports.enable(load())}).call(this,require("_process"))},{"./debug":386,_process:488}],386:[function(require,module,exports){function createDebug(namespace){var prevTime;function debug(){if(debug.enabled){var self=debug,curr=+new Date,ms=curr-(prevTime||curr);self.diff=ms,self.prev=prevTime,self.curr=curr,prevTime=curr;for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];args[0]=exports.coerce(args[0]),"string"!=typeof args[0]&&args.unshift("%O");var index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,function(match,format){if("%%"===match)return match;index++;var formatter=exports.formatters[format];if("function"==typeof formatter){var val=args[index];match=formatter.call(self,val),args.splice(index,1),index--}return match}),exports.formatArgs.call(self,args),(debug.log||exports.log||void 0).apply(self,args)}}return debug.namespace=namespace,debug.enabled=exports.enabled(namespace),debug.useColors=exports.useColors(),debug.color=function selectColor(namespace){var i,hash=0;for(i in namespace)hash=(hash<<5)-hash+namespace.charCodeAt(i),hash|=0;return exports.colors[Math.abs(hash)%exports.colors.length]}(namespace),debug.destroy=destroy,"function"==typeof exports.init&&exports.init(debug),exports.instances.push(debug),debug}function destroy(){var index=exports.instances.indexOf(this);return-1!==index&&(exports.instances.splice(index,1),!0)}(exports=module.exports=createDebug.debug=createDebug.default=createDebug).coerce=function coerce(val){return val instanceof Error?val.stack||val.message:val},exports.disable=function disable(){exports.enable("")},exports.enable=function enable(namespaces){var i;exports.save(namespaces),exports.names=[],exports.skips=[];var split=("string"==typeof namespaces?namespaces:"").split(/[\s,]+/),len=split.length;for(i=0;i<len;i++)split[i]&&("-"===(namespaces=split[i].replace(/\*/g,".*?"))[0]?exports.skips.push(new RegExp("^"+namespaces.substr(1)+"$")):exports.names.push(new RegExp("^"+namespaces+"$")));for(i=0;i<exports.instances.length;i++){var instance=exports.instances[i];instance.enabled=exports.enabled(instance.namespace)}},exports.enabled=function enabled(name){if("*"===name[name.length-1])return!0;var i,len;for(i=0,len=exports.skips.length;i<len;i++)if(exports.skips[i].test(name))return!1;for(i=0,len=exports.names.length;i<len;i++)if(exports.names[i].test(name))return!0;return!1},exports.humanize=require("ms"),exports.instances=[],exports.names=[],exports.skips=[],exports.formatters={}},{ms:396}],387:[function(require,module,exports){var base64encoder,keys=require("./keys"),hasBinary=require("has-binary2"),sliceBuffer=require("arraybuffer.slice"),after=require("after"),utf8=require("./utf8");"undefined"!=typeof ArrayBuffer&&(base64encoder=require("base64-arraybuffer"));var isAndroid="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),isPhantomJS="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),dontSendBlobs=isAndroid||isPhantomJS;exports.protocol=3;var packets=exports.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},packetslist=keys(packets),err={type:"error",data:"parser error"},Blob=require("blob");function map(ary,each,done){for(var result=new Array(ary.length),next=after(ary.length,done),eachWithIndex=function(i,el,cb){each(el,function(error,msg){result[i]=msg,cb(error,result)})},i=0;i<ary.length;i++)eachWithIndex(i,ary[i],next)}exports.encodePacket=function(packet,supportsBinary,utf8encode,callback){"function"==typeof supportsBinary&&(callback=supportsBinary,supportsBinary=!1),"function"==typeof utf8encode&&(callback=utf8encode,utf8encode=null);var data=void 0===packet.data?void 0:packet.data.buffer||packet.data;if("undefined"!=typeof ArrayBuffer&&data instanceof ArrayBuffer)return function encodeArrayBuffer(packet,supportsBinary,callback){if(!supportsBinary)return exports.encodeBase64Packet(packet,callback);var data=packet.data,contentArray=new Uint8Array(data),resultBuffer=new Uint8Array(1+data.byteLength);resultBuffer[0]=packets[packet.type];for(var i=0;i<contentArray.length;i++)resultBuffer[i+1]=contentArray[i];return callback(resultBuffer.buffer)}(packet,supportsBinary,callback);if(void 0!==Blob&&data instanceof Blob)return function encodeBlob(packet,supportsBinary,callback){if(!supportsBinary)return exports.encodeBase64Packet(packet,callback);if(dontSendBlobs)return function encodeBlobAsArrayBuffer(packet,supportsBinary,callback){if(!supportsBinary)return exports.encodeBase64Packet(packet,callback);var fr=new FileReader;return fr.onload=function(){exports.encodePacket({type:packet.type,data:fr.result},supportsBinary,!0,callback)},fr.readAsArrayBuffer(packet.data)}(packet,supportsBinary,callback);var length=new Uint8Array(1);length[0]=packets[packet.type];var blob=new Blob([length.buffer,packet.data]);return callback(blob)}(packet,supportsBinary,callback);if(data&&data.base64)return function encodeBase64Object(packet,callback){var message="b"+exports.packets[packet.type]+packet.data.data;return callback(message)}(packet,callback);var encoded=packets[packet.type];return void 0!==packet.data&&(encoded+=utf8encode?utf8.encode(String(packet.data),{strict:!1}):String(packet.data)),callback(""+encoded)},exports.encodeBase64Packet=function(packet,callback){var b64data,message="b"+exports.packets[packet.type];if(void 0!==Blob&&packet.data instanceof Blob){var fr=new FileReader;return fr.onload=function(){var b64=fr.result.split(",")[1];callback(message+b64)},fr.readAsDataURL(packet.data)}try{b64data=String.fromCharCode.apply(null,new Uint8Array(packet.data))}catch(e){for(var typed=new Uint8Array(packet.data),basic=new Array(typed.length),i=0;i<typed.length;i++)basic[i]=typed[i];b64data=String.fromCharCode.apply(null,basic)}return message+=btoa(b64data),callback(message)},exports.decodePacket=function(data,binaryType,utf8decode){if(void 0===data)return err;if("string"==typeof data){if("b"===data.charAt(0))return exports.decodeBase64Packet(data.substr(1),binaryType);if(utf8decode&&!1===(data=function tryDecode(data){try{data=utf8.decode(data,{strict:!1})}catch(e){return!1}return data}(data)))return err;var type=data.charAt(0);return Number(type)==type&&packetslist[type]?data.length>1?{type:packetslist[type],data:data.substring(1)}:{type:packetslist[type]}:err}type=new Uint8Array(data)[0];var rest=sliceBuffer(data,1);return Blob&&"blob"===binaryType&&(rest=new Blob([rest])),{type:packetslist[type],data:rest}},exports.decodeBase64Packet=function(msg,binaryType){var type=packetslist[msg.charAt(0)];if(!base64encoder)return{type:type,data:{base64:!0,data:msg.substr(1)}};var data=base64encoder.decode(msg.substr(1));return"blob"===binaryType&&Blob&&(data=new Blob([data])),{type:type,data:data}},exports.encodePayload=function(packets,supportsBinary,callback){"function"==typeof supportsBinary&&(callback=supportsBinary,supportsBinary=null);var isBinary=hasBinary(packets);if(supportsBinary&&isBinary)return Blob&&!dontSendBlobs?exports.encodePayloadAsBlob(packets,callback):exports.encodePayloadAsArrayBuffer(packets,callback);if(!packets.length)return callback("0:");map(packets,function encodeOne(packet,doneCallback){exports.encodePacket(packet,!!isBinary&&supportsBinary,!1,function(message){doneCallback(null,function setLengthHeader(message){return message.length+":"+message}(message))})},function(err,results){return callback(results.join(""))})},exports.decodePayload=function(data,binaryType,callback){if("string"!=typeof data)return exports.decodePayloadAsBinary(data,binaryType,callback);var packet;if("function"==typeof binaryType&&(callback=binaryType,binaryType=null),""===data)return callback(err,0,1);for(var n,msg,length="",i=0,l=data.length;i<l;i++){var chr=data.charAt(i);if(":"===chr){if(""===length||length!=(n=Number(length)))return callback(err,0,1);if(length!=(msg=data.substr(i+1,n)).length)return callback(err,0,1);if(msg.length){if(packet=exports.decodePacket(msg,binaryType,!1),err.type===packet.type&&err.data===packet.data)return callback(err,0,1);if(!1===callback(packet,i+n,l))return}i+=n,length=""}else length+=chr}return""!==length?callback(err,0,1):void 0},exports.encodePayloadAsArrayBuffer=function(packets,callback){if(!packets.length)return callback(new ArrayBuffer(0));map(packets,function encodeOne(packet,doneCallback){exports.encodePacket(packet,!0,!0,function(data){return doneCallback(null,data)})},function(err,encodedPackets){var totalLength=encodedPackets.reduce(function(acc,p){var len;return acc+(len="string"==typeof p?p.length:p.byteLength).toString().length+len+2},0),resultArray=new Uint8Array(totalLength),bufferIndex=0;return encodedPackets.forEach(function(p){var isString="string"==typeof p,ab=p;if(isString){for(var view=new Uint8Array(p.length),i=0;i<p.length;i++)view[i]=p.charCodeAt(i);ab=view.buffer}resultArray[bufferIndex++]=isString?0:1;var lenStr=ab.byteLength.toString();for(i=0;i<lenStr.length;i++)resultArray[bufferIndex++]=parseInt(lenStr[i]);resultArray[bufferIndex++]=255;for(view=new Uint8Array(ab),i=0;i<view.length;i++)resultArray[bufferIndex++]=view[i]}),callback(resultArray.buffer)})},exports.encodePayloadAsBlob=function(packets,callback){map(packets,function encodeOne(packet,doneCallback){exports.encodePacket(packet,!0,!0,function(encoded){var binaryIdentifier=new Uint8Array(1);if(binaryIdentifier[0]=1,"string"==typeof encoded){for(var view=new Uint8Array(encoded.length),i=0;i<encoded.length;i++)view[i]=encoded.charCodeAt(i);encoded=view.buffer,binaryIdentifier[0]=0}var lenStr=(encoded instanceof ArrayBuffer?encoded.byteLength:encoded.size).toString(),lengthAry=new Uint8Array(lenStr.length+1);for(i=0;i<lenStr.length;i++)lengthAry[i]=parseInt(lenStr[i]);if(lengthAry[lenStr.length]=255,Blob){var blob=new Blob([binaryIdentifier.buffer,lengthAry.buffer,encoded]);doneCallback(null,blob)}})},function(err,results){return callback(new Blob(results))})},exports.decodePayloadAsBinary=function(data,binaryType,callback){"function"==typeof binaryType&&(callback=binaryType,binaryType=null);for(var bufferTail=data,buffers=[];bufferTail.byteLength>0;){for(var tailArray=new Uint8Array(bufferTail),isString=0===tailArray[0],msgLength="",i=1;255!==tailArray[i];i++){if(msgLength.length>310)return callback(err,0,1);msgLength+=tailArray[i]}bufferTail=sliceBuffer(bufferTail,2+msgLength.length),msgLength=parseInt(msgLength);var msg=sliceBuffer(bufferTail,0,msgLength);if(isString)try{msg=String.fromCharCode.apply(null,new Uint8Array(msg))}catch(e){var typed=new Uint8Array(msg);msg="";for(i=0;i<typed.length;i++)msg+=String.fromCharCode(typed[i])}buffers.push(msg),bufferTail=sliceBuffer(bufferTail,msgLength)}var total=buffers.length;buffers.forEach(function(buffer,i){callback(exports.decodePacket(buffer,binaryType,!0),i,total)})}},{"./keys":388,"./utf8":389,after:37,"arraybuffer.slice":38,"base64-arraybuffer":42,blob:44,"has-binary2":390}],388:[function(require,module,exports){module.exports=Object.keys||function keys(obj){var arr=[],has=Object.prototype.hasOwnProperty;for(var i in obj)has.call(obj,i)&&arr.push(i);return arr}},{}],389:[function(require,module,exports){var byteArray,byteCount,byteIndex,stringFromCharCode=String.fromCharCode;function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)(value=string.charCodeAt(counter++))>=55296&&value<=56319&&counter<length?56320==(64512&(extra=string.charCodeAt(counter++)))?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--):output.push(value);return output}function checkScalarValue(codePoint,strict){if(codePoint>=55296&&codePoint<=57343){if(strict)throw Error("Lone surrogate U+"+codePoint.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function createByte(codePoint,shift){return stringFromCharCode(codePoint>>shift&63|128)}function encodeCodePoint(codePoint,strict){if(0==(4294967168&codePoint))return stringFromCharCode(codePoint);var symbol="";return 0==(4294965248&codePoint)?symbol=stringFromCharCode(codePoint>>6&31|192):0==(4294901760&codePoint)?(checkScalarValue(codePoint,strict)||(codePoint=65533),symbol=stringFromCharCode(codePoint>>12&15|224),symbol+=createByte(codePoint,6)):0==(4292870144&codePoint)&&(symbol=stringFromCharCode(codePoint>>18&7|240),symbol+=createByte(codePoint,12),symbol+=createByte(codePoint,6)),symbol+=stringFromCharCode(63&codePoint|128)}function readContinuationByte(){if(byteIndex>=byteCount)throw Error("Invalid byte index");var continuationByte=255&byteArray[byteIndex];if(byteIndex++,128==(192&continuationByte))return 63&continuationByte;throw Error("Invalid continuation byte")}function decodeSymbol(strict){var byte1,codePoint;if(byteIndex>byteCount)throw Error("Invalid byte index");if(byteIndex==byteCount)return!1;if(byte1=255&byteArray[byteIndex],byteIndex++,0==(128&byte1))return byte1;if(192==(224&byte1)){if((codePoint=(31&byte1)<<6|readContinuationByte())>=128)return codePoint;throw Error("Invalid continuation byte")}if(224==(240&byte1)){if((codePoint=(15&byte1)<<12|readContinuationByte()<<6|readContinuationByte())>=2048)return checkScalarValue(codePoint,strict)?codePoint:65533;throw Error("Invalid continuation byte")}if(240==(248&byte1)&&(codePoint=(7&byte1)<<18|readContinuationByte()<<12|readContinuationByte()<<6|readContinuationByte())>=65536&&codePoint<=1114111)return codePoint;throw Error("Invalid UTF-8 detected")}module.exports={version:"2.1.2",encode:function utf8encode(string,opts){for(var strict=!1!==(opts=opts||{}).strict,codePoints=ucs2decode(string),length=codePoints.length,index=-1,byteString="";++index<length;)byteString+=encodeCodePoint(codePoints[index],strict);return byteString},decode:function utf8decode(byteString,opts){var strict=!1!==(opts=opts||{}).strict;byteArray=ucs2decode(byteString),byteCount=byteArray.length,byteIndex=0;for(var tmp,codePoints=[];!1!==(tmp=decodeSymbol(strict));)codePoints.push(tmp);return function ucs2encode(array){for(var value,length=array.length,index=-1,output="";++index<length;)(value=array[index])>65535&&(output+=stringFromCharCode((value-=65536)>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value);return output}(codePoints)}}},{}],390:[function(require,module,exports){(function(Buffer){var isArray=require("isarray"),toString=Object.prototype.toString,withNativeBlob="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===toString.call(Blob),withNativeFile="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===toString.call(File);module.exports=function hasBinary(obj){if(!obj||"object"!=typeof obj)return!1;if(isArray(obj)){for(var i=0,l=obj.length;i<l;i++)if(hasBinary(obj[i]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(obj)||"function"==typeof ArrayBuffer&&obj instanceof ArrayBuffer||withNativeBlob&&obj instanceof Blob||withNativeFile&&obj instanceof File)return!0;if(obj.toJSON&&"function"==typeof obj.toJSON&&1===arguments.length)return hasBinary(obj.toJSON(),!0);for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)&&hasBinary(obj[key]))return!0;return!1}}).call(this,require("buffer").Buffer)},{buffer:47,isarray:391}],391:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},{}],392:[function(require,module,exports){try{module.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(err){module.exports=!1}},{}],393:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],394:[function(require,module,exports){var indexOf=[].indexOf;module.exports=function(arr,obj){if(indexOf)return arr.indexOf(obj);for(var i=0;i<arr.length;++i)if(arr[i]===obj)return i;return-1}},{}],395:[function(require,module,exports){!function(global,factory){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=global.document?factory(global,!0):function(w){if(!w.document)throw new Error("jQuery requires a window with a document");return factory(w)}:factory(global)}("undefined"!=typeof window?window:this,function(window,noGlobal){"use strict";var arr=[],document=window.document,getProto=Object.getPrototypeOf,slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,fnToString=hasOwn.toString,ObjectFunctionString=fnToString.call(Object),support={},isFunction=function isFunction(obj){return"function"==typeof obj&&"number"!=typeof obj.nodeType},isWindow=function isWindow(obj){return null!=obj&&obj===obj.window},preservedScriptAttributes={type:!0,src:!0,nonce:!0,noModule:!0};function DOMEval(code,node,doc){var i,val,script=(doc=doc||document).createElement("script");if(script.text=code,node)for(i in preservedScriptAttributes)(val=node[i]||node.getAttribute&&node.getAttribute(i))&&script.setAttribute(i,val);doc.head.appendChild(script).parentNode.removeChild(script)}function toType(obj){return null==obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj}var jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function isArrayLike(obj){var length=!!obj&&"length"in obj&&obj.length,type=toType(obj);return!isFunction(obj)&&!isWindow(obj)&&("array"===type||0===length||"number"==typeof length&&length>0&&length-1 in obj)}jQuery.fn=jQuery.prototype={jquery:"3.4.1",constructor:jQuery,length:0,toArray:function(){return slice.call(this)},get:function(num){return null==num?slice.call(this):num<0?this[num+this.length]:this[num]},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret},each:function(callback){return jQuery.each(this,callback)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[])},end:function(){return this.prevObject||this.constructor()},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"==typeof target||isFunction(target)||(target={}),i===length&&(target=this,i--);i<length;i++)if(null!=(options=arguments[i]))for(name in options)copy=options[name],"__proto__"!==name&&target!==copy&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=Array.isArray(copy)))?(src=target[name],clone=copyIsArray&&!Array.isArray(src)?[]:copyIsArray||jQuery.isPlainObject(src)?src:{},copyIsArray=!1,target[name]=jQuery.extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isPlainObject:function(obj){var proto,Ctor;return!(!obj||"[object Object]"!==toString.call(obj))&&(!(proto=getProto(obj))||"function"==typeof(Ctor=hasOwn.call(proto,"constructor")&&proto.constructor)&&fnToString.call(Ctor)===ObjectFunctionString)},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},globalEval:function(code,options){DOMEval(code,{nonce:options&&options.nonce})},each:function(obj,callback){var length,i=0;if(isArrayLike(obj))for(length=obj.length;i<length&&!1!==callback.call(obj[i],i,obj[i]);i++);else for(i in obj)if(!1===callback.call(obj[i],i,obj[i]))break;return obj},trim:function(text){return null==text?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];return null!=arr&&(isArrayLike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):push.call(ret,arr)),ret},inArray:function(elem,arr,i){return null==arr?-1:indexOf.call(arr,elem,i)},merge:function(first,second){for(var len=+second.length,j=0,i=first.length;j<len;j++)first[i++]=second[j];return first.length=i,first},grep:function(elems,callback,invert){for(var matches=[],i=0,length=elems.length,callbackExpect=!invert;i<length;i++)!callback(elems[i],i)!==callbackExpect&&matches.push(elems[i]);return matches},map:function(elems,callback,arg){var length,value,i=0,ret=[];if(isArrayLike(elems))for(length=elems.length;i<length;i++)null!=(value=callback(elems[i],i,arg))&&ret.push(value);else for(i in elems)null!=(value=callback(elems[i],i,arg))&&ret.push(value);return concat.apply([],ret)},guid:1,support:support}),"function"==typeof Symbol&&(jQuery.fn[Symbol.iterator]=arr[Symbol.iterator]),jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});var Sizzle=function(window){var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),nonnativeSelectorCache=createCache(),sortOrder=function(a,b){return a===b&&(hasDuplicate=!0),0},hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){for(var i=0,len=list.length;i<len;i++)if(list[i]===elem)return i;return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",identifier="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",attributes="\\["+whitespace+"*("+identifier+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+identifier+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|.*)\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rdescend=new RegExp(whitespace+"|>"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+identifier+")"),CLASS:new RegExp("^\\.("+identifier+")"),TAG:new RegExp("^("+identifier+"|[*])"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rhtml=/HTML$/i,rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!=high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,1023&high|56320)},rcssescape=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,fcssescape=function(ch,asCodePoint){return asCodePoint?"\0"===ch?"":ch.slice(0,-1)+"\\"+ch.charCodeAt(ch.length-1).toString(16)+" ":"\\"+ch},unloadHandler=function(){setDocument()},inDisabledFieldset=addCombinator(function(elem){return!0===elem.disabled&&"fieldset"===elem.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}function Sizzle(selector,context,results,seed){var m,i,elem,nid,match,groups,newSelector,newContext=context&&context.ownerDocument,nodeType=context?context.nodeType:9;if(results=results||[],"string"!=typeof selector||!selector||1!==nodeType&&9!==nodeType&&11!==nodeType)return results;if(!seed&&((context?context.ownerDocument||context:preferredDoc)!==document&&setDocument(context),context=context||document,documentIsHTML)){if(11!==nodeType&&(match=rquickExpr.exec(selector)))if(m=match[1]){if(9===nodeType){if(!(elem=context.getElementById(m)))return results;if(elem.id===m)return results.push(elem),results}else if(newContext&&(elem=newContext.getElementById(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(support.qsa&&!nonnativeSelectorCache[selector+" "]&&(!rbuggyQSA||!rbuggyQSA.test(selector))&&(1!==nodeType||"object"!==context.nodeName.toLowerCase())){if(newSelector=selector,newContext=context,1===nodeType&&rdescend.test(selector)){for((nid=context.getAttribute("id"))?nid=nid.replace(rcssescape,fcssescape):context.setAttribute("id",nid=expando),i=(groups=tokenize(selector)).length;i--;)groups[i]="#"+nid+" "+toSelector(groups[i]);newSelector=groups.join(","),newContext=rsibling.test(selector)&&testContext(context.parentNode)||context}try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){nonnativeSelectorCache(selector,!0)}finally{nid===expando&&context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){var keys=[];return function cache(key,value){return keys.push(key+" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key+" "]=value}}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var el=document.createElement("fieldset");try{return!!fn(el)}catch(e){return!1}finally{el.parentNode&&el.parentNode.removeChild(el),el=null}}function addHandle(attrs,handler){for(var arr=attrs.split("|"),i=arr.length;i--;)Expr.attrHandle[arr[i]]=handler}function siblingCheck(a,b){var cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){return"input"===elem.nodeName.toLowerCase()&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createDisabledPseudo(disabled){return function(elem){return"form"in elem?elem.parentNode&&!1===elem.disabled?"label"in elem?"label"in elem.parentNode?elem.parentNode.disabled===disabled:elem.disabled===disabled:elem.isDisabled===disabled||elem.isDisabled!==!disabled&&inDisabledFieldset(elem)===disabled:elem.disabled===disabled:"label"in elem&&elem.disabled===disabled}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function testContext(context){return context&&void 0!==context.getElementsByTagName&&context}for(i in support=Sizzle.support={},isXML=Sizzle.isXML=function(elem){var namespace=elem.namespaceURI,docElem=(elem.ownerDocument||elem).documentElement;return!rhtml.test(namespace||docElem&&docElem.nodeName||"HTML")},setDocument=Sizzle.setDocument=function(node){var hasCompare,subWindow,doc=node?node.ownerDocument||node:preferredDoc;return doc!==document&&9===doc.nodeType&&doc.documentElement?(docElem=(document=doc).documentElement,documentIsHTML=!isXML(document),preferredDoc!==document&&(subWindow=document.defaultView)&&subWindow.top!==subWindow&&(subWindow.addEventListener?subWindow.addEventListener("unload",unloadHandler,!1):subWindow.attachEvent&&subWindow.attachEvent("onunload",unloadHandler)),support.attributes=assert(function(el){return el.className="i",!el.getAttribute("className")}),support.getElementsByTagName=assert(function(el){return el.appendChild(document.createComment("")),!el.getElementsByTagName("*").length}),support.getElementsByClassName=rnative.test(document.getElementsByClassName),support.getById=assert(function(el){return docElem.appendChild(el).id=expando,!document.getElementsByName||!document.getElementsByName(expando).length}),support.getById?(Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}},Expr.find.ID=function(id,context){if(void 0!==context.getElementById&&documentIsHTML){var elem=context.getElementById(id);return elem?[elem]:[]}}):(Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=void 0!==elem.getAttributeNode&&elem.getAttributeNode("id");return node&&node.value===attrId}},Expr.find.ID=function(id,context){if(void 0!==context.getElementById&&documentIsHTML){var node,i,elems,elem=context.getElementById(id);if(elem){if((node=elem.getAttributeNode("id"))&&node.value===id)return[elem];for(elems=context.getElementsByName(id),i=0;elem=elems[i++];)if((node=elem.getAttributeNode("id"))&&node.value===id)return[elem]}return[]}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){return void 0!==context.getElementsByTagName?context.getElementsByTagName(tag):support.qsa?context.querySelectorAll(tag):void 0}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"===tag){for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp}return results},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){if(void 0!==context.getElementsByClassName&&documentIsHTML)return context.getElementsByClassName(className)},rbuggyMatches=[],rbuggyQSA=[],(support.qsa=rnative.test(document.querySelectorAll))&&(assert(function(el){docElem.appendChild(el).innerHTML="<a id='"+expando+"'></a><select id='"+expando+"-\r\\' msallowcapture=''><option selected=''></option></select>",el.querySelectorAll("[msallowcapture^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")"),el.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),el.querySelectorAll("[id~="+expando+"-]").length||rbuggyQSA.push("~="),el.querySelectorAll(":checked").length||rbuggyQSA.push(":checked"),el.querySelectorAll("a#"+expando+"+*").length||rbuggyQSA.push(".#.+[+~]")}),assert(function(el){el.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var input=document.createElement("input");input.setAttribute("type","hidden"),el.appendChild(input).setAttribute("name","D"),el.querySelectorAll("[name=d]").length&&rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?="),2!==el.querySelectorAll(":enabled").length&&rbuggyQSA.push(":enabled",":disabled"),docElem.appendChild(el).disabled=!0,2!==el.querySelectorAll(":disabled").length&&rbuggyQSA.push(":enabled",":disabled"),el.querySelectorAll("*,:x"),rbuggyQSA.push(",.*:")})),(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert(function(el){support.disconnectedMatch=matches.call(el,"*"),matches.call(el,"[s!='']:x"),rbuggyMatches.push("!=",pseudos)}),rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|")),hasCompare=rnative.test(docElem.compareDocumentPosition),contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},sortOrder=hasCompare?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;return compare||(1&(compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1)||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a===document||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)?-1:b===document||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0:4&compare?-1:1)}:function(a,b){if(a===b)return hasDuplicate=!0,0;var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup)return a===document?-1:b===document?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0},document):document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document&&setDocument(elem),support.matchesSelector&&documentIsHTML&&!nonnativeSelectorCache[expr+" "]&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){nonnativeSelectorCache(expr,!0)}return Sizzle(expr,document,null,[elem]).length>0},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!==document&&setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!==document&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):void 0;return void 0!==val?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null},Sizzle.escape=function(sel){return(sel+"").replace(rcssescape,fcssescape)},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return sortInput=null,results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i++];)ret+=getText(node);return ret},(Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]?match[2]=match[4]||match[5]||"":unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test("string"==typeof elem.className&&elem.className||void 0!==elem.getAttribute&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?"!="===operator:!operator||(result+="","="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&result.indexOf(check)>-1:"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:"|="===operator&&(result===check||result.slice(0,check.length+1)===check+"-"))}},CHILD:function(type,what,argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,uniqueCache,outerCache,node,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType,diff=!1;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(diff=(nodeIndex=(cache=(uniqueCache=(outerCache=(node=parent)[expando]||(node[expando]={}))[node.uniqueID]||(outerCache[node.uniqueID]={}))[type]||[])[0]===dirruns&&cache[1])&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){uniqueCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&&(diff=nodeIndex=(cache=(uniqueCache=(outerCache=(node=elem)[expando]||(node[expando]={}))[node.uniqueID]||(outerCache[node.uniqueID]={}))[type]||[])[0]===dirruns&&cache[1]),!1===diff)for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())&&((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&&((uniqueCache=(outerCache=node[expando]||(node[expando]={}))[node.uniqueID]||(outerCache[node.uniqueID]={}))[type]=[dirruns,diff]),node!==elem)););return(diff-=last)===first||diff%first==0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):fn.length>1?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)seed[idx=indexOf(seed,matched[i])]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),input[0]=null,!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){return text=text.replace(runescape,funescape),function(elem){return(elem.textContent||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do{if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return(elemLang=elemLang.toLowerCase())===lang||0===elemLang.indexOf(lang+"-")}while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:createDisabledPseudo(!1),disabled:createDisabledPseudo(!0),checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,!0===elem.selected},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeType<6)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},text:function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||"text"===attr.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument>length?length:argument;--i>=0;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}}).pseudos.nth=Expr.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=createButtonPseudo(i);function setFilters(){}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";i<len;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,skip=combinator.next,key=skip||dir,checkNonElements=base&&"parentNode"===key,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml);return!1}:function(elem,context,xml){var oldCache,uniqueCache,outerCache,newCache=[dirruns,doneName];if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)if(uniqueCache=(outerCache=elem[expando]||(elem[expando]={}))[elem.uniqueID]||(outerCache[elem.uniqueID]={}),skip&&skip===elem.nodeName.toLowerCase())elem=elem[dir]||elem;else{if((oldCache=uniqueCache[key])&&oldCache[0]===dirruns&&oldCache[1]===doneName)return newCache[2]=oldCache[2];if(uniqueCache[key]=newCache,newCache[2]=matcher(elem,context,xml))return!0}return!1}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;i<len;i++)(elem=unmatched[i])&&(filter&&!filter(elem,context,xml)||(newUnmatched.push(elem),mapped&&map.push(i)));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||function multipleContexts(selector,contexts,results){for(var i=0,len=contexts.length;i<len;i++)Sizzle(selector,contexts[i],results);return results}(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1},implicitRelative,!0),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));return checkContext=null,ret}];i<len;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if((matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches))[expando]){for(j=++i;j<len&&!Expr.relative[tokens[j].type];j++);return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:" "===tokens[i-2].type?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}return setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){for(type in matched&&!(match=rcomma.exec(soFar))||(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length)),Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)},compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(match||(match=tokenize(selector)),i=match.length;i--;)(cached=matcherFromTokens(match[i]))[expando]?setMatchers.push(cached):elementMatchers.push(cached);(cached=compilerCache(selector,function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1,len=elems.length;for(outermost&&(outermostContext=context===document||context||outermost);i!==len&&null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0,context||elem.ownerDocument===document||(setDocument(elem),xml=!documentIsHTML);matcher=elementMatchers[j++];)if(matcher(elem,context||document,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(matchedCount>0)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}(elementMatchers,setMatchers))).selector=selector}return cached},select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled="function"==typeof selector&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);if(results=results||[],1===match.length){if((tokens=match[0]=match[0].slice(0)).length>2&&"ID"===(token=tokens[0]).type&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(!(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0]))return results;compiled&&(context=context.parentNode),selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){if(tokens.splice(i,1),!(selector=seed.length&&toSelector(tokens)))return push.apply(results,seed),results;break}}return(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&&testContext(context.parentNode)||context),results},support.sortStable=expando.split("").sort(sortOrder).join("")===expando,support.detectDuplicates=!!hasDuplicate,setDocument(),support.sortDetached=assert(function(el){return 1&el.compareDocumentPosition(document.createElement("fieldset"))}),assert(function(el){return el.innerHTML="<a href='#'></a>","#"===el.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML)return elem.getAttribute(name,"type"===name.toLowerCase()?1:2)}),support.attributes&&assert(function(el){return el.innerHTML="<input/>",el.firstChild.setAttribute("value",""),""===el.firstChild.getAttribute("value")})||addHandle("value",function(elem,name,isXML){if(!isXML&&"input"===elem.nodeName.toLowerCase())return elem.defaultValue}),assert(function(el){return null==el.getAttribute("disabled")})||addHandle(booleans,function(elem,name,isXML){var val;if(!isXML)return!0===elem[name]?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}),Sizzle}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.uniqueSort=jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains,jQuery.escapeSelector=Sizzle.escape;var dir=function(elem,dir,until){for(var matched=[],truncate=void 0!==until;(elem=elem[dir])&&9!==elem.nodeType;)if(1===elem.nodeType){if(truncate&&jQuery(elem).is(until))break;matched.push(elem)}return matched},siblings=function(n,elem){for(var matched=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&matched.push(n);return matched},rneedsContext=jQuery.expr.match.needsContext;function nodeName(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()}var rsingleTag=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function winnow(elements,qualifier,not){return isFunction(qualifier)?jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not}):qualifier.nodeType?jQuery.grep(elements,function(elem){return elem===qualifier!==not}):"string"!=typeof qualifier?jQuery.grep(elements,function(elem){return indexOf.call(qualifier,elem)>-1!==not}):jQuery.filter(qualifier,elements,not)}jQuery.filter=function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},jQuery.fn.extend({find:function(selector){var i,ret,len=this.length,self=this;if("string"!=typeof selector)return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++)if(jQuery.contains(self[i],this))return!0}));for(ret=this.pushStack([]),i=0;i<len;i++)jQuery.find(selector,self[i],ret);return len>1?jQuery.uniqueSort(ret):ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,"string"==typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(jQuery.fn.init=function(selector,context,root){var match,elem;if(!selector)return this;if(root=root||rootjQuery,"string"==typeof selector){if(!(match="<"===selector[0]&&">"===selector[selector.length-1]&&selector.length>=3?[null,selector,null]:rquickExpr.exec(selector))||!match[1]&&context)return!context||context.jquery?(context||root).find(selector):this.constructor(context).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}return(elem=document.getElementById(match[2]))&&(this[0]=elem,this.length=1),this}return selector.nodeType?(this[0]=selector,this.length=1,this):isFunction(selector)?void 0!==root.ready?root.ready(selector):selector(jQuery):jQuery.makeArray(selector,this)}).prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};function sibling(cur,dir){for(;(cur=cur[dir])&&1!==cur.nodeType;);return cur}jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){for(var i=0;i<l;i++)if(jQuery.contains(this,targets[i]))return!0})},closest:function(selectors,context){var cur,i=0,l=this.length,matched=[],targets="string"!=typeof selectors&&jQuery(selectors);if(!rneedsContext.test(selectors))for(;i<l;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(targets?targets.index(cur)>-1:1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}return this.pushStack(matched.length>1?jQuery.uniqueSort(matched):matched)},index:function(elem){return elem?"string"==typeof elem?indexOf.call(jQuery(elem),this[0]):indexOf.call(this,elem.jquery?elem[0]:elem):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return dir(elem,"nextSibling")},prevAll:function(elem){return dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return dir(elem,"previousSibling",until)},siblings:function(elem){return siblings((elem.parentNode||{}).firstChild,elem)},children:function(elem){return siblings(elem.firstChild)},contents:function(elem){return void 0!==elem.contentDocument?elem.contentDocument:(nodeName(elem,"template")&&(elem=elem.content||elem),jQuery.merge([],elem.childNodes))}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);return"Until"!==name.slice(-5)&&(selector=until),selector&&"string"==typeof selector&&(matched=jQuery.filter(selector,matched)),this.length>1&&(guaranteedUnique[name]||jQuery.uniqueSort(matched),rparentsprev.test(name)&&matched.reverse()),this.pushStack(matched)}});var rnothtmlwhite=/[^\x20\t\r\n\f]+/g;function Identity(v){return v}function Thrower(ex){throw ex}function adoptValue(value,resolve,reject,noValue){var method;try{value&&isFunction(method=value.promise)?method.call(value).done(resolve).fail(reject):value&&isFunction(method=value.then)?method.call(value,resolve,reject):resolve.apply(void 0,[value].slice(noValue))}catch(value){reject.apply(void 0,[value])}}jQuery.Callbacks=function(options){options="string"==typeof options?function createOptions(options){var object={};return jQuery.each(options.match(rnothtmlwhite)||[],function(_,flag){object[flag]=!0}),object}(options):jQuery.extend({},options);var firing,memory,fired,locked,list=[],queue=[],firingIndex=-1,fire=function(){for(locked=locked||options.once,fired=firing=!0;queue.length;firingIndex=-1)for(memory=queue.shift();++firingIndex<list.length;)!1===list[firingIndex].apply(memory[0],memory[1])&&options.stopOnFalse&&(firingIndex=list.length,memory=!1);options.memory||(memory=!1),firing=!1,locked&&(list=memory?[]:"")},self={add:function(){return list&&(memory&&!firing&&(firingIndex=list.length-1,queue.push(memory)),function add(args){jQuery.each(args,function(_,arg){isFunction(arg)?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==toType(arg)&&add(arg)})}(arguments),memory&&!firing&&fire()),this},remove:function(){return jQuery.each(arguments,function(_,arg){for(var index;(index=jQuery.inArray(arg,list,index))>-1;)list.splice(index,1),index<=firingIndex&&firingIndex--}),this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:list.length>0},empty:function(){return list&&(list=[]),this},disable:function(){return locked=queue=[],list=memory="",this},disabled:function(){return!list},lock:function(){return locked=queue=[],memory||firing||(list=memory=""),this},locked:function(){return!!locked},fireWith:function(context,args){return locked||(args=[context,(args=args||[]).slice?args.slice():args],queue.push(args),firing||fire()),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["notify","progress",jQuery.Callbacks("memory"),jQuery.Callbacks("memory"),2],["resolve","done",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),0,"resolved"],["reject","fail",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),1,"rejected"]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},catch:function(fn){return promise.then(null,fn)},pipe:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=isFunction(fns[tuple[4]])&&fns[tuple[4]];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&isFunction(returned.promise)?returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject):newDefer[tuple[0]+"With"](this,fn?[returned]:arguments)})}),fns=null}).promise()},then:function(onFulfilled,onRejected,onProgress){var maxDepth=0;function resolve(depth,deferred,handler,special){return function(){var that=this,args=arguments,mightThrow=function(){var returned,then;if(!(depth<maxDepth)){if((returned=handler.apply(that,args))===deferred.promise())throw new TypeError("Thenable self-resolution");then=returned&&("object"==typeof returned||"function"==typeof returned)&&returned.then,isFunction(then)?special?then.call(returned,resolve(maxDepth,deferred,Identity,special),resolve(maxDepth,deferred,Thrower,special)):(maxDepth++,then.call(returned,resolve(maxDepth,deferred,Identity,special),resolve(maxDepth,deferred,Thrower,special),resolve(maxDepth,deferred,Identity,deferred.notifyWith))):(handler!==Identity&&(that=void 0,args=[returned]),(special||deferred.resolveWith)(that,args))}},process=special?mightThrow:function(){try{mightThrow()}catch(e){jQuery.Deferred.exceptionHook&&jQuery.Deferred.exceptionHook(e,process.stackTrace),depth+1>=maxDepth&&(handler!==Thrower&&(that=void 0,args=[e]),deferred.rejectWith(that,args))}};depth?process():(jQuery.Deferred.getStackHook&&(process.stackTrace=jQuery.Deferred.getStackHook()),window.setTimeout(process))}}return jQuery.Deferred(function(newDefer){tuples[0][3].add(resolve(0,newDefer,isFunction(onProgress)?onProgress:Identity,newDefer.notifyWith)),tuples[1][3].add(resolve(0,newDefer,isFunction(onFulfilled)?onFulfilled:Identity)),tuples[2][3].add(resolve(0,newDefer,isFunction(onRejected)?onRejected:Thrower))}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[5];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[3-i][2].disable,tuples[3-i][3].disable,tuples[0][2].lock,tuples[0][3].lock),list.add(tuple[3].fire),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?void 0:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(singleValue){var remaining=arguments.length,i=remaining,resolveContexts=Array(i),resolveValues=slice.call(arguments),master=jQuery.Deferred(),updateFunc=function(i){return function(value){resolveContexts[i]=this,resolveValues[i]=arguments.length>1?slice.call(arguments):value,--remaining||master.resolveWith(resolveContexts,resolveValues)}};if(remaining<=1&&(adoptValue(singleValue,master.done(updateFunc(i)).resolve,master.reject,!remaining),"pending"===master.state()||isFunction(resolveValues[i]&&resolveValues[i].then)))return master.then();for(;i--;)adoptValue(resolveValues[i],updateFunc(i),master.reject);return master.promise()}});var rerrorNames=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;jQuery.Deferred.exceptionHook=function(error,stack){window.console&&window.console.warn&&error&&rerrorNames.test(error.name)&&window.console.warn("jQuery.Deferred exception: "+error.message,error.stack,stack)},jQuery.readyException=function(error){window.setTimeout(function(){throw error})};var readyList=jQuery.Deferred();function completed(){document.removeEventListener("DOMContentLoaded",completed),window.removeEventListener("load",completed),jQuery.ready()}jQuery.fn.ready=function(fn){return readyList.then(fn).catch(function(error){jQuery.readyException(error)}),this},jQuery.extend({isReady:!1,readyWait:1,ready:function(wait){(!0===wait?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0,!0!==wait&&--jQuery.readyWait>0||readyList.resolveWith(document,[jQuery]))}}),jQuery.ready.then=readyList.then,"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed),window.addEventListener("load",completed));var access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=null==key;if("object"===toType(key))for(i in chainable=!0,key)access(elems,fn,i,key[i],!0,emptyGet,raw);else if(void 0!==value&&(chainable=!0,isFunction(value)||(raw=!0),bulk&&(raw?(fn.call(elems,value),fn=null):(bulk=fn,fn=function(elem,key,value){return bulk.call(jQuery(elem),value)})),fn))for(;i<len;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet},rmsPrefix=/^-ms-/,rdashAlpha=/-([a-z])/g;function fcamelCase(all,letter){return letter.toUpperCase()}function camelCase(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)}var acceptData=function(owner){return 1===owner.nodeType||9===owner.nodeType||!+owner.nodeType};function Data(){this.expando=jQuery.expando+Data.uid++}Data.uid=1,Data.prototype={cache:function(owner){var value=owner[this.expando];return value||(value={},acceptData(owner)&&(owner.nodeType?owner[this.expando]=value:Object.defineProperty(owner,this.expando,{value:value,configurable:!0}))),value},set:function(owner,data,value){var prop,cache=this.cache(owner);if("string"==typeof data)cache[camelCase(data)]=value;else for(prop in data)cache[camelCase(prop)]=data[prop];return cache},get:function(owner,key){return void 0===key?this.cache(owner):owner[this.expando]&&owner[this.expando][camelCase(key)]},access:function(owner,key,value){return void 0===key||key&&"string"==typeof key&&void 0===value?this.get(owner,key):(this.set(owner,key,value),void 0!==value?value:key)},remove:function(owner,key){var i,cache=owner[this.expando];if(void 0!==cache){if(void 0!==key){i=(key=Array.isArray(key)?key.map(camelCase):(key=camelCase(key))in cache?[key]:key.match(rnothtmlwhite)||[]).length;for(;i--;)delete cache[key[i]]}(void 0===key||jQuery.isEmptyObject(cache))&&(owner.nodeType?owner[this.expando]=void 0:delete owner[this.expando])}},hasData:function(owner){var cache=owner[this.expando];return void 0!==cache&&!jQuery.isEmptyObject(cache)}};var dataPriv=new Data,dataUser=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/[A-Z]/g;function dataAttr(elem,key,data){var name;if(void 0===data&&1===elem.nodeType)if(name="data-"+key.replace(rmultiDash,"-$&").toLowerCase(),"string"==typeof(data=elem.getAttribute(name))){try{data=function getData(data){return"true"===data||"false"!==data&&("null"===data?null:data===+data+""?+data:rbrace.test(data)?JSON.parse(data):data)}(data)}catch(e){}dataUser.set(elem,key,data)}else data=void 0;return data}jQuery.extend({hasData:function(elem){return dataUser.hasData(elem)||dataPriv.hasData(elem)},data:function(elem,name,data){return dataUser.access(elem,name,data)},removeData:function(elem,name){dataUser.remove(elem,name)},_data:function(elem,name,data){return dataPriv.access(elem,name,data)},_removeData:function(elem,name){dataPriv.remove(elem,name)}}),jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(void 0===key){if(this.length&&(data=dataUser.get(elem),1===elem.nodeType&&!dataPriv.get(elem,"hasDataAttrs"))){for(i=attrs.length;i--;)attrs[i]&&0===(name=attrs[i].name).indexOf("data-")&&(name=camelCase(name.slice(5)),dataAttr(elem,name,data[name]));dataPriv.set(elem,"hasDataAttrs",!0)}return data}return"object"==typeof key?this.each(function(){dataUser.set(this,key)}):access(this,function(value){var data;if(elem&&void 0===value)return void 0!==(data=dataUser.get(elem,key))?data:void 0!==(data=dataAttr(elem,key))?data:void 0;this.each(function(){dataUser.set(this,key,value)})},null,value,arguments.length>1,null,!0)},removeData:function(key){return this.each(function(){dataUser.remove(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;if(elem)return type=(type||"fx")+"queue",queue=dataPriv.get(elem,type),data&&(!queue||Array.isArray(data)?queue=dataPriv.access(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type);"inprogress"===fn&&(fn=queue.shift(),startLength--),fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,function(){jQuery.dequeue(elem,type)},hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return dataPriv.get(elem,key)||dataPriv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){dataPriv.remove(elem,[type+"queue",key])})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):void 0===data?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])};for("string"!=typeof type&&(obj=type,type=void 0),type=type||"fx";i--;)(tmp=dataPriv.get(elements[i],type+"queueHooks"))&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rcssNum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),cssExpand=["Top","Right","Bottom","Left"],documentElement=document.documentElement,isAttached=function(elem){return jQuery.contains(elem.ownerDocument,elem)},composed={composed:!0};documentElement.getRootNode&&(isAttached=function(elem){return jQuery.contains(elem.ownerDocument,elem)||elem.getRootNode(composed)===elem.ownerDocument});var isHiddenWithinTree=function(elem,el){return"none"===(elem=el||elem).style.display||""===elem.style.display&&isAttached(elem)&&"none"===jQuery.css(elem,"display")},swap=function(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];for(name in ret=callback.apply(elem,args||[]),options)elem.style[name]=old[name];return ret};function adjustCSS(elem,prop,valueParts,tween){var adjusted,scale,maxIterations=20,currentValue=tween?function(){return tween.cur()}:function(){return jQuery.css(elem,prop,"")},initial=currentValue(),unit=valueParts&&valueParts[3]||(jQuery.cssNumber[prop]?"":"px"),initialInUnit=elem.nodeType&&(jQuery.cssNumber[prop]||"px"!==unit&&+initial)&&rcssNum.exec(jQuery.css(elem,prop));if(initialInUnit&&initialInUnit[3]!==unit){for(initial/=2,unit=unit||initialInUnit[3],initialInUnit=+initial||1;maxIterations--;)jQuery.style(elem,prop,initialInUnit+unit),(1-scale)*(1-(scale=currentValue()/initial||.5))<=0&&(maxIterations=0),initialInUnit/=scale;initialInUnit*=2,jQuery.style(elem,prop,initialInUnit+unit),valueParts=valueParts||[]}return valueParts&&(initialInUnit=+initialInUnit||+initial||0,adjusted=valueParts[1]?initialInUnit+(valueParts[1]+1)*valueParts[2]:+valueParts[2],tween&&(tween.unit=unit,tween.start=initialInUnit,tween.end=adjusted)),adjusted}var defaultDisplayMap={};function getDefaultDisplay(elem){var temp,doc=elem.ownerDocument,nodeName=elem.nodeName,display=defaultDisplayMap[nodeName];return display||(temp=doc.body.appendChild(doc.createElement(nodeName)),display=jQuery.css(temp,"display"),temp.parentNode.removeChild(temp),"none"===display&&(display="block"),defaultDisplayMap[nodeName]=display,display)}function showHide(elements,show){for(var display,elem,values=[],index=0,length=elements.length;index<length;index++)(elem=elements[index]).style&&(display=elem.style.display,show?("none"===display&&(values[index]=dataPriv.get(elem,"display")||null,values[index]||(elem.style.display="")),""===elem.style.display&&isHiddenWithinTree(elem)&&(values[index]=getDefaultDisplay(elem))):"none"!==display&&(values[index]="none",dataPriv.set(elem,"display",display)));for(index=0;index<length;index++)null!=values[index]&&(elements[index].style.display=values[index]);return elements}jQuery.fn.extend({show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){return"boolean"==typeof state?state?this.show():this.hide():this.each(function(){isHiddenWithinTree(this)?jQuery(this).show():jQuery(this).hide()})}});var rcheckableType=/^(?:checkbox|radio)$/i,rtagName=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,rscriptType=/^$|^module$|\/(?:java|ecma)script/i,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function getAll(context,tag){var ret;return ret=void 0!==context.getElementsByTagName?context.getElementsByTagName(tag||"*"):void 0!==context.querySelectorAll?context.querySelectorAll(tag||"*"):[],void 0===tag||tag&&nodeName(context,tag)?jQuery.merge([context],ret):ret}function setGlobalEval(elems,refElements){for(var i=0,l=elems.length;i<l;i++)dataPriv.set(elems[i],"globalEval",!refElements||dataPriv.get(refElements[i],"globalEval"))}wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td;var div,input,rhtml=/<|&#?\w+;/;function buildFragment(elems,context,scripts,selection,ignored){for(var elem,tmp,tag,wrap,attached,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;i<l;i++)if((elem=elems[i])||0===elem)if("object"===toType(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+jQuery.htmlPrefilter(elem)+wrap[2],j=wrap[0];j--;)tmp=tmp.lastChild;jQuery.merge(nodes,tmp.childNodes),(tmp=fragment.firstChild).textContent=""}else nodes.push(context.createTextNode(elem));for(fragment.textContent="",i=0;elem=nodes[i++];)if(selection&&jQuery.inArray(elem,selection)>-1)ignored&&ignored.push(elem);else if(attached=isAttached(elem),tmp=getAll(fragment.appendChild(elem),"script"),attached&&setGlobalEval(tmp),scripts)for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return fragment}div=document.createDocumentFragment().appendChild(document.createElement("div")),(input=document.createElement("input")).setAttribute("type","radio"),input.setAttribute("checked","checked"),input.setAttribute("name","t"),div.appendChild(input),support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,div.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rtypenamespace=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return!0}function returnFalse(){return!1}function expectSync(elem,type){return elem===function safeActiveElement(){try{return document.activeElement}catch(err){}}()==("focus"===type)}function on(elem,types,selector,data,fn,one){var origFn,type;if("object"==typeof types){for(type in"string"!=typeof selector&&(data=data||selector,selector=void 0),types)on(elem,type,selector,data,types[type],one);return elem}if(null==data&&null==fn?(fn=selector,data=selector=void 0):null==fn&&("string"==typeof selector?(fn=data,data=void 0):(fn=data,data=selector,selector=void 0)),!1===fn)fn=returnFalse;else if(!fn)return elem;return 1===one&&(origFn=fn,(fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)}).guid=origFn.guid||(origFn.guid=jQuery.guid++)),elem.each(function(){jQuery.event.add(this,types,fn,data,selector)})}function leverageNative(el,type,expectSync){expectSync?(dataPriv.set(el,type,!1),jQuery.event.add(el,type,{namespace:!1,handler:function(event){var notAsync,result,saved=dataPriv.get(this,type);if(1&event.isTrigger&&this[type]){if(saved.length)(jQuery.event.special[type]||{}).delegateType&&event.stopPropagation();else if(saved=slice.call(arguments),dataPriv.set(this,type,saved),notAsync=expectSync(this,type),this[type](),saved!==(result=dataPriv.get(this,type))||notAsync?dataPriv.set(this,type,!1):result={},saved!==result)return event.stopImmediatePropagation(),event.preventDefault(),result.value}else saved.length&&(dataPriv.set(this,type,{value:jQuery.event.trigger(jQuery.extend(saved[0],jQuery.Event.prototype),saved.slice(1),this)}),event.stopImmediatePropagation())}})):void 0===dataPriv.get(el,type)&&jQuery.event.add(el,type,returnTrue)}jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.get(elem);if(elemData)for(handler.handler&&(handler=(handleObjIn=handler).handler,selector=handleObjIn.selector),selector&&jQuery.find.matchesSelector(documentElement,selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events={}),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return void 0!==jQuery&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):void 0}),t=(types=(types||"").match(rnothtmlwhite)||[""]).length;t--;)type=origType=(tmp=rtypenamespace.exec(types[t])||[])[1],namespaces=(tmp[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||((handlers=events[type]=[]).delegateCount=0,special.setup&&!1!==special.setup.call(elem,data,namespaces,eventHandle)||elem.addEventListener&&elem.addEventListener(type,eventHandle)),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0)},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.hasData(elem)&&dataPriv.get(elem);if(elemData&&(events=elemData.events)){for(t=(types=(types||"").match(rnothtmlwhite)||[""]).length;t--;)if(type=origType=(tmp=rtypenamespace.exec(types[t])||[])[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},handlers=events[type=(selector?special.delegateType:special.bindType)||type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&!1!==special.teardown.call(elem,namespaces,elemData.handle)||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&dataPriv.remove(elem,"handle events")}},dispatch:function(nativeEvent){var i,j,ret,matched,handleObj,handlerQueue,event=jQuery.event.fix(nativeEvent),args=new Array(arguments.length),handlers=(dataPriv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};for(args[0]=event,i=1;i<arguments.length;i++)args[i]=arguments[i];if(event.delegateTarget=this,!special.preDispatch||!1!==special.preDispatch.call(this,event)){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)event.rnamespace&&!1!==handleObj.namespace&&!event.rnamespace.test(handleObj.namespace)||(event.handleObj=handleObj,event.data=handleObj.data,void 0!==(ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args))&&!1===(event.result=ret)&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function(event,handlers){var i,handleObj,sel,matchedHandlers,matchedSelectors,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&!("click"===event.type&&event.button>=1))for(;cur!==this;cur=cur.parentNode||this)if(1===cur.nodeType&&("click"!==event.type||!0!==cur.disabled)){for(matchedHandlers=[],matchedSelectors={},i=0;i<delegateCount;i++)void 0===matchedSelectors[sel=(handleObj=handlers[i]).selector+" "]&&(matchedSelectors[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>-1:jQuery.find(sel,this,null,[cur]).length),matchedSelectors[sel]&&matchedHandlers.push(handleObj);matchedHandlers.length&&handlerQueue.push({elem:cur,handlers:matchedHandlers})}return cur=this,delegateCount<handlers.length&&handlerQueue.push({elem:cur,handlers:handlers.slice(delegateCount)}),handlerQueue},addProp:function(name,hook){Object.defineProperty(jQuery.Event.prototype,name,{enumerable:!0,configurable:!0,get:isFunction(hook)?function(){if(this.originalEvent)return hook(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[name]},set:function(value){Object.defineProperty(this,name,{enumerable:!0,configurable:!0,writable:!0,value:value})}})},fix:function(originalEvent){return originalEvent[jQuery.expando]?originalEvent:new jQuery.Event(originalEvent)},special:{load:{noBubble:!0},click:{setup:function(data){var el=this||data;return rcheckableType.test(el.type)&&el.click&&nodeName(el,"input")&&leverageNative(el,"click",returnTrue),!1},trigger:function(data){var el=this||data;return rcheckableType.test(el.type)&&el.click&&nodeName(el,"input")&&leverageNative(el,"click"),!0},_default:function(event){var target=event.target;return rcheckableType.test(target.type)&&target.click&&nodeName(target,"input")&&dataPriv.get(target,"click")||nodeName(target,"a")}},beforeunload:{postDispatch:function(event){void 0!==event.result&&event.originalEvent&&(event.originalEvent.returnValue=event.result)}}}},jQuery.removeEvent=function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle)},jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event))return new jQuery.Event(src,props);src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||void 0===src.defaultPrevented&&!1===src.returnValue?returnTrue:returnFalse,this.target=src.target&&3===src.target.nodeType?src.target.parentNode:src.target,this.currentTarget=src.currentTarget,this.relatedTarget=src.relatedTarget):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||Date.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(event){var button=event.button;return null==event.which&&rkeyEvent.test(event.type)?null!=event.charCode?event.charCode:event.keyCode:!event.which&&void 0!==button&&rmouseEvent.test(event.type)?1&button?1:2&button?3:4&button?2:0:event.which}},jQuery.event.addProp),jQuery.each({focus:"focusin",blur:"focusout"},function(type,delegateType){jQuery.event.special[type]={setup:function(){return leverageNative(this,type,expectSync),!1},trigger:function(){return leverageNative(this,type),!0},delegateType:delegateType}}),jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,related=event.relatedTarget,handleObj=event.handleObj;return related&&(related===this||jQuery.contains(this,related))||(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),jQuery.fn.extend({on:function(types,selector,data,fn){return on(this,types,selector,data,fn)},one:function(types,selector,data,fn){return on(this,types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if("object"==typeof types){for(type in types)this.off(type,selector,types[type]);return this}return!1!==selector&&"function"!=typeof selector||(fn=selector,selector=void 0),!1===fn&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)})}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,rnoInnerhtml=/<script|<style|<link/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function manipulationTarget(elem,content){return nodeName(elem,"table")&&nodeName(11!==content.nodeType?content:content.firstChild,"tr")&&jQuery(elem).children("tbody")[0]||elem}function disableScript(elem){return elem.type=(null!==elem.getAttribute("type"))+"/"+elem.type,elem}function restoreScript(elem){return"true/"===(elem.type||"").slice(0,5)?elem.type=elem.type.slice(5):elem.removeAttribute("type"),elem}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(1===dest.nodeType){if(dataPriv.hasData(src)&&(pdataOld=dataPriv.access(src),pdataCur=dataPriv.set(dest,pdataOld),events=pdataOld.events))for(type in delete pdataCur.handle,pdataCur.events={},events)for(i=0,l=events[type].length;i<l;i++)jQuery.event.add(dest,type,events[type][i]);dataUser.hasData(src)&&(udataOld=dataUser.access(src),udataCur=jQuery.extend({},udataOld),dataUser.set(dest,udataCur))}}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();"input"===nodeName&&rcheckableType.test(src.type)?dest.checked=src.checked:"input"!==nodeName&&"textarea"!==nodeName||(dest.defaultValue=src.defaultValue)}function domManip(collection,args,callback,ignored){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=collection.length,iNoClone=l-1,value=args[0],valueIsFunction=isFunction(value);if(valueIsFunction||l>1&&"string"==typeof value&&!support.checkClone&&rchecked.test(value))return collection.each(function(index){var self=collection.eq(index);valueIsFunction&&(args[0]=value.call(this,index,self.html())),domManip(self,args,callback,ignored)});if(l&&(first=(fragment=buildFragment(args,collection[0].ownerDocument,!1,collection,ignored)).firstChild,1===fragment.childNodes.length&&(fragment=first),first||ignored)){for(hasScripts=(scripts=jQuery.map(getAll(fragment,"script"),disableScript)).length;i<l;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(collection[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;i<hasScripts;i++)node=scripts[i],rscriptType.test(node.type||"")&&!dataPriv.access(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src&&"module"!==(node.type||"").toLowerCase()?jQuery._evalUrl&&!node.noModule&&jQuery._evalUrl(node.src,{nonce:node.nonce||node.getAttribute("nonce")}):DOMEval(node.textContent.replace(rcleanScript,""),node,doc))}return collection}function remove(elem,selector,keepData){for(var node,nodes=selector?jQuery.filter(selector,elem):elem,i=0;null!=(node=nodes[i]);i++)keepData||1!==node.nodeType||jQuery.cleanData(getAll(node)),node.parentNode&&(keepData&&isAttached(node)&&setGlobalEval(getAll(node,"script")),node.parentNode.removeChild(node));return elem}jQuery.extend({htmlPrefilter:function(html){return html.replace(rxhtmlTag,"<$1></$2>")},clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(!0),inPage=isAttached(elem);if(!(support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),i=0,l=(srcElements=getAll(elem)).length;i<l;i++)fixInput(srcElements[i],destElements[i]);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0,l=srcElements.length;i<l;i++)cloneCopyEvent(srcElements[i],destElements[i]);else cloneCopyEvent(elem,clone);return(destElements=getAll(clone,"script")).length>0&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),clone},cleanData:function(elems){for(var data,elem,type,special=jQuery.event.special,i=0;void 0!==(elem=elems[i]);i++)if(acceptData(elem)){if(data=elem[dataPriv.expando]){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);elem[dataPriv.expando]=void 0}elem[dataUser.expando]&&(elem[dataUser.expando]=void 0)}}}),jQuery.fn.extend({detach:function(selector){return remove(this,selector,!0)},remove:function(selector){return remove(this,selector)},text:function(value){return access(this,function(value){return void 0===value?jQuery.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=value)})},null,value,arguments.length)},append:function(){return domManip(this,arguments,function(elem){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||manipulationTarget(this,elem).appendChild(elem)})},prepend:function(){return domManip(this,arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return domManip(this,arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function(){return domManip(this,arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++)1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.textContent="");return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null!=dataAndEvents&&dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(void 0===value&&1===elem.nodeType)return elem.innerHTML;if("string"==typeof value&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=jQuery.htmlPrefilter(value);try{for(;i<l;i++)1===(elem=this[i]||{}).nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(){var ignored=[];return domManip(this,arguments,function(elem){var parent=this.parentNode;jQuery.inArray(this,ignored)<0&&(jQuery.cleanData(getAll(this)),parent&&parent.replaceChild(elem,this))},ignored)}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){for(var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;i<=last;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),push.apply(ret,elems.get());return this.pushStack(ret)}});var rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(elem){var view=elem.ownerDocument.defaultView;return view&&view.opener||(view=window),view.getComputedStyle(elem)},rboxStyle=new RegExp(cssExpand.join("|"),"i");function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;return(computed=computed||getStyles(elem))&&(""!==(ret=computed.getPropertyValue(name)||computed[name])||isAttached(elem)||(ret=jQuery.style(elem,name)),!support.pixelBoxStyles()&&rnumnonpx.test(ret)&&rboxStyle.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth)),void 0!==ret?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){if(!conditionFn())return(this.get=hookFn).apply(this,arguments);delete this.get}}}!function(){function computeStyleTests(){if(div){container.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",div.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",documentElement.appendChild(container).appendChild(div);var divStyle=window.getComputedStyle(div);pixelPositionVal="1%"!==divStyle.top,reliableMarginLeftVal=12===roundPixelMeasures(divStyle.marginLeft),div.style.right="60%",pixelBoxStylesVal=36===roundPixelMeasures(divStyle.right),boxSizingReliableVal=36===roundPixelMeasures(divStyle.width),div.style.position="absolute",scrollboxSizeVal=12===roundPixelMeasures(div.offsetWidth/3),documentElement.removeChild(container),div=null}}function roundPixelMeasures(measure){return Math.round(parseFloat(measure))}var pixelPositionVal,boxSizingReliableVal,scrollboxSizeVal,pixelBoxStylesVal,reliableMarginLeftVal,container=document.createElement("div"),div=document.createElement("div");div.style&&(div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,jQuery.extend(support,{boxSizingReliable:function(){return computeStyleTests(),boxSizingReliableVal},pixelBoxStyles:function(){return computeStyleTests(),pixelBoxStylesVal},pixelPosition:function(){return computeStyleTests(),pixelPositionVal},reliableMarginLeft:function(){return computeStyleTests(),reliableMarginLeftVal},scrollboxSize:function(){return computeStyleTests(),scrollboxSizeVal}}))}();var cssPrefixes=["Webkit","Moz","ms"],emptyStyle=document.createElement("div").style,vendorProps={};function finalPropName(name){var final=jQuery.cssProps[name]||vendorProps[name];return final||(name in emptyStyle?name:vendorProps[name]=function vendorPropName(name){for(var capName=name[0].toUpperCase()+name.slice(1),i=cssPrefixes.length;i--;)if((name=cssPrefixes[i]+capName)in emptyStyle)return name}(name)||name)}var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rcustomProp=/^--/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"};function setPositiveNumber(elem,value,subtract){var matches=rcssNum.exec(value);return matches?Math.max(0,matches[2]-(subtract||0))+(matches[3]||"px"):value}function boxModelAdjustment(elem,dimension,box,isBorderBox,styles,computedVal){var i="width"===dimension?1:0,extra=0,delta=0;if(box===(isBorderBox?"border":"content"))return 0;for(;i<4;i+=2)"margin"===box&&(delta+=jQuery.css(elem,box+cssExpand[i],!0,styles)),isBorderBox?("content"===box&&(delta-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==box&&(delta-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(delta+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==box?delta+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles):extra+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles));return!isBorderBox&&computedVal>=0&&(delta+=Math.max(0,Math.ceil(elem["offset"+dimension[0].toUpperCase()+dimension.slice(1)]-computedVal-delta-extra-.5))||0),delta}function getWidthOrHeight(elem,dimension,extra){var styles=getStyles(elem),isBorderBox=(!support.boxSizingReliable()||extra)&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles),valueIsBorderBox=isBorderBox,val=curCSS(elem,dimension,styles),offsetProp="offset"+dimension[0].toUpperCase()+dimension.slice(1);if(rnumnonpx.test(val)){if(!extra)return val;val="auto"}return(!support.boxSizingReliable()&&isBorderBox||"auto"===val||!parseFloat(val)&&"inline"===jQuery.css(elem,"display",!1,styles))&&elem.getClientRects().length&&(isBorderBox="border-box"===jQuery.css(elem,"boxSizing",!1,styles),(valueIsBorderBox=offsetProp in elem)&&(val=elem[offsetProp])),(val=parseFloat(val)||0)+boxModelAdjustment(elem,dimension,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles,val)+"px"}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=camelCase(name),isCustomProp=rcustomProp.test(name),style=elem.style;if(isCustomProp||(name=finalPropName(origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],void 0===value)return hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,!1,extra))?ret:style[name];"string"===(type=typeof value)&&(ret=rcssNum.exec(value))&&ret[1]&&(value=adjustCSS(elem,name,ret),type="number"),null!=value&&value==value&&("number"!==type||isCustomProp||(value+=ret&&ret[3]||(jQuery.cssNumber[origName]?"":"px")),support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),hooks&&"set"in hooks&&void 0===(value=hooks.set(elem,value,extra))||(isCustomProp?style.setProperty(name,value):style[name]=value))}},css:function(elem,name,extra,styles){var val,num,hooks,origName=camelCase(name);return rcustomProp.test(name)||(name=finalPropName(origName)),(hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName])&&"get"in hooks&&(val=hooks.get(elem,!0,extra)),void 0===val&&(val=curCSS(elem,name,styles)),"normal"===val&&name in cssNormalTransform&&(val=cssNormalTransform[name]),""===extra||extra?(num=parseFloat(val),!0===extra||isFinite(num)?num||0:val):val}}),jQuery.each(["height","width"],function(i,dimension){jQuery.cssHooks[dimension]={get:function(elem,computed,extra){if(computed)return!rdisplayswap.test(jQuery.css(elem,"display"))||elem.getClientRects().length&&elem.getBoundingClientRect().width?getWidthOrHeight(elem,dimension,extra):swap(elem,cssShow,function(){return getWidthOrHeight(elem,dimension,extra)})},set:function(elem,value,extra){var matches,styles=getStyles(elem),scrollboxSizeBuggy=!support.scrollboxSize()&&"absolute"===styles.position,isBorderBox=(scrollboxSizeBuggy||extra)&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles),subtract=extra?boxModelAdjustment(elem,dimension,extra,isBorderBox,styles):0;return isBorderBox&&scrollboxSizeBuggy&&(subtract-=Math.ceil(elem["offset"+dimension[0].toUpperCase()+dimension.slice(1)]-parseFloat(styles[dimension])-boxModelAdjustment(elem,dimension,"border",!1,styles)-.5)),subtract&&(matches=rcssNum.exec(value))&&"px"!==(matches[3]||"px")&&(elem.style[dimension]=value,value=jQuery.css(elem,dimension)),setPositiveNumber(0,value,subtract)}}}),jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,function(elem,computed){if(computed)return(parseFloat(curCSS(elem,"marginLeft"))||elem.getBoundingClientRect().left-swap(elem,{marginLeft:0},function(){return elem.getBoundingClientRect().left}))+"px"}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];i<4;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},"margin"!==prefix&&(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)}),jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(Array.isArray(name)){for(styles=getStyles(elem),len=name.length;i<len;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return void 0!==value?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||jQuery.easing._default,this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.options.duration?this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):this.pos=eased=percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),hooks&&hooks.set?hooks.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(tween){var result;return 1!==tween.elem.nodeType||null!=tween.elem[tween.prop]&&null==tween.elem.style[tween.prop]?tween.elem[tween.prop]:(result=jQuery.css(tween.elem,tween.prop,""))&&"auto"!==result?result:0},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):1!==tween.elem.nodeType||!jQuery.cssHooks[tween.prop]&&null==tween.elem.style[finalPropName(tween.prop)]?tween.elem[tween.prop]=tween.now:jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:"swing"},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,inProgress,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;function schedule(){inProgress&&(!1===document.hidden&&window.requestAnimationFrame?window.requestAnimationFrame(schedule):window.setTimeout(schedule,jQuery.fx.interval),jQuery.fx.tick())}function createFxNow(){return window.setTimeout(function(){fxNow=void 0}),fxNow=Date.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};for(includeWidth=includeWidth?1:0;i<4;i+=2-includeWidth)attrs["margin"+(which=cssExpand[i])]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function createTween(value,prop,animation){for(var tween,collection=(Animation.tweeners[prop]||[]).concat(Animation.tweeners["*"]),index=0,length=collection.length;index<length;index++)if(tween=collection[index].call(animation,prop,value))return tween}function Animation(elem,properties,options){var result,stopped,index=0,length=Animation.prefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;for(var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),percent=1-(remaining/animation.duration||0),index=0,length=animation.tweens.length;index<length;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),percent<1&&length?remaining:(length||deferred.notifyWith(elem,[animation,1,0]),deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{},easing:jQuery.easing._default},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;for(stopped=!0;index<length;index++)animation.tweens[index].run(1);return gotoEnd?(deferred.notifyWith(elem,[animation,1,0]),deferred.resolveWith(elem,[animation,gotoEnd])):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(!function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(easing=specialEasing[name=camelCase(index)],value=props[index],Array.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),(hooks=jQuery.cssHooks[name])&&"expand"in hooks)for(index in value=hooks.expand(value),delete props[name],value)index in props||(props[index]=value[index],specialEasing[index]=easing);else specialEasing[name]=easing}(props,animation.opts.specialEasing);index<length;index++)if(result=Animation.prefilters[index].call(animation,elem,props,animation.opts))return isFunction(result.stop)&&(jQuery._queueHooks(animation.elem,animation.opts.queue).stop=result.stop.bind(result)),result;return jQuery.map(props,createTween,animation),isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation}jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(prop,value){var tween=this.createTween(prop,value);return adjustCSS(tween.elem,prop,rcssNum.exec(value),tween),tween}]},tweener:function(props,callback){isFunction(props)?(callback=props,props=["*"]):props=props.match(rnothtmlwhite);for(var prop,index=0,length=props.length;index<length;index++)prop=props[index],Animation.tweeners[prop]=Animation.tweeners[prop]||[],Animation.tweeners[prop].unshift(callback)},prefilters:[function defaultPrefilter(elem,props,opts){var prop,value,toggle,hooks,oldfire,propTween,restoreDisplay,display,isBox="width"in props||"height"in props,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHiddenWithinTree(elem),dataShow=dataPriv.get(elem,"fxshow");for(prop in opts.queue||(null==(hooks=jQuery._queueHooks(elem,"fx")).unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})})),props)if(value=props[prop],rfxtypes.test(value)){if(delete props[prop],toggle=toggle||"toggle"===value,value===(hidden?"hide":"show")){if("show"!==value||!dataShow||void 0===dataShow[prop])continue;hidden=!0}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}if((propTween=!jQuery.isEmptyObject(props))||!jQuery.isEmptyObject(orig))for(prop in isBox&&1===elem.nodeType&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],null==(restoreDisplay=dataShow&&dataShow.display)&&(restoreDisplay=dataPriv.get(elem,"display")),"none"===(display=jQuery.css(elem,"display"))&&(restoreDisplay?display=restoreDisplay:(showHide([elem],!0),restoreDisplay=elem.style.display||restoreDisplay,display=jQuery.css(elem,"display"),showHide([elem]))),("inline"===display||"inline-block"===display&&null!=restoreDisplay)&&"none"===jQuery.css(elem,"float")&&(propTween||(anim.done(function(){style.display=restoreDisplay}),null==restoreDisplay&&(display=style.display,restoreDisplay="none"===display?"":display)),style.display="inline-block")),opts.overflow&&(style.overflow="hidden",anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]})),propTween=!1,orig)propTween||(dataShow?"hidden"in dataShow&&(hidden=dataShow.hidden):dataShow=dataPriv.access(elem,"fxshow",{display:restoreDisplay}),toggle&&(dataShow.hidden=!hidden),hidden&&showHide([elem],!0),anim.done(function(){for(prop in hidden||showHide([elem]),dataPriv.remove(elem,"fxshow"),orig)jQuery.style(elem,prop,orig[prop])})),propTween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=propTween.start,hidden&&(propTween.end=propTween.start,propTween.start=0))}],prefilter:function(callback,prepend){prepend?Animation.prefilters.unshift(callback):Animation.prefilters.push(callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!isFunction(easing)&&easing};return jQuery.fx.off?opt.duration=0:"number"!=typeof opt.duration&&(opt.duration in jQuery.fx.speeds?opt.duration=jQuery.fx.speeds[opt.duration]:opt.duration=jQuery.fx.speeds._default),null!=opt.queue&&!0!==opt.queue||(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHiddenWithinTree).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);(empty||dataPriv.get(this,"finish"))&&anim.stop(!0)};return doAnimation.finish=doAnimation,empty||!1===optall.queue?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)};return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=void 0),clearQueue&&!1!==type&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=dataPriv.get(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));!dequeue&&gotoEnd||jQuery.dequeue(this,type)})},finish:function(type){return!1!==type&&(type=type||"fx"),this.each(function(){var index,data=dataPriv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.stop&&hooks.stop.call(this,!0),index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;index<length;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}}),jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.timers=[],jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;for(fxNow=Date.now();i<timers.length;i++)(timer=timers[i])()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=void 0},jQuery.fx.timer=function(timer){jQuery.timers.push(timer),jQuery.fx.start()},jQuery.fx.interval=13,jQuery.fx.start=function(){inProgress||(inProgress=!0,schedule())},jQuery.fx.stop=function(){inProgress=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(time,type){return time=jQuery.fx&&jQuery.fx.speeds[time]||time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=window.setTimeout(next,time);hooks.stop=function(){window.clearTimeout(timeout)}})},function(){var input=document.createElement("input"),opt=document.createElement("select").appendChild(document.createElement("option"));input.type="checkbox",support.checkOn=""!==input.value,support.optSelected=opt.selected,(input=document.createElement("input")).value="t",input.type="radio",support.radioValue="t"===input.value}();var boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}}),jQuery.extend({attr:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&&8!==nType&&2!==nType)return void 0===elem.getAttribute?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(hooks=jQuery.attrHooks[name.toLowerCase()]||(jQuery.expr.match.bool.test(name)?boolHook:void 0)),void 0!==value?null===value?void jQuery.removeAttr(elem,name):hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:(elem.setAttribute(name,value+""),value):hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:null==(ret=jQuery.find.attr(elem,name))?void 0:ret)},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&"radio"===value&&nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}},removeAttr:function(elem,value){var name,i=0,attrNames=value&&value.match(rnothtmlwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)elem.removeAttribute(name)}}),boolHook={set:function(elem,value,name){return!1===value?jQuery.removeAttr(elem,name):elem.setAttribute(name,name),name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle,lowercaseName=name.toLowerCase();return isXML||(handle=attrHandle[lowercaseName],attrHandle[lowercaseName]=ret,ret=null!=getter(elem,name,isXML)?lowercaseName:null,attrHandle[lowercaseName]=handle),ret}});var rfocusable=/^(?:input|select|textarea|button)$/i,rclickable=/^(?:a|area)$/i;function stripAndCollapse(value){return(value.match(rnothtmlwhite)||[]).join(" ")}function getClass(elem){return elem.getAttribute&&elem.getAttribute("class")||""}function classesToArray(value){return Array.isArray(value)?value:"string"==typeof value&&value.match(rnothtmlwhite)||[]}jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}}),jQuery.extend({prop:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&&8!==nType&&2!==nType)return 1===nType&&jQuery.isXMLDoc(elem)||(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),void 0!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&&parent.parentNode&&parent.parentNode.selectedIndex,null},set:function(elem){var parent=elem.parentNode;parent&&(parent.selectedIndex,parent.parentNode&&parent.parentNode.selectedIndex)}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this}),jQuery.fn.extend({addClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,getClass(this)))});if((classes=classesToArray(value)).length)for(;elem=this[i++];)if(curValue=getClass(elem),cur=1===elem.nodeType&&" "+stripAndCollapse(curValue)+" "){for(j=0;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");curValue!==(finalValue=stripAndCollapse(cur))&&elem.setAttribute("class",finalValue)}return this},removeClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,getClass(this)))});if(!arguments.length)return this.attr("class","");if((classes=classesToArray(value)).length)for(;elem=this[i++];)if(curValue=getClass(elem),cur=1===elem.nodeType&&" "+stripAndCollapse(curValue)+" "){for(j=0;clazz=classes[j++];)for(;cur.indexOf(" "+clazz+" ")>-1;)cur=cur.replace(" "+clazz+" "," ");curValue!==(finalValue=stripAndCollapse(cur))&&elem.setAttribute("class",finalValue)}return this},toggleClass:function(value,stateVal){var type=typeof value,isValidValue="string"===type||Array.isArray(value);return"boolean"==typeof stateVal&&isValidValue?stateVal?this.addClass(value):this.removeClass(value):isFunction(value)?this.each(function(i){jQuery(this).toggleClass(value.call(this,i,getClass(this),stateVal),stateVal)}):this.each(function(){var className,i,self,classNames;if(isValidValue)for(i=0,self=jQuery(this),classNames=classesToArray(value);className=classNames[i++];)self.hasClass(className)?self.removeClass(className):self.addClass(className);else void 0!==value&&"boolean"!==type||((className=getClass(this))&&dataPriv.set(this,"__className__",className),this.setAttribute&&this.setAttribute("class",className||!1===value?"":dataPriv.get(this,"__className__")||""))})},hasClass:function(selector){var className,elem,i=0;for(className=" "+selector+" ";elem=this[i++];)if(1===elem.nodeType&&(" "+stripAndCollapse(getClass(elem))+" ").indexOf(className)>-1)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,valueIsFunction,elem=this[0];return arguments.length?(valueIsFunction=isFunction(value),this.each(function(i){var val;1===this.nodeType&&(null==(val=valueIsFunction?value.call(this,i,jQuery(this).val()):value)?val="":"number"==typeof val?val+="":Array.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""})),(hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()])&&"set"in hooks&&void 0!==hooks.set(this,val,"value")||(this.value=val))})):elem?(hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()])&&"get"in hooks&&void 0!==(ret=hooks.get(elem,"value"))?ret:"string"==typeof(ret=elem.value)?ret.replace(rreturn,""):null==ret?"":ret:void 0}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return null!=val?val:stripAndCollapse(jQuery.text(elem))}},select:{get:function(elem){var value,option,i,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type,values=one?null:[],max=one?index+1:options.length;for(i=index<0?max:one?index:0;i<max;i++)if(((option=options[i]).selected||i===index)&&!option.disabled&&(!option.parentNode.disabled||!nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)((option=options[i]).selected=jQuery.inArray(jQuery.valHooks.option.get(option),values)>-1)&&(optionSet=!0);return optionSet||(elem.selectedIndex=-1),values}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(Array.isArray(value))return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>-1}},support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})}),support.focusin="onfocusin"in window;var rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,stopPropagationCallback=function(e){e.stopPropagation()};jQuery.extend(jQuery.event,{trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,lastElement,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];if(cur=lastElement=tmp=elem=elem||document,3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(type.indexOf(".")>-1&&(namespaces=type.split("."),type=namespaces.shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,(event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event)).isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.rnamespace=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=void 0,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||!1!==special.trigger.apply(elem,data))){if(!onlyHandlers&&!special.noBubble&&!isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)lastElement=cur,event.type=i>1?bubbleType:special.bindType||type,(handle=(dataPriv.get(cur,"events")||{})[event.type]&&dataPriv.get(cur,"handle"))&&handle.apply(cur,data),(handle=ontype&&cur[ontype])&&handle.apply&&acceptData(cur)&&(event.result=handle.apply(cur,data),!1===event.result&&event.preventDefault());return event.type=type,onlyHandlers||event.isDefaultPrevented()||special._default&&!1!==special._default.apply(eventPath.pop(),data)||!acceptData(elem)||ontype&&isFunction(elem[type])&&!isWindow(elem)&&((tmp=elem[ontype])&&(elem[ontype]=null),jQuery.event.triggered=type,event.isPropagationStopped()&&lastElement.addEventListener(type,stopPropagationCallback),elem[type](),event.isPropagationStopped()&&lastElement.removeEventListener(type,stopPropagationCallback),jQuery.event.triggered=void 0,tmp&&(elem[ontype]=tmp)),event.result}},simulate:function(type,elem,event){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0});jQuery.event.trigger(e,null,elem)}}),jQuery.fn.extend({trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem)return jQuery.event.trigger(type,data,elem,!0)}}),support.focusin||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event))};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix);attaches||doc.addEventListener(orig,handler,!0),dataPriv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix)-1;attaches?dataPriv.access(doc,fix,attaches):(doc.removeEventListener(orig,handler,!0),dataPriv.remove(doc,fix))}}});var location=window.location,nonce=Date.now(),rquery=/\?/;jQuery.parseXML=function(data){var xml;if(!data||"string"!=typeof data)return null;try{xml=(new window.DOMParser).parseFromString(data,"text/xml")}catch(e){xml=void 0}return xml&&!xml.getElementsByTagName("parsererror").length||jQuery.error("Invalid XML: "+data),xml};var rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){var name;if(Array.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v&&null!=v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==toType(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,valueOrFunction){var value=isFunction(valueOrFunction)?valueOrFunction():valueOrFunction;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(null==value?"":value)};if(null==a)return"";if(Array.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:Array.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});var r20=/%20/g,rhash=/#.*$/,rantiCache=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,prefilters={},transports={},allTypes="*/".concat("*"),originAnchor=document.createElement("a");function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnothtmlwhite)||[];if(isFunction(func))for(;dataType=dataTypes[i++];)"+"===dataType[0]?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=structure===transports;function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);return"string"!=typeof dataTypeOrTransport||seekingTransport||inspected[dataTypeOrTransport]?seekingTransport?!(selected=dataTypeOrTransport):void 0:(options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1)}),selected}return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)void 0!==src[key]&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}originAnchor.href=location.href,jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:location.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(location.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){"object"==typeof url&&(options=url,url=void 0),options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,urlAnchor,completed,fireGlobals,i,uncached,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(completed){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()+" "]=(responseHeaders[match[1].toLowerCase()+" "]||[]).concat(match[2]);match=responseHeaders[key.toLowerCase()+" "]}return null==match?null:match.join(", ")},getAllResponseHeaders:function(){return completed?responseHeadersString:null},setRequestHeader:function(name,value){return null==completed&&(name=requestHeadersNames[name.toLowerCase()]=requestHeadersNames[name.toLowerCase()]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return null==completed&&(s.mimeType=type),this},statusCode:function(map){var code;if(map)if(completed)jqXHR.always(map[jqXHR.status]);else for(code in map)statusCode[code]=[statusCode[code],map[code]];return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&&transport.abort(finalText),done(0,finalText),this}};if(deferred.promise(jqXHR),s.url=((url||s.url||location.href)+"").replace(rprotocol,location.protocol+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=(s.dataType||"*").toLowerCase().match(rnothtmlwhite)||[""],null==s.crossDomain){urlAnchor=document.createElement("a");try{urlAnchor.href=s.url,urlAnchor.href=urlAnchor.href,s.crossDomain=originAnchor.protocol+"//"+originAnchor.host!=urlAnchor.protocol+"//"+urlAnchor.host}catch(e){s.crossDomain=!0}}if(s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),completed)return jqXHR;for(i in(fireGlobals=jQuery.event&&s.global)&&0==jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url.replace(rhash,""),s.hasContent?s.data&&s.processData&&0===(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&(s.data=s.data.replace(r20,"+")):(uncached=s.url.slice(cacheURL.length),s.data&&(s.processData||"string"==typeof s.data)&&(cacheURL+=(rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),!1===s.cache&&(cacheURL=cacheURL.replace(rantiCache,"$1"),uncached=(rquery.test(cacheURL)?"&":"?")+"_="+nonce+++uncached),s.url=cacheURL+uncached),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])),(s.data&&s.hasContent&&!1!==s.contentType||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]),s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(!1===s.beforeSend.call(callbackContext,jqXHR,s)||completed))return jqXHR.abort();if(strAbort="abort",completeDeferred.add(s.complete),jqXHR.done(s.success),jqXHR.fail(s.error),transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){if(jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),completed)return jqXHR;s.async&&s.timeout>0&&(timeoutTimer=window.setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{completed=!1,transport.send(requestHeaders,done)}catch(e){if(completed)throw e;done(-1,e)}}else done(-1,"No Transport");function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;completed||(completed=!0,timeoutTimer&&window.clearTimeout(timeoutTimer),transport=void 0,responseHeadersString=headers||"",jqXHR.readyState=status>0?4:0,isSuccess=status>=200&&status<300||304===status,responses&&(response=function ajaxHandleResponses(s,jqXHR,responses){for(var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;"*"===dataTypes[0];)dataTypes.shift(),void 0===ct&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}if(finalDataType)return finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]}(s,jqXHR,responses)),response=function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if("*"===current)current=prev;else if("*"!==prev&&prev!==current){if(!(conv=converters[prev+" "+current]||converters["* "+current]))for(conv2 in converters)if((tmp=conv2.split(" "))[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){!0===conv?conv=converters[conv2]:!0!==converters[conv2]&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(!0!==conv)if(conv&&s.throws)response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}return{state:"success",data:response}}(s,response,jqXHR,isSuccess),isSuccess?(s.ifModified&&((modified=jqXHR.getResponseHeader("Last-Modified"))&&(jQuery.lastModified[cacheURL]=modified),(modified=jqXHR.getResponseHeader("etag"))&&(jQuery.etag[cacheURL]=modified)),204===status||"HEAD"===s.type?statusText="nocontent":304===status?statusText="notmodified":(statusText=response.state,success=response.data,isSuccess=!(error=response.error))):(error=statusText,!status&&statusText||(statusText="error",status<0&&(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=void 0,fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,void 0,callback,"script")}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return isFunction(data)&&(type=type||callback,callback=data,data=void 0),jQuery.ajax(jQuery.extend({url:url,type:method,dataType:type,data:data,success:callback},jQuery.isPlainObject(url)&&url))}}),jQuery._evalUrl=function(url,options){return jQuery.ajax({url:url,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(response){jQuery.globalEval(response,options)}})},jQuery.fn.extend({wrapAll:function(html){var wrap;return this[0]&&(isFunction(html)&&(html=html.call(this[0])),wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstElementChild;)elem=elem.firstElementChild;return elem}).append(this)),this},wrapInner:function(html){return isFunction(html)?this.each(function(i){jQuery(this).wrapInner(html.call(this,i))}):this.each(function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var htmlIsFunction=isFunction(html);return this.each(function(i){jQuery(this).wrapAll(htmlIsFunction?html.call(this,i):html)})},unwrap:function(selector){return this.parent(selector).not("body").each(function(){jQuery(this).replaceWith(this.childNodes)}),this}}),jQuery.expr.pseudos.hidden=function(elem){return!jQuery.expr.pseudos.visible(elem)},jQuery.expr.pseudos.visible=function(elem){return!!(elem.offsetWidth||elem.offsetHeight||elem.getClientRects().length)},jQuery.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest}catch(e){}};var xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(options){var callback,errorCallback;if(support.cors||xhrSupported&&!options.crossDomain)return{send:function(headers,complete){var i,xhr=options.xhr();if(xhr.open(options.type,options.url,options.async,options.username,options.password),options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];for(i in options.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),options.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest"),headers)xhr.setRequestHeader(i,headers[i]);callback=function(type){return function(){callback&&(callback=errorCallback=xhr.onload=xhr.onerror=xhr.onabort=xhr.ontimeout=xhr.onreadystatechange=null,"abort"===type?xhr.abort():"error"===type?"number"!=typeof xhr.status?complete(0,"error"):complete(xhr.status,xhr.statusText):complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,"text"!==(xhr.responseType||"text")||"string"!=typeof xhr.responseText?{binary:xhr.response}:{text:xhr.responseText},xhr.getAllResponseHeaders()))}},xhr.onload=callback(),errorCallback=xhr.onerror=xhr.ontimeout=callback("error"),void 0!==xhr.onabort?xhr.onabort=errorCallback:xhr.onreadystatechange=function(){4===xhr.readyState&&window.setTimeout(function(){callback&&errorCallback()})},callback=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback)throw e}},abort:function(){callback&&callback()}}}),jQuery.ajaxPrefilter(function(s){s.crossDomain&&(s.contents.script=!1)}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){void 0===s.cache&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),jQuery.ajaxTransport("script",function(s){var script,callback;if(s.crossDomain||s.scriptAttrs)return{send:function(_,complete){script=jQuery("<script>").attr(s.scriptAttrs||{}).prop({charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove(),callback=null,evt&&complete("error"===evt.type?404:200,evt.type)}),document.head.appendChild(script[0])},abort:function(){callback&&callback()}}});var body,oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=!1!==s.jsonp&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&0===(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||"jsonp"===s.dataTypes[0])return callbackName=s.jsonpCallback=isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):!1!==s.jsonp&&(s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){void 0===overwritten?jQuery(window).removeProp(callbackName):window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=void 0}),"script"}),support.createHTMLDocument=((body=document.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===body.childNodes.length),jQuery.parseHTML=function(data,context,keepScripts){return"string"!=typeof data?[]:("boolean"==typeof context&&(keepScripts=context,context=!1),context||(support.createHTMLDocument?((base=(context=document.implementation.createHTMLDocument("")).createElement("base")).href=document.location.href,context.head.appendChild(base)):context=document),scripts=!keepScripts&&[],(parsed=rsingleTag.exec(data))?[context.createElement(parsed[1])]:(parsed=buildFragment([data],context,scripts),scripts&&scripts.length&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes)));var base,parsed,scripts},jQuery.fn.load=function(url,params,callback){var selector,type,response,self=this,off=url.indexOf(" ");return off>-1&&(selector=stripAndCollapse(url.slice(off)),url=url.slice(0,off)),isFunction(params)?(callback=params,params=void 0):params&&"object"==typeof params&&(type="POST"),self.length>0&&jQuery.ajax({url:url,type:type||"GET",dataType:"html",data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).always(callback&&function(jqXHR,status){self.each(function(){callback.apply(this,response||[jqXHR.responseText,status,jqXHR])})}),this},jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery.expr.pseudos.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length},jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};"static"===position&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),("absolute"===position||"fixed"===position)&&(curCSSTop+curCSSLeft).indexOf("auto")>-1?(curTop=(curPosition=curElem.position()).top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),isFunction(options)&&(options=options.call(elem,i,jQuery.extend({},curOffset))),null!=options.top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({offset:function(options){if(arguments.length)return void 0===options?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var rect,win,elem=this[0];return elem?elem.getClientRects().length?(rect=elem.getBoundingClientRect(),win=elem.ownerDocument.defaultView,{top:rect.top+win.pageYOffset,left:rect.left+win.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var offsetParent,offset,doc,elem=this[0],parentOffset={top:0,left:0};if("fixed"===jQuery.css(elem,"position"))offset=elem.getBoundingClientRect();else{for(offset=this.offset(),doc=elem.ownerDocument,offsetParent=elem.offsetParent||doc.documentElement;offsetParent&&(offsetParent===doc.body||offsetParent===doc.documentElement)&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.parentNode;offsetParent&&offsetParent!==elem&&1===offsetParent.nodeType&&((parentOffset=jQuery(offsetParent).offset()).top+=jQuery.css(offsetParent,"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent,"borderLeftWidth",!0))}return{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent;offsetParent&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||documentElement})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win;if(isWindow(elem)?win=elem:9===elem.nodeType&&(win=elem.defaultView),void 0===val)return win?win[prop]:elem[method];win?win.scrollTo(top?win.pageXOffset:val,top?val:win.pageYOffset):elem[method]=val},method,val,arguments.length)}}),jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed)return computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed})}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(!0===margin||!0===value?"margin":"border");return access(this,function(elem,type,value){var doc;return isWindow(elem)?0===funcName.indexOf("outer")?elem["inner"+name]:elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):void 0===value?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:void 0,chainable)}})}),jQuery.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}}),jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}}),jQuery.fn.extend({bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)}}),jQuery.proxy=function(fn,context){var tmp,args,proxy;if("string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),isFunction(fn))return args=slice.call(arguments,2),(proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))}).guid=fn.guid=fn.guid||jQuery.guid++,proxy},jQuery.holdReady=function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},jQuery.isArray=Array.isArray,jQuery.parseJSON=JSON.parse,jQuery.nodeName=nodeName,jQuery.isFunction=isFunction,jQuery.isWindow=isWindow,jQuery.camelCase=camelCase,jQuery.type=toType,jQuery.now=Date.now,jQuery.isNumeric=function(obj){var type=jQuery.type(obj);return("number"===type||"string"===type)&&!isNaN(obj-parseFloat(obj))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},noGlobal||(window.jQuery=window.$=jQuery),jQuery})},{}],396:[function(require,module,exports){var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;function plural(ms,n,name){if(!(ms<n))return ms<1.5*n?Math.floor(ms/n)+" "+name:Math.ceil(ms/n)+" "+name+"s"}module.exports=function(val,options){options=options||{};var type=typeof val;if("string"===type&&val.length>0)return function parse(str){if((str=String(str)).length>100)return;var match=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);if(!match)return;var n=parseFloat(match[1]);switch((match[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*y;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(val);if("number"===type&&!1===isNaN(val))return options.long?function fmtLong(ms){return plural(ms,d,"day")||plural(ms,h,"hour")||plural(ms,m,"minute")||plural(ms,s,"second")||ms+" ms"}(val):function fmtShort(ms){if(ms>=d)return Math.round(ms/d)+"d";if(ms>=h)return Math.round(ms/h)+"h";if(ms>=m)return Math.round(ms/m)+"m";if(ms>=s)return Math.round(ms/s)+"s";return ms+"ms"}(val);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(val))}},{}],397:[function(require,module,exports){module.exports={}},{}],398:[function(require,module,exports){module.exports={0:"[root [nsubj I] have [obj [amod [advmod too] many] commitments] [advmod right now] [punct .]]"}},{}],399:[function(require,module,exports){module.exports={equals:'# sent_id = mst-0001\n# text = Pereve balamal.\n"<Pereve>"\n\t"perev" Noun @obl #1->2\n"<balamal>"\n\t"bala" Verb SpaceAfter=No @root #2->0\n"<.>"\n\t"." Punc @punct #3->2',x_and_u_postag:'# text = e\'ngura ie\'rapoambuva (lenguas de flexin), umi e\'te indoeuropeo-icha.\n# text[spa] = Las lenguas de flexin, aquellas lenguas como indoeuropeas.\n# labels =\n"<engura>"\n\t"e" n @nsubj #1->\n\t\t"kura" det pl @det #2->1\n"<ierapoambuva>"\n\t"ierapoambuva" adj @amod #3->1\n"<(>"\n\t"(" lpar @punct #4->5\n"<lenguas>"\n\t"lenguas" barb @appos #5->1\n"<de>"\n\t"de" barb @foreign #6->7\n"<flexin>"\n\t"flexin" barb @foreign #7->5\n"<)>"\n\t")" rpar @punct #8->5\n"<,>"\n\t"," cm @punct #9->\n"<umi>"\n\t"umi" adj dem pl @amod #10->11\n"<ete>"\n\t"e" n @obl #11->\n\t\t"te" post @case #12->11\n"<indoeuropeo-icha>"\n\t"indoeuropeo" barb @amod #13->11\n\t\t"icha" comp @dep #14->13\n"<.>"\n\t"." sent @punct #15->',nested:'# sent_id = wikipedia:Poyvi_Paragui:11\n# text = Poyvi peteha ane retmegua niko ojepuruypkuri 15 jasypo guive 16 jasypote meve ary 1811-pe.\n# text[spa] = Bandera uno nosotros de-de _ l-se-utiliz-_ 15 maio desde 16 junio hasta ao 1811-en.\n"<Poyvi>"\n\t"poyvi" n\n"<peteha>"\n\t"pete" n incp\n\t\t"" v tv pres\n\t\t\t"ha" subs\n\t"peteha" num\n"<ane>"\n\t"and" prn pers p1 incl pl\n"<retmegua>"\n\t"*retmegua"\n"<niko>"\n\t"*niko"\n"<ojepuruypkuri>"\n\t"*ojepuruypkuri"\n"<15>"\n\t"15" num @amod\n"<jasypo>"\n\t"ja" n incp\n\t\t"sy" n incp\n\t\t\t"po" n\n\t"ja" n incp\n\t\t"sy" n incp\n\t\t\t"po" v iv pres\n\t"ja" n incp\n\t\t"sy" n incp\n\t\t\t"po" v tv pres\n\t"ja" prn p1 pl\n\t\t"sy" n incp\n\t\t\t"po" n\n\t"ja" prn p1 pl\n\t\t"sy" n incp\n\t\t\t"po" v iv pres\n\t"ja" prn p1 pl\n\t\t"sy" n incp\n\t\t\t"po" v tv pres\n\t"jasy" n incp\n\t\t"po" n\n\t"jasy" n incp\n\t\t"po" v iv pres\n\t"jasy" n incp\n\t\t"po" v tv pres\n\t"jasypo" n\n"<guive>"\n\t"guive" post @case\n"<16>"\n\t"16" num @amod\n"<jasypote>"\n\t"jasypote" n\n"<meve>"\n\t"peve" post @case\n"<ary>"\n\t"ary" n\n"<1811-pe>"\n\t"1811" num\n\t\t"pe" post @case',kdt_tagged_1:'# https://github.com/apertium/apertium-kaz/blob/master/texts/kdt.tagged.txt\n"<>"\n\t"" np top gen @nmod:poss #1->3\n"<>"\n\t"" adj @amod #2->3\n"<>"\n\t"" n px3sp loc @conj #3->7\n"<,>"\n\t"," cm @punct #4->7\n"<>"\n\t"" np top gen @nmod:poss #5->7\n"<>"\n\t"" adj @amod #6->7\n"<>"\n\t"" n px3sp loc @nmod #7->11\n"<>"\n\t"" n dat @nmod #8->9\n"<>"\n\t"" adj @acl #9->10\n"<>"\n\t"" np top nom @nsubj #10->11\n"<>"\n\t"" adj @root #11->0\n\t\t"" cop aor p3 sg @cop #12->11\n"<.>"\n\t"." sent @punct #13->11',kdt_tagged_2:'# https://github.com/apertium/apertium-kaz/blob/master/texts/kdt.tagged.txt\n"<>"\n\t"" v iv imp p2 sg @root #1->0\n"<!>"\n\t"!" sent @punct #2->1',kdt_tagged_3:'# https://github.com/apertium/apertium-kaz/blob/master/texts/kdt.tagged.txt\n"<>"\n\t"" det dem @det #1->3\n"<>"\n\t"" adj @amod #2->3\n"<>"\n\t"" adj subst nom @nsubj #3->4\n"<>"\n\t"" prn itg nom @root #4->0\n\t\t"" cop aor p3 sg @cop #5->4\n"<?>"\n\t"?" sent @punct #6->4',0:'"<>"\n\t"" n ins @nmod #1->3\n"<>"\n\t"" n nom @obj #2->3\n"<>"\n\t"" v tv ger_past loc @advcl #3->12\n"<,>"\n\t"," cm @punct #4->12\n"<->"\n\t"-" n nom @conj #5->7\n"<,>"\n\t"," cm @punct #6->7\n"<>"\n\t"" n px1sg acc @obj #7->8\n"<>"\n\t"" v tv ger dat @advcl #8->12\n"<,>"\n\t"," cm @punct #9->12\n"<>"\n\t"" prn pers p1 pl nom @nsubj #10->12\n"<>"\n\t"" n dat @nmod #11->12\n"<>"\n\t"" v iv ifi p1 pl @root #12->0\n"<.>"\n\t"." sent @punct #13->12',1:'# text = He boued e tebr Mona er gegin.\n# text[eng] = Mona eats her food here in the kitchen.\n# labels = press_1986 ch_syntax p_197 to_check\n"<He>"\n\t"he" det pos f sp @det #1->2\n"<boued>"\n\t"boued" n m sg @obj #2->4\n"<e>"\n\t"e" vpart obj @aux #3->4\n"<tebr>"\n\t"debri" vblex pri p3 sg @root #4->0\n"<Mona>"\n\t"Mona" np ant f sg @nsubj #5->4\n"<er>"\n\t"e" pr @case #6->8\n\t\t"an" det def sp @det #7->8\n"<gegin>"\n\t"kegin" n f sg @obl #8->4\n"<.>"\n\t"." sent @punct #9->4',2:'# text = He boued e tebr Mona er gegin.\n# text[eng] = Mona eats her food here in the kitchen.\n# labels = press_1986 ch_syntax p_197 to_check\n"<He>"\n\t"he" det pos f sp @det #1->2\n"<boued>"\n\t"boued" n m sg @obj #2->4\n"<e>"\n\t"e" vpart obj @aux #3->4\n"<tebr>"\n\t"debri" vblex pri p3 sg @root #4->0\n"<Mona>"\n\t"Mona" np ant f sg @nsubj #5->4\n"<er>"\n\t"e" pr @case #6->8\n\t\t"an" det def sp @det #7->8\n"<gegin>"\n\t"kegin" n f sg @obl #8->4\n\t"kegin" n f pl @obl #9->\n"<.>"\n\t"." sent @punct #10->4',with_semicolumn:'\n"<Siedzielimy>"\n\t"siedzie" vblex impf past p1 m pl\n"<w>"\n\t"w" pr\n"<moim>"\n;   "mj" prn pos mi sg loc\n"<pokoju>"\n\t"pokj" n mi sg loc\n"<,>"\n\t"," cm\n"<palc>"\n\t"pali" vblex impf pprs adv\n"<i>"\n\t"i" cnjcoo\n"<rozmawiajc>"\n\t"rozmawia" vblex impf pprs adv\n"<o>"\n\t"o" pr\n"<tem>"\n\t"to" prn dem mi sg loc\n"<,>"\n\t"," cm\n"<jak>"\n\t"jak" rel adv\n"<marni>"\n\t"marny" adj sint mp pl nom\n"<jestemy>"\n\t"by" vbser pres p1 pl\n"<,>"\n\t"," cm\n"<marni>"\n\t"marny" adj sint mp pl nom\n"<z>"\n\t"z" pr\n"<lekarskiego>"\n\t"lekarski" adj mi sg gen\n"<punktu>"\n\t"punkt" n mi sg gen\n"<widzenia>"\n;   "widzie" vblex impf ger nt sg gen\n"<chc>"\n\t"chcie" vblex impf pres p1 sg\n"<powiedzie>"\n\t"powiedzie" vblex perf inf\n"<,>"\n\t"," cm\n"<naturalnie>"\n\t"naturalnie" adv sint\n"<.>"\n\t"." sent',simple:'"<>"\n\t"" n ins @nmod #1->3\n"<>"\n\t"" n nom @obj #2->3\n"<>"\n\t"" v tv ger_past loc @advcl #3->12\n"<,>"\n\t"," cm @punct #4->12\n"<->"\n\t"-" n nom @conj #5->7\n"<,>"\n\t"," cm @punct #6->7\n"<>"\n\t"" n px1sg acc @obj #7->8\n"<>"\n\t"" v tv ger dat @advcl #8->12\n"<,>"\n\t"," cm @punct #9->12\n"<>"\n\t"" prn pers p1 pl nom @nsubj #10->12\n"<>"\n\t"" n dat @nmod #11->12\n"<>"\n\t"" v iv ifi p1 pl @root #12->0\n"<.>"\n\t"." sent @punct #13->12',simple_with_comments:'# comment #1\n# comment #2\n"<>"\n\t"" n ins @nmod #1->3\n"<>"\n\t"" n nom @obj #2->3\n"<>"\n\t"" v tv ger_past loc @advcl #3->12\n"<,>"\n\t"," cm @punct #4->12\n"<->"\n\t"-" n nom @conj #5->7\n"<,>"\n\t"," cm @punct #6->7\n"<>"\n\t"" n px1sg acc @obj #7->8\n"<>"\n\t"" v tv ger dat @advcl #8->12\n"<,>"\n\t"," cm @punct #9->12\n"<>"\n\t"" prn pers p1 pl nom @nsubj #10->12\n"<>"\n\t"" n dat @nmod #11->12\n"<>"\n\t"" v iv ifi p1 pl @root #12->0\n"<.>"\n\t"." sent @punct #13->12',with_spans:'# text = He boued e tebr Mona er gegin.\n# text[eng] = Mona eats her food here in the kitchen.\n# labels = press_1986 ch_syntax p_197 to_check\n"<He>"\n\t"he" det pos f sp @det #1->2\n"<boued>"\n\t"boued" n m sg @obj #2->4\n"<e>"\n\t"e" vpart obj @aux #3->4\n"<tebr>"\n\t"debri" vblex pri p3 sg @root #4->0\n"<Mona>"\n\t"Mona" np ant f sg @nsubj #5->4\n"<er>"\n\t"e" pr @case #6->8\n\t\t"an" det def sp @det #7->8\n"<gegin>"\n\t"kegin" n f sg @obl #8->4\n"<.>"\n\t"." sent @punct #9->4',apertium_kaz_1:'# https://bpaste.net/show/be7c03e6213e\n"<>"\n\t"*"\n"<->"\n\t"" guio\n\t"-" guio\n"<>"\n\t"*"\n"<>"\n\t"" n attr\n\t"" v tv ger nom\n\t"" v iv ger nom\n\t"" n nom\n;\t"" n nom\n;\t\t"" cop aor p3 pl REMOVE:294\n;\t"" n nom\n;\t\t"" cop aor p3 sg REMOVE:294\n;\t"" vaux ger nom REMOVE:766\n"<>"\n\t"" n px3sp abl\n;\t"" n px3sp abl\n;\t\t"" cop aor p3 pl REMOVE:294\n;\t"" n px3sp abl\n;\t\t"" cop aor p3 sg REMOVE:294\n"<>"\n\t"*"\n"<>"\n\t"" n px3sp dat\n"<>"\n\t"" v iv aor p3 sg\n;\t"" vaux aor p3 pl REMOVE:766\n;\t"" vaux aor p3 sg REMOVE:766\n;\t"" v iv aor p3 pl REMOVE:846\n"<.>"\n\t"." sent',apertium_kaz_2:'# https://bpaste.net/show/be7c03e6213e\n"<>"\n\t"" n px3sp loc\n;\t"" n px3sp loc\n;\t\t"" cop aor p3 pl REMOVE:294\n;\t"" n px3sp loc\n;\t\t"" cop aor p3 sg REMOVE:294\n"<>"\n\t"*"\n"<>"\n\t"" n px3sp gen\n"<(>"\n\t"(" lpar\n"<>"\n\t"*"\n"<)>"\n\t")" rpar\n"<>"\n\t"" n px3sp nom\n;\t"" n px3sp nom\n;\t\t"" cop aor p3 pl REMOVE:294\n;\t"" n px3sp nom\n;\t\t"" cop aor p3 sg REMOVE:294\n"<>"\n\t"" adj SELECT:1118\n\t"" adj subst nom SELECT:1118\n\t\t"" cop aor p3 sg\n\t"" adj subst nom SELECT:1118\n\t"" adj SELECT:1118\n\t\t"" cop aor p3 sg\n;\t"" n attr REMOVE:567\n;\t"" adj\n;\t\t"" cop aor p3 pl REMOVE:853\n;\t"" n nom\n;\t\t"" cop aor p3 pl REMOVE:853\n;\t"" adj subst nom\n;\t\t"" cop aor p3 pl REMOVE:853\n;\t"" n nom SELECT:1118\n;\t"" det qnt SELECT:1118\n;\t"" v iv imp p2 sg SELECT:1118\n;\t"" n nom SELECT:1118\n;\t\t"" cop aor p3 sg\n"<>"\n\t"" v tv gpr_past SELECT:813\n\t"" v tv gpr_past subst nom SELECT:813\n;\t"" v tv ger_past nom SELECT:813\n;\t"" v tv past p3 pl SELECT:813\n;\t"" v tv past p3 sg SELECT:813\n"<>"\n\t"" n nom\n\t"" n attr\n;\t"" n nom\n;\t\t"" cop aor p3 pl REMOVE:294\n;\t"" n nom\n;\t\t"" cop aor p3 sg REMOVE:294\n"<>"\n\t"" adj\n\t"" n nom\n\t"" adj\n\t\t"" cop aor p3 sg\n\t"" adj subst nom\n\t\t"" cop aor p3 sg\n\t"" adj subst nom\n\t"" v iv imp p2 sg\n\t"" n nom\n\t\t"" cop aor p3 sg\n;\t"" det qnt REMOVE:551\n;\t"" n attr REMOVE:567\n;\t"" adj subst nom\n;\t\t"" cop aor p3 pl REMOVE:853\n;\t"" adj\n;\t\t"" cop aor p3 pl REMOVE:853\n;\t"" n nom\n;\t\t"" cop aor p3 pl REMOVE:853\n"<.>"\n\t"." sent'}},{}],400:[function(require,module,exports){module.exports={turkic:'# sent_id = mst-0008\n# text = Ercan Tezer, i pazarda bu yl seksen bin otomobil ve toplam yuzotuz bin ara satlmasnn beklendiini kaydederek, " onalti yl geriden gidiyoruz " dedi.\n1\tErcan\tErcan\tPROPN\tProp\tCase=Nom|Number=Sing|Person=3\t26\tnsubj\t_\t_\n2\tTezer\tTezer\tPROPN\tProp\tCase=Nom|Number=Sing|Person=3\t1\tflat\t_\tSpaceAfter=No\n3\t,\t,\tPUNCT\tPunc\t_\t26\tpunct\t_\t_\n4\ti\ti\tADJ\tAdj\t_\t16\tamod\t_\t_\n5\tpazarda\tpazar\tNOUN\tNoun\tCase=Loc|Number=Sing|Person=3\t4\tcompound\t_\t_\n6\tbu\tbu\tDET\tDet\t_\t7\tdet\t_\t_\n7\tyl\tyl\tNOUN\tNoun\tCase=Nom|Number=Sing|Person=3\t16\tobl\t_\t_\n8\tseksen\tseksen\tNUM\tANum\tNumType=Card\t10\tnummod\t_\t_\n9\tbin\tbin\tNUM\tANum\tNumType=Card\t8\tflat\t_\t_\n10\totomobil\totomobil\tNOUN\tNoun\tCase=Nom|Number=Sing|Person=3\t16\tnsubj\t_\t_\n11\tve\tve\tCCONJ\tConj\t_\t15\tcc\t_\t_\n12\ttoplam\ttoplam\tNOUN\tNoun\tCase=Nom|Number=Sing|Person=3\t13\tobl\t_\t_\n13\tyuzotuz\tyuzotuz\tNUM\tANum\tNumType=Card\t15\tnummod\t_\t_\n14\tbin\tbin\tNUM\tANum\tNumType=Card\t13\tflat\t_\t_\n15\tara\tara\tNOUN\tNoun\tCase=Nom|Number=Sing|Person=3\t10\tconj\t_\t_\n16\tsatlmasnn\tsat\tVERB\tVerb\tAspect=Perf|Case=Gen|Mood=Ind|Number[psor]=Sing|Person[psor]=3|Polarity=Pos|Tense=Pres|VerbForm=Vnoun|Voice=Pass\t17\tnmod:poss\t_\t_\n17\tbeklendiini\tbekle\tVERB\tVerb\tAspect=Perf|Case=Acc|Mood=Ind|Number[psor]=Sing|Person[psor]=3|Polarity=Pos|Tense=Past|VerbForm=Part|Voice=Pass\t18\tobj\t_\t_\n18\tkaydederek\tkaydet\tVERB\tVerb\tAspect=Perf|Mood=Ind|Polarity=Pos|Tense=Pres|VerbForm=Conv\t26\tnmod\t_\tSpaceAfter=No\n19\t,\t,\tPUNCT\tPunc\t_\t18\tpunct\t_\t_\n20\t"\t"\tPUNCT\tPunc\t_\t24\tpunct\t_\t_\n21\tonalti\tonalti\tNUM\tANum\tNumType=Card\t22\tnummod\t_\t_\n22\tyl\tyl\tNOUN\tNoun\tCase=Nom|Number=Sing|Person=3\t23\tnmod\t_\t_\n23\tgeriden\tgeri\tADJ\tNAdj\tCase=Abl|Number=Sing|Person=3\t24\tamod\t_\t_\n24\tgidiyoruz\tgit\tVERB\tVerb\tAspect=Prog|Mood=Ind|Number=Plur|Person=1|Polarity=Pos|Polite=Infm|Tense=Pres\t26\tobj\t_\t_\n25\t"\t"\tPUNCT\tPunc\t_\t24\tpunct\t_\t_\n26\tdedi\tde\tVERB\tVerb\tAspect=Perf|Mood=Ind|Number=Sing|Person=3|Polarity=Pos|Tense=Past\t0\troot\t_\tSpaceAfter=No\n27\t.\t.\tPUNCT\tPunc\t_\t26\tpunct\t_\t_',labels_1:'# text = "This is a simple sentence."\n# labels = label1 another_label a-third-label\n1\tThis\tThis\t_\t_\t_\t_\t_\t_\t_\n2\tis\tis\t_\t_\t_\t_\t_\t_\t_\n3\ta\ta\t_\t_\t_\t_\t_\t_\t_\n4\tsimple\tsimple\t_\t_\t_\t_\t_\t_\t_\n5\tsentence\tsentence\t_\t_\t_\t_\t_\t_\t_\n6\t.\t.\tPUNCT\tPUNCT\t_\t_\t_\t_\t_',labels_2:"# labels = one_label second third-label\n# labels = row_2 again:here this, that\n1\tThis\tThis\t_\t_\t_\t_\t_\t_\t_",labels_3:"# tags = this-is-a-tag test testing test\n1\tThis\tThis\t_\t_\t_\t_\t_\t_\t_",labels_4:"# labels = new label1 one_label this-is-a-tag\n1\tHullo\thello\t_\t_\t_\t_\t_\t_\t_",nested_2:"# text = ab cde f h\n1-2\tab\t_\t_\t_\t_\t_\t_\t_\t_\n1\ta\tA\t_\t_\t_\t_\t_\t_\t_\n2\tb\tB\t_\t_\t_\t_\t_\t_\t_\n3-5\tcde\t_\t_\t_\t_\t_\t_\t_\t_\n3\tc\tC\t_\t_\t_\t_\t_\t_\t_\n4\td\tD\t_\t_\t_\t_\t_\t_\t_\n5\te\tE\t_\t_\t_\t_\t_\t_\t_\n6\tf\tF\t_\t_\t_\t_\t_\t_\t_\n6.1\tsilent_g\tG\t_\t_\t_\t_\t_\t_\t_\n7\th\tH\t_\t_\t_\t_\t_\t_\t_",t:"# testing :)\n1-3\tHe\t_\t_\t_\t_\t_\t_\t_\t_\n1\tboued\tboued\tn\t_\tm|sg\t4\tobj\t_\t_\n2\te\te\tvpart\t_\tobj\t4\taux\t_\t_\n3\ttebr\tdebri\tvblex\t_\tpri|p3|sg\t0\troot\t_\t_\n4\tdoob\tdoobie\tnp\t_\t_\t3\t_\t_\t_\n5\tMona\tMona\tnp\t_\tant|f|sg\t4\tnsubj\t_\t_",empty:"1      Sue       Sue       _       _       _       _       _       _       _\n2      likes     like       _       _       _       _       _       _       _\n3      coffee    coffee       _       _       _       _       _       _       _\n4      and       and       _       _       _       _       _       _       _\n5      Bill      Bill       _       _       _       _       _       _       _\n5.1    likes     like       _       _       _       _       _       _       _\n6      tea       tea       _       _       _       _       _       _       _",0:"# sent_id = _\n# text = this is a test\n1\tthis\t_\t_\t_\t_\t_\t_\t_\t_\n2\tis\t_\t_\t_\t_\t_\t_\t_\t_\n3\ta\t_\t_\t_\t_\t_\t_\t_\t_\n4\ttest\t_\t_\t_\t_\t_\t_\t_\t_",1:"1\tthis\t_\t_\t_\t_\t_\t_\t_\t_\n2\tis\t_\t_\t_\t_\t_\t_\t_\t_\n3\ta\t_\t_\t_\t_\t_\t_\t_\t_\n4\ttest\t_\t_\t_\t_\t_\t_\t_\t_",cat_ancora:"# url = https://raw.githubusercontent.com/UniversalDependencies/UD_Catalan-AnCora/dev/ca_ancora-ud-test.conllu\n# sent_id = test-s1\n# text = El darrer nmero de l'Observatori del Mercat de Treball d'Osona inclou un informe especial sobre la contractaci a travs de les empreses de treball temporal, les ETT.\n# orig_file_sentence 001#1\n1\tEl\tel\tDET\tDET\tDefinite=Def|Gender=Masc|Number=Sing|PronType=Art\t3\tdet\t_\t_\n2\tdarrer\tdarrer\tADJ\tADJ\tGender=Masc|Number=Sing|NumType=Ord\t3\tamod\t_\t_\n3\tnmero\tnmero\tNOUN\tNOUN\tGender=Masc|Number=Sing\t13\tnsubj\t_\t_\n4\tde\tde\tADP\tADP\tAdpType=Prep\t6\tcase\t_\t_\n5\tl'\tel\tDET\tDET\tDefinite=Def|Number=Sing|PronType=Art\t6\tdet\t_\tSpaceAfter=No\n6\tObservatori\tObservatori\tPROPN\tPROPN\t_\t3\tnmod\t_\tMWE=Observatori_del_Mercat_de_Treball_d'_Osona|MWEPOS=PROPN\n7\tdel\tdel\tADP\tADP\tAdpType=Preppron|Gender=Masc|Number=Sing\t8\tcase\t_\t_\n8\tMercat\tMercat\tPROPN\tPROPN\t_\t6\tflat\t_\t_\n9\tde\tde\tADP\tADP\tAdpType=Prep\t10\tcase\t_\t_\n10\tTreball\tTreball\tPROPN\tPROPN\t_\t6\tflat\t_\t_\n11\td'\td'\tADP\tADP\tAdpType=Prep\t12\tcase\t_\tSpaceAfter=No\n12\tOsona\tOsona\tPROPN\tPROPN\t_\t6\tflat\t_\t_\n13\tinclou\tincloure\tVERB\tVERB\tMood=Ind|Number=Sing|Person=3|Tense=Pres|VerbForm=Fin\t0\troot\t_\t_\n14\tun\tun\tNUM\tNUM\tGender=Masc|Number=Sing|NumType=Card\t15\tnummod\t_\t_\n15\tinforme\tinforme\tNOUN\tNOUN\tGender=Masc|Number=Sing\t13\tobj\t_\t_\n16\tespecial\tespecial\tADJ\tADJ\tNumber=Sing\t15\tamod\t_\t_\n17\tsobre\tsobre\tADP\tADP\tAdpType=Prep\t19\tcase\t_\t_\n18\tla\tel\tDET\tDET\tDefinite=Def|Gender=Fem|Number=Sing|PronType=Art\t19\tdet\t_\t_\n19\tcontractaci\tcontractaci\tNOUN\tNOUN\tGender=Fem|Number=Sing\t15\tnmod\t_\t_\n20\ta\ta\tADP\tADP\tAdpType=Prep\t24\tcase\t_\tMWE=a_travs_de|MWEPOS=ADP\n21\ttravs\ttravs\tNOUN\tNOUN\t_\t20\tfixed\t_\t_\n22\tde\tde\tADP\tADP\tAdpType=Prep\t20\tfixed\t_\t_\n23\tles\tel\tDET\tDET\tDefinite=Def|Gender=Fem|Number=Plur|PronType=Art\t24\tdet\t_\t_\n24\tempreses\tempresa\tNOUN\tNOUN\tGender=Fem|Number=Plur\t19\tnmod\t_\t_\n25\tde\tde\tADP\tADP\tAdpType=Prep\t26\tcase\t_\t_\n26\ttreball\ttreball\tNOUN\tNOUN\tGender=Masc|Number=Sing\t24\tnmod\t_\t_\n27\ttemporal\ttemporal\tADJ\tADJ\tNumber=Sing\t26\tamod\t_\tSpaceAfter=No\n28\t,\t,\tPUNCT\tPUNCT\tPunctType=Comm\t30\tpunct\t_\t_\n29\tles\tel\tDET\tDET\tDefinite=Def|Gender=Fem|Number=Plur|PronType=Art\t30\tdet\t_\t_\n30\tETT\tETT\tPROPN\tPROPN\t_\t24\tappos\t_\tSpaceAfter=No\n31\t.\t.\tPUNCT\tPUNCT\tPunctType=Peri\t13\tpunct\t_\t_",with_tabs:"# sent_id = chapID01:paragID1:sentID1\n# text =     .\n# text[eng] = Kechai was awoken by annoying flies.\n1\t\t\tN\tN\tSem/Ant_Mal|Prop|SP|Gen|Indef\t2\tobj\t_\t\n2\t\t\tV\tV\tTV|Ind|Prt1|ScPl3|OcSg3\t0\troot\t_\t\n3\t\t\tPRC\tPrc\tV|TV|PrcPrsL|Sg|Nom|Indef\t4\tamod\t_\t\n4\t\t\tN\tN\tSem/Ani|N|Pl|Nom|Indef\t2\tnsubj\t_\t\n5\t.\t.\tCLB\tCLB\tCLB\t2\tpunct\t_\t.",without_tabs:"# sent_id = chapID01:paragID1:sentID1\n# text =     .\n# text[eng] = Kechai was awoken by annoying flies.\n1   N N Sem/Ant_Mal|Prop|SP|Gen|Indef 2 obj _ \n2   V V TV|Ind|Prt1|ScPl3|OcSg3 0 root _ \n3   PRC Prc V|TV|PrcPrsL|Sg|Nom|Indef 4 amod _ \n4   N N Sem/Ani|N|Pl|Nom|Indef 2 nsubj _ \n5 . . CLB CLB CLB 2 punct _ .",from_cg3_with_semicolumn:"1\tSiedzielimy\tsiedzie\tvblex\t_\timpf|past|p1|m|pl\t_\t_\t_\t_\n2\tw\tw\tpr\t_\t_\t_\t_\t_\t_\n3\tmoim\tmj\tprn\t_\tpos|mi|sg|loc\t_\t_\t_\t_\n4\tpokoju\tpokj\tn\t_\tmi|sg|loc\t_\t_\t_\t_\n5\t,\t,\tcm\t_\t_\t_\t_\t_\t_\n6\tpalc\tpali\tvblex\t_\timpf|pprs|adv\t_\t_\t_\t_\n7\ti\ti\tcnjcoo\t_\t_\t_\t_\t_\t_\n8\trozmawiajc\trozmawia\tvblex\t_\timpf|pprs|adv\t_\t_\t_\t_\n9\to\to\tpr\t_\t_\t_\t_\t_\t_\n10\ttem\tto\tprn\t_\tdem|mi|sg|loc\t_\t_\t_\t_\n11\t,\t,\tcm\t_\t_\t_\t_\t_\t_\n12\tjak\tjak\trel\t_\tadv\t_\t_\t_\t_\n13\tmarni\tmarny\tadj\t_\tsint|mp|pl|nom\t_\t_\t_\t_\n14\tjestemy\tby\tvbser\t_\tpres|p1|pl\t_\t_\t_\t_\n15\t,\t,\tcm\t_\t_\t_\t_\t_\t_\n16\tmarni\tmarny\tadj\t_\tsint|mp|pl|nom\t_\t_\t_\t_\n17\tz\tz\tpr\t_\t_\t_\t_\t_\t_\n18\tlekarskiego\tlekarski\tadj\t_\tmi|sg|gen\t_\t_\t_\t_\n19\tpunktu\tpunkt\tn\t_\tmi|sg|gen\t_\t_\t_\t_\n20\twidzenia\twidzie\tvblex\t_\timpf|ger|nt|sg|gen\t_\t_\t_\t_\n21\tchc\tchcie\tvblex\t_\timpf|pres|p1|sg\t_\t_\t_\t_\n22\tpowiedzie\tpowiedzie\tvblex\t_\tperf|inf\t_\t_\t_\t_\n23\t,\t,\tcm\t_\t_\t_\t_\t_\t_\n24\tnaturalnie\tnaturalnie\tadv\t_\tsint\t_\t_\t_\t_\n25\t.\t.\tsent\t_\t_\t_\t_\t_\t_",from_cg3_simple:"1\t\t\tn\t_\tins\t3\tnmod\t_\t_\n2\t\t\tn\t_\tnom\t3\tobj\t_\t_\n3\t\t\tv\t_\ttv|ger_past|loc\t12\tadvcl\t_\t_\n4\t,\t,\tcm\t_\t_\t12\tpunct\t_\t_\n5\t-\t-\tn\t_\tnom\t7\tconj\t_\t_\n6\t,\t,\tcm\t_\t_\t7\tpunct\t_\t_\n7\t\t\tn\t_\tpx1sg|acc\t8\tobj\t_\t_\n8\t\t\tv\t_\ttv|ger|dat\t12\tadvcl\t_\t_\n9\t,\t,\tcm\t_\t_\t12\tpunct\t_\t_\n10\t\t\tprn\t_\tpers|p1|pl|nom\t12\tnsubj\t_\t_\n11\t\t\tn\t_\tdat\t12\tnmod\t_\t_\n12\t\t\tv\t_\tiv|ifi|p1|pl\t0\troot\t_\t_\n13\t.\t.\tsent\t_\t_\t12\tpunct\t_\t_\n",from_cg3_with_spans:"# text = He boued e tebr Mona er gegin.\n# text[eng] = Mona eats her food here in the kitchen.\n# labels = press_1986 ch_syntax p_197 to_check\n1\tHe\the\tdet\t_\tpos|f|sp\t2\tdet\t_\t_\n2\tboued\tboued\tn\t_\tm|sg\t4\tobj\t_\t_\n3\te\te\tvpart\t_\tobj\t4\taux\t_\t_\n4\ttebr\tdebri\tvblex\t_\tpri|p3|sg\t0\troot\t_\t_\n5\tMona\tMona\tnp\t_\tant|f|sg\t4\tnsubj\t_\t_\n6-7\ter\t_\t_\t_\t_\t_\t_\t_\t_\n6\t_\te\tpr\t_\t_\t8\tcase\t_\t_\n7\t_\tan\tdet\t_\tdef|sp\t8\tdet\t_\t_\n8\tgegin\tkegin\tn\t_\tf|sg\t4\tobl\t_\t_\n9\t.\t.\tsent\t_\t_\t4\tpunct\t_\t_\n",rueter_long:"# sent_id = BryzhinskijMixail_Kirdazht_manu:3859\n# text =    ,         ,   ,              ,     ;             ,    .\n# text_en = But by the time he got down the hill, opened and closed the village gate, the lane gate, the cluster gate and the one to their own home (something everyone coming or going had to do, so the gates would always be closed; they were only opened in the morning and at dusk for taking out and letting in the cattle), the wicker of clay had grown heavy again.\n# text_fi = Kun Ketai tuli melt alas, avasi ja sulki huolellisesti kylverjns, ??aukio/kenttverjn, kujaverjn ja oman kotiverjn, savikontti ehti taas alkaa painaa hnen selkns. (Kaikkien kvijiden tulee tehd nin, jotta verjt olisivat aina kiinni, verjthn pidetn selkosen sellln vain aamulla ja illansuussa, kun karjaa ajetaan laitumelle tai kotiin.)\n1   CCONJ CC _ 3 cc _ _\n2   ADV Adv|Der/Ill|Adv|Sem/Time Derivation=Ill|AdvType=Tim 3 mark _ _\n3   VERB V|Ind|Prt1|ScSg3 Mood=Ind|Number[subj]=Sing|Person[subj]=3|Tense=Prt1 51 advcl _ SpaceAfter=No\n4 , , PUNCT CLB _ 6 punct _ _\n5   ADV Adv|Der/Ill|Adv|Sem/Time Derivation=Ill|AdvType=Tim 6 mark _ _\n6   VERB V|Ind|Prt1|ScSg3 Mood=Ind|Number[subj]=Sing|Person[subj]=3|Tense=Prt1 3 conj _ _\n7   CCONJ CC _ 10 cc _ _\n8   ADV Adv|Lat|Sg|Nom|Indef Case=Lat|Case=Nom|Definite=Ind|Number=Sing 10 advmod _ _\n9   ADV Adv|Manner AdvType=Man 10 advmod _ _\n10   VERB V|Ind|Prt1|ScSg3 Mood=Ind|Number[subj]=Sing|Person[subj]=3|Tense=Prt1 3 conj _ _\n11   NOUN N|Sem/Inanim_Cnt|Sg|Nom|Indef Case=Nom|Definite=Ind|Number=Sing 10 obj _ _\n12   NOUN N|Sem/Inanim_Cnt|Sg|Gen|Def Case=Gen|Definite=Def|Number=Sing 11 goeswith _ SpaceAfter=No\n13 , , PUNCT CLB _ 15 punct _ _\n14   NOUN N|Sem/Inanim_Cnt|Sg|Nom|Indef Case=Nom|Definite=Ind|Number=Sing 12 conj _ _\n15   NOUN N|Sem/Inanim_Cnt|Sg|Gen|Def Case=Gen|Definite=Def|Number=Sing 14 goeswith _ SpaceAfter=No\n16 , , PUNCT CLB _ 18 punct _ _\n17   NOUN N|Sem/Inanim_Cnt|Sg|Nom|Indef Case=Nom|Definite=Ind|Number=Sing 12 conj _ _\n18   NOUN N|Sem/Inanim_Cnt|Sg|Gen|Def Case=Gen|Definite=Def|Number=Sing 17 goeswith _ _\n19   CCONJ CC _ 23 cc _ _\n20   PRON Pron|Refl|Pl3|Gen|Variant=Short Case=Gen|Number=Plur|Person=3|PronType=Refl|Variant=Short 22 nmod _ _\n21   NOUN N|Sem/Inanim_Cnt|SP|Ill|Indef Case=Ill|Definite=Ind|Number=Plur,Sing 20 case _ _\n22   NOUN N|IV|Sg|Nom|Indef Case=Nom|Definite=Ind|Number=Sing|Valency=1 23 compound _ _\n23   NOUN N|Sem/Inanim_Cnt|Sg|Gen|Def Case=Gen|Definite=Def|Number=Sing 12 conj _ _\n24 ( ( PUNCT PUNCT _ 29 punct _ SpaceAfter=No\n25   DET Det|Sg|Nom|Indef Case=Nom|Definite=Ind|Number=Sing 26 det _ _\n26 - - NOUN N|V|NomAg|Sg|Dat|Def Case=Dat|Definite=Def|Derivation=NomAg|Number=Sing 29 obl _ _\n27   PRON Pron|Dem|Sg|Nom|Indef Case=Nom|Definite=Ind|Number=Sing|PronType=Dem 29 nsubj _ _\n28   ADV Adv|Tot|Sem/Time_dur PronType=Tot|PronType=Tot 29 advmod _ _\n29  c VERB V|TV|Oblig|Clitic=Cop|Prs|ScSg3 Valency=2|VerbForm=Oblig|Clitic=Cop|Number[subj]=Sing|Person[subj]=3|Tense=Pres 3 parataxis _ SpaceAfter=No\n30 , , PUNCT CLB _ 33 punct _ _\n31   NOUN N|Sem/Inanim_Cnt|Pl|Nom|Def Case=Nom|Definite=Def|Number=Plur 34 nsubj _ _\n32   ADV Adv|Tot|Sem/Time_dur PronType=Tot|PronType=Tot 33 advmod _ _\n33   VERB V|Der/|Ger Derivation=Ozj|VerbForm=Conv 29 ccomp _ _\n34   AUX V|IV|Opt|ScPl3 Mood=Opt|Number[subj]=Plur|Person[subj]=3|Valency=1 33 cop _ SpaceAfter=No\n35 ; ; PUNCT CLB _ 29 punct _ _\n36   VERB V|Ind|Prs|ScPl3|Obj3 Mood=Ind|Number[subj]=Plur|Person[subj]=3|Tense=Pres|Obj3 29 conj _ _\n37   ADV Adv Adv 36 advmod _ _\n38   ADV Adv Adv 39 advmod _ _\n39   NOUN N|Sg|Nom|Indef Case=Nom|Definite=Ind|Number=Sing 36 obl _ _\n40   ADP Adp|Po AdpType=Post 39 case _ _\n41   CCONJ CC _ 42 cc _ _\n42   ADV Adv|Lat Case=Lat 39 conj _ _\n43   PUNCT CLB _ 46 punct _ _\n44   NOUN N|Sem/Anim_Cnt|SP|Gen|Indef Case=Gen|Definite=Ind|Number=Plur,Sing 45 nmod:gobj _ _\n45 - - NOUN N|Sg|Nom|Indef Case=Nom|Definite=Ind|Number=Sing 36 nmod _ _\n46   NOUN N|Sem/Time|SP|Temp|Indef Case=Temp|Definite=Ind|Number=Plur,Sing 39 conj _ SpaceAfter=No\n47 ) ) PUNCT PUNCT _ 29 punct _ SpaceAfter=No\n48 , , PUNCT CLB _ 29 punct _ _\n49   NOUN N|Sem/Inanim_Cnt|Sg|Nom|Def Case=Nom|Definite=Def|Number=Sing 51 nsubj _ _\n50   ADV Adv|Sem/Time AdvType=Tim 51 advmod _ _\n51   VERB V|Ind|Prt1|ScSg3 Mood=Ind|Number[subj]=Sing|Person[subj]=3|Tense=Prt1 0 root _ SpaceAfter=No\n52 . . PUNCT CLB _ 51 punct _ _",katya_aplonova_large_arrows:"# sent_id = html/meyer_gorog-contes_bambara_10amadu_tara.dis.html:16\n# text = ko ni i sera ka jiri nin bulu sr ka na ni a ye, ko ckrba b se ka furak o la.\n1\tko\tk\tPART\tcop\t_\t4\tdiscourse\t_\tGloss=QUOT\n2\tni\tn\tSCONJ\tconj\t_\t4\tmark\t_\tGloss=si\n3\ti\t\tPRON\tpers\tPronType=Prs\t4\tnsubj\t_\tGloss=2.SG\n4\tsera\tsera\tVERB\tv\tAspect=Perf|Valency=1|Polarity=Pos\t19\tadvcl\t_\tGloss=arriver|Morf=arriver,PFV.INTR\n5\tka\tk\tAUX\tpm\t_\t9\taux\t_\tGloss=INF\n6\tjiri\tjri\tNOUN\tn\t_\t8\tnmod:poss\t_\tGloss=arbre\n7\tnin\tnn\tDET\tprn/dtm\tPronType=Dem|Definite-Def\t6\tdet\t_\tGloss=DEM\n8\tbulu\tblu\tNOUN\tn\t_\t9\tobj\t_\tGloss=feuille\n9\tsr\tsr\tVERB\tv\t_\t4\txcomp\t_\tGloss=obtenir\n10\tka\tk\tAUX\tpm\t_\t11\taux\t_\tGloss=INF\n11\tna\tn\tVERB\tv\t_\t9\txcomp\t_\tGloss=venir\n12\tni\tn\tADP\tconj/prep\t_\t13\tcase\t_\tGloss=et\n13\ta\t\tPRON\tpers\tPronType=Prs|Number=Sing|Person=3\t11\tobl\t_\tGloss=3SG\n14\tye\ty\tADP\tpp\t_\t13\tcase\t_\tGloss=PP\n15\t,\t,\tPUNCT\t_\t_\t4\tpunct\t_\tGloss=,\n16\tko\tk\tPART\tcop\t_\t19\tdiscourse\t_\tGloss=QUOT\n17\tckrba\tc.kr.ba\tNOUN\tn\t_\t19\tnsubj\t_\tGloss=vieillard|Morf=vieillard,mle,vieux,AUGM\n18\tb\tb\tAUX\tpm\tPolarity=Pos|Aspect=Imp\t19\taux\t_\tGloss=IPFV.AFF\n19\tse\ts\tVERB\tv\t_\t0\troot\t_\tGloss=arriver\n20\tka\tk\tAUX\tpm\t_\t21\taux\t_\tGloss=INF\n21\tfurak\tfra.k\tVERB\tv\t_\t19\txcomp\t_\tGloss=soigner|Morf=soigner,feuille,faire\n22\to\t\tPRON\tprn\t_\t21\tobl\t_\tGloss=ce\n23\tla\tl\tADP\tpp\t_\t22\tcase\t_\tGloss=dans\n24\t.\t.\tPUNCT\t_\t_\t19\tpunct\t_\tGloss=.\n",katya_aplonova_long:"# sent_id = html/meyer_gorog-contes_bambara_10amadu_tara.dis.html:19\n# text = ko u ye mg nyini a ye, min b a furak sisan ko c ye furakli cogoya b f, ko fura nin sr ka gln ko epi ko ni o ye a sr u ye ale den de ye, ni min b sa de furanyini f a ka sa nin min b balo o ka balo ko u knnt b ka taga fura nin nyini, ko u knnt b ka taga ko nin min seginna ka a sr fura ma na, ko a b o den nin haramuya ka o gn, ka a b a ba fana gn ko u ka a fil u yr ni min ma sn fana ko a b o gn, o ni a ba b.\n# label = too_long_to_cut\n1\tko\tk\tPART\tcop\t_\t5\tdiscourse\t_\tGloss=QUOT\n2\tu\t\tPRON\tpers\tPronType=Prs|Number=Plur|Person=3\t5\tnsubj\t_\tGloss=3PL\n3\tye\ty\tAUX\tpm\tAspect=Perf|Valency=2|Polarity=Pos\t5\taux\t_\tGloss=PFV.TR\n4\tmg\tmg\tNOUN\tn\t_\t5\tobj\t_\tGloss=homme\n5\tnyini\tni\tVERB\tv\t_\t0\troot\t_\tGloss=chercher\n6\ta\t\tPRON\tpers\tPronType=Prs|Number=Sing|Person=3\t5\tobl\t_\tGloss=3SG\n7\tye\ty\tADP\tpp\t_\t6\tcase\t_\tGloss=PP\n8\t,\t,\tPUNCT\t_\t_\t5\tpunct\t_\tGloss=,\n9\tmin\tmn\tPRON\tprn\tPronType=Rel\t_\t_\t_\tGloss=REL\n10\tb\tb\tAUX\tpm\tPolarity=Pos|Aspect=Imp\t_\t_\t_\tGloss=IPFV.AFF\n11\ta\t\tPRON\tpers\tPronType=Prs|Number=Sing|Person=3\t_\t_\t_\tGloss=3SG\n12\tfurak\tfra.k\tVERB\tv\t_\t_\t_\t_\tGloss=soigner|Morf=soigner,feuille,faire\n13\tsisan\tssan\tADV\tadv/n\t_\t_\t_\t_\tGloss=maintenant\n14\tko\tk\tPART\tcop\t_\t_\t_\t_\tGloss=QUOT\n15\tc\tc\tNOUN\tn\t_\t_\t_\t_\tGloss=mle\n16\tye\tye\tAUX\tpm\tAspect=Perf|Valency=2|Polarity=Pos\t_\t_\t_\tGloss=PFV.TR\n17\tfurakli\tfrakli\tNOUN\tn\tVerbalForm=Vnoun\t_\t_\t_\tGloss=traitement|Morf=traitement,feuille,faire,NMLZ\n18\tcogoya\tcgoya\tNOUN\tn\t_\t_\t_\t_\tGloss=manire|Morf=manire,manire,ABSTR\n19\tb\tb\tDET\tdtm\t_\t_\t_\t_\tGloss=tout\n20\tf\tf\tVERB\tv\t_\t_\t_\t_\tGloss=dire\n21\t,\t,\tPUNCT\t_\t_\t_\t_\t_\tGloss=,\n22\tko\tk\tPART\tcop\t_\t27\tdiscourse\t_\tGloss=QUOT\n23\tfura\tfra\tNOUN\tn\t_\t25\tnmod:poss\t_\tGloss=feuille\n24\tnin\tnn\tDET\tdtm\tPronType=Dem|Definite-Def\t23\tdet\t_\tGloss=DEM\n25\tsr\tsr\tNOUN\tv\t_\t27\tnsubj\t_\tGloss=obtenir\n26\tka\tka\tAUX\tpm\tPolarity=Pos\t27\taux\t_\tGloss=QUAL.AFF\n27\tgln\tgln\tVERB\tvq\t_\t_\t_\t_\tGloss=dur\n28\tko\tk\tPART\tcop\t_\t29\tdiscourse\t_\tGloss=QUOT\n29\tepi\tepi\tCCONJ\tconj\t_\t27\tcc\t_\tGloss=ETRG.FRA\n30\tko\tk\tVERB\tcop\t_\t37\tdiscourse\t_\tGloss=QUOT\n31\tni\tn\tSCONJ\tconj\t_\t35\tmark\t_\tGloss=si\n32\to\t\tPRON\tprn\t_\t35\tnsubj\t_\tGloss=ce\n33\tye\tye\tAUX\tpm\tAspect=Perf|Valency=2|Polarity=Pos\t35\taux\t_\tGloss=PFV.TR\n34\ta\t\tPRON\tpers\tPronType=Prs|Number=Sing|Person=3\t35\tobj\t_\tGloss=3SG\n35\tsr\tsr\tVERB\tv\t_\t37\tadvcl\t_\tGloss=obtenir\n36\tu\t\tPRON\tpers\tPronType=Prs|Number=Plur|Person=3\t37\tnsubj\t_\tGloss=3PL\n37\tye\ty\tVERB\tcop\tPolarity=Pos\t27\tparataxis\t_\tGloss=EQU\n38\tale\tl\tPRON\tpers\tPronType=Prs|Number=Sing|Person=3|PronType=Emp\t39\tnmod:poss\t_\tGloss=3SG.EMPH\n39\tden\tdn\tNOUN\tn\t_\t37\tobl\t_\tGloss=enfant\n40\tde\td\tPART\tprt\t_\t39\tdiscourse\t_\tGloss=FOC\n41\tye\ty\tADP\tpp\t_\t39\tcase\t_\tGloss=PP\n42\t,\t,\tPUNCT\t_\t_\t37\tpunct\t_\tGloss=,\n43\tni\tn\tSCONJ\tconj\t_\t46\tmark\t_\tGloss=si\n44\tmin\tmn\tPRON\tprn\tPronType=Rel\t46\t_\t_\tGloss=REL\n45\tb\tb\tAUX\tpm\tPolarity=Pos|Aspect=Imp\t46\t_\t_\tGloss=IPFV.AFF\n46\tsa\ts\tVERB\tv\t_\t52\t_\t_\tGloss=mourir\n47\tde\td\tPART\tprt\t_\t46\t_\t_\tGloss=FOC\n48\tfuranyini\tfuraini\tNOUN\tn\t_\t46\t_\t_\tGloss=feuille|Morf=feuille,chercher\n49\tf\tf\tADP\tpp\t_\t48\t_\t_\tGloss=par\n50\ta\t\tPRON\tpers\tPronType=Prs|Number=Sing|Person=3\t52\t_\t_\tGloss=3SG\n51\tka\tka\tAUX\tpm\tMood=Subj|Polarity=Aff\t52\t_\t_\tGloss=SBJV\n52\tsa\ts\tVERB\tv\t_\t37\t_\t_\tGloss=mourir\n53\tnin\tn\tSCONJ\tconj\t_\t56\tmark\t_\tGloss=quand\n54\tmin\tmn\tPRON\tprn\tPronType=Rel\t56\t_\t_\tGloss=REL\n55\tb\tb\tAUX\tpm\tPolarity=Pos|Aspect=Imp\t56\t_\t_\tGloss=IPFV.AFF\n56\tbalo\tblo\tVERB\tv\t_\t59\t_\t_\tGloss=vivre\n57\to\t\tPRON\tprn\t_\t59\t_\t_\tGloss=ce\n58\tka\tka\tAUX\tpm\tMood=Subj|Polarity=Aff\t59\t_\t_\tGloss=SBJV\n59\tbalo\tblo\tVERB\tv\t_\t52\t_\t_\tGloss=vivre\n60\tko\tk\tPART\tcop\t_\t_\t_\t_\tGloss=QUOT\n61\tu\t\tPRON\tpers\tPronType=Prs|Number=Plur|Person=3\t_\t_\t_\tGloss=3PL\n62\tknnt\tknntn\tNUM\tnum\t_\t_\t_\t_\tGloss=neuf\n63\tb\tb\tDET\tdtm\t_\t_\t_\t_\tGloss=tout\n64\tka\tka\tAUX\tpm\tMood=Subj|Polarity=Aff\t_\t_\t_\tGloss=SBJV\n65\ttaga\ttga\tVERB\tv\t_\t59\t_\t_\tGloss=aller\n66\tfura\tfra\tNOUN\tn\t_\t_\t_\t_\tGloss=feuille\n67\tnin\tnn\tDET\tdtm\tPronType=Dem|Definite-Def\t_\t_\t_\tGloss=DEM\n68\tnyini\tni\tVERB\tv\t_\t_\t_\t_\tGloss=chercher\n69\t,\t,\tPUNCT\t_\t_\t_\t_\t_\tGloss=,\n70\tko\tk\tPART\tcop\t_\t_\t_\t_\tGloss=QUOT\n71\tu\t\tPRON\tpers\tPronType=Prs|Number=Plur|Person=3\t_\t_\t_\tGloss=3PL\n72\tknnt\tknntn\tNUM\tnum\t_\t_\t_\t_\tGloss=neuf\n73\tb\tb\tDET\tdtm\t_\t_\t_\t_\tGloss=tout\n74\tka\tka\tAUX\tpm\tMood=Subj|Polarity=Aff\t_\t_\t_\tGloss=SBJV\n75\ttaga\ttga\tVERB\tv\t_\t65\t_\t_\tGloss=aller\n76\tko\tk\tPART\tcop\t_\t_\t_\t_\tGloss=QUOT\n77\tnin\tn\tSCONJ\tconj\t_\t_\t_\t_\tGloss=quand\n78\tmin\tmn\tPRON\tprn\tPronType=Rel\t_\t_\t_\tGloss=REL\n79\tseginna\tseginna\tVERB\tv\tAspect=Perf|Valency=1|Polarity=Pos\t85\t_\t_\tGloss=revenir|Morf=revenir,PFV.INTR\n80\tka\tk\tAUX\tpm\t_\t_\t_\t_\tGloss=INF\n81\ta\t\tPRON\tpers\tPronType=Prs|Number=Sing|Person=3\t_\t_\t_\tGloss=3SG\n82\tsr\tsr\tVERB\tv\t_\t_\t_\t_\tGloss=obtenir\n83\tfura\tfra\tNOUN\tn\t_\t_\t_\t_\tGloss=feuille\n84\tma\tma\tAUX\tpm\tPolarity=Neg|Aspect=Perf\t_\t_\t_\tGloss=PFV.NEG\n85\tna\tn\tVERB\tv\t_\t75\t_\t_\tGloss=venir\n86\t,\t,\tPUNCT\t_\t_\t_\t_\t_\tGloss=,\n87\tko\tk\tPART\tcop\t_\t_\t_\t_\tGloss=QUOT\n88\ta\t\tPRON\tpers\tPronType=Prs|Number=Sing|Person=3\t_\t_\t_\tGloss=3SG\n89\tb\tb\tAUX\tpm\tPolarity=Pos|Aspect=Imp\t_\t_\t_\tGloss=IPFV.AFF\n90\to\t\tPRON\tprn\t_\t_\t_\t_\tGloss=ce\n91\tden\tdn\tNOUN\tn\t_\t_\t_\t_\tGloss=enfant\n92\tnin\tnn\tDET\tdtm\tPronType=Dem|Definite-Def\t_\t_\t_\tGloss=DEM\n93\tharamuya\thramuya\tVERB\tv\t_\t85\t_\t_\tGloss=interdire|Morf=interdire,interdire,ABSTR\n94\tka\tk\tAUX\tpm\t_\t_\t_\t_\tGloss=INF\n95\to\t\tPRON\tprn\t_\t_\t_\t_\tGloss=ce\n96\tgn\tgn\tVERB\tv\t_\t_\t_\t_\tGloss=chasser\n97\t,\t,\tPUNCT\t_\t_\t_\t_\t_\tGloss=,\n98\tka\tk\tAUX\tpm\t_\t_\t_\t_\tGloss=INF\n99\ta\t\tPRON\tpers\tPronType=Prs|Number=Sing|Person=3\t_\t_\t_\tGloss=3SG\n100\tb\tb\tAUX\tpm\tPolarity=Pos|Aspect=Imp\t_\t_\t_\tGloss=IPFV.AFF\n101\ta\t\tPRON\tpers\tPronType=Prs|Number=Sing|Person=3\t_\t_\t_\tGloss=3SG\n102\tba\tb\tNOUN\tn\t_\t_\t_\t_\tGloss=mre\n103\tfana\tfna\tPART\tprt\t_\t_\t_\t_\tGloss=aussi\n104\tgn\tgn\tVERB\tv\t_\t_\t_\t_\tGloss=chasser\n105\tko\tk\tPART\tcop\t_\t_\t_\t_\tGloss=QUOT\n106\tu\t\tPRON\tpers\tPronType=Prs|Number=Plur|Person=3\t_\t_\t_\tGloss=3PL\n107\tka\tka\tAUX\tpm\tMood=Subj|Polarity=Aff\t_\t_\t_\tGloss=SBJV\n108\ta\t\tPRON\tpers\tPronType=Prs|Number=Sing|Person=3\t_\t_\t_\tGloss=3SG\n109\tfil\tfl\tVERB\tv\t_\t_\t_\t_\tGloss=regarder\n110\tu\t\tPRON\tpers\tPronType=Prs|Number=Plur|Person=3\t_\t_\t_\tGloss=3PL\n111\tyr\tyr\tDET\tdtm\t_\t_\t_\t_\tGloss=mme\n112\tni\tn\tSCONJ\tconj\t_\t_\t_\t_\tGloss=si\n113\tmin\tmn\tPRON\tprn\tPronType=Rel\t_\t_\t_\tGloss=REL\n114\tma\tma\tAUX\tpm\tPolarity=Neg|Aspect=Perf\t_\t_\t_\tGloss=PFV.NEG\n115\tsn\tsn\tVERB\tv\t_\t_\t_\t_\tGloss=accepter\n116\tfana\tfna\tPART\tprt\t_\t_\t_\t_\tGloss=aussi\n117\tko\tk\tPART\tcop\t_\t_\t_\t_\tGloss=QUOT\n118\ta\t\tPRON\tpers\tPronType=Prs|Number=Sing|Person=3\t_\t_\t_\tGloss=3SG\n119\tb\tb\tAUX\tpm\tPolarity=Pos|Aspect=Imp\t_\t_\t_\tGloss=IPFV.AFF\n120\to\t\tPRON\tprn\t_\t_\t_\t_\tGloss=ce\n121\tgn\tgn\tVERB\tv\t_\t_\t_\t_\tGloss=chasser\n122\t,\t,\tPUNCT\t_\t_\t_\t_\t_\tGloss=,\n123\to\t\tPRON\tprn\t_\t_\t_\t_\tGloss=ce\n124\tni\tni\tCCONJ\tconj\t_\t_\t_\t_\tGloss=et\n125\ta\t\tPRON\tpers\tPronType=Prs|Number=Sing|Person=3\t_\t_\t_\tGloss=3SG\n126\tba\tb\tNOUN\tn\t_\t_\t_\t_\tGloss=mre\n127\tb\tb\tDET\tdtm\t_\t_\t_\t_\tGloss=tout\n128\t.\t.\tPUNCT\t_\t_\t_\t_\t_\tGloss=.",ud_example_tabs:"1\tThey\tthey\tPRON\tPRP\tCase=Nom|Number=Plur\t2\tnsubj\t2:nsubj|4:nsubj\t_\n2\tbuy\tbuy\tVERB\tVBP\tNumber=Plur|Person=3|Tense=Pres\t0\troot\t0:root\t_\n3\tand\tand\tCONJ\tCC\t_\t4\tcc\t4:cc\t_\n4\tsell\tsell\tVERB\tVBP\tNumber=Plur|Person=3|Tense=Pres\t2\tconj\t2:conj\t_\n5\tbooks\tbook\tNOUN\tNNS\tNumber=Plur\t2\tobj\t2:obj|4:obj\t_\n6\t.\t.\tPUNCT\t.\t_\t2\tpunct\t2:punct\t_",ud_example_spaces:"1    They     they    PRON    PRP    Case=Nom|Number=Plur               2    nsubj    2:nsubj|4:nsubj  _\n2    buy      buy     VERB    VBP    Number=Plur|Person=3|Tense=Pres    0    root     0:root          _\n3    and      and     CONJ    CC     _                                  4    cc       4:cc            _\n4    sell     sell    VERB    VBP    Number=Plur|Person=3|Tense=Pres    2    conj     2:conj   _\n5    books    book    NOUN    NNS    Number=Plur                        2    obj      2:obj|4:obj     _\n6    .        .       PUNCT   .      _                                  2    punct    2:punct         _",ud_example_modified:"1\tThey\tthey\tPRON\tPRP\tCase=Nom|Number=Plur\t2\tnsubj\t2:nsubj|4:nsubj\t_\n2\tbuy\tbuy\tVERB\tVBP\tNumber=Plur|Person=3|Tense=Presroot\t0\troot\t0:root\t_\n3\tand\tand\tCONJ\tCC\t_\t4\tcc\t4:cc\t_\n4\tsell\tsell\tVERB\tVBP\tNumber=Plur|Person=3|Tense=Presconj\t2\t_\t2\t_\n5\tbooks\tbook\tNOUN\tNNS\tNumber=Plur\t2\tobj\t2:obj|4:obj\t_\n6\t.\t.\tPUNCT\t.\t_\t2\tpunct\t2:punct\t_"}},{}],401:[function(require,module,exports){(function(__dirname){const path=require("path");module.exports={assorted:path.join(__dirname,"assorted.conllu"),czech_train:path.join(__dirname,"cs_cac-ud-train.conllu"),turkish_train:path.join(__dirname,"tr_imst-ud-test.conllu")}}).call(this,"/node_modules/notatrix/data/corpora")},{path:487}],402:[function(require,module,exports){module.exports={"apertium stream":require("./apertium-stream"),apertiumStream:require("./apertium-stream"),Brackets:require("./brackets"),brackets:require("./brackets"),CG3:require("./cg3"),cg3:require("./cg3"),"CoNLL-U":require("./conllu"),conllu:require("./conllu"),"notatrix serial":require("./notatrix-serial"),notatrixSerial:require("./notatrix-serial"),Params:require("./params"),params:require("./params"),"plain text":require("./plain-text"),plainText:require("./plain-text"),SD:require("./sd"),sd:require("./sd"),corpora:require("./corpora")}},{"./apertium-stream":397,"./brackets":398,"./cg3":399,"./conllu":400,"./corpora":401,"./notatrix-serial":403,"./params":404,"./plain-text":405,"./sd":406}],403:[function(require,module,exports){module.exports={}},{}],404:[function(require,module,exports){module.exports={0:[{form:"hello"},{form:"world"}]}},{}],405:[function(require,module,exports){module.exports={0:"this is a test",1:"this is a test.",2:"this is a test...",3:"this is a test?",4:"\tthis is a test",5:"More sentences = more data; ipso facto, yes.",parens_and_numbers:",    ,    12  ( 22,2 )   "}},{}],406:[function(require,module,exports){module.exports={0:"And Robert the fourth place .\ncc(Robert, And)\norphan(Robert, place)\npunct(Robert, .)\namod(place, fourth)\ndet(place, the)",1:"ROOT And Robert the fourth place .\nroot(ROOT, Robert)\ncc(Robert, And)\norphan(Robert, place)\npunct(Robert, .)\namod(place, fourth)\ndet(place, the)",2:"ROOT I love French fries .\nroot(ROOT, love)",ccomp_1:"He says that you like to swim\nccomp(says, like)\nmark(like, that)",ccomp_2:"He says you like to swim\nccomp(says, like)",ccomp_3:"The boss said to start digging\nccomp(said, start)\nmark(start, to)",ccomp_4:"We started digging\nxcomp(started, digging)",ccomp_5:"The important thing is to keep calm.\nccomp(is, keep)\nnsubj(is, thing)",ccomp_6:"The problem is that this has never been tried .\nccomp(is, tried)\nnsubj(is, problem)"}},{}],407:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("./utils"),ConverterError=utils.ConverterError,nx=require("./nx");module.exports=(input,options)=>{try{var sent=new nx.Sentence(input,options);return sent.from=format=>convert(sent.input,_.extend({interpretAs:format},options)),sent}catch(e){if(e instanceof utils.ToolError||e instanceof utils.NxError)throw new ConverterError("FATAL: unable to convert: "+e.message);throw e}}},{"./nx":469,"./utils":483,underscore:504}],408:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("./utils"),DetectorError=utils.DetectorError;let as={"apertium stream":require("./formats/apertium-stream").detect,apertiumStream:require("./formats/apertium-stream").detect,Brackets:require("./formats/brackets").detect,brackets:require("./formats/brackets").detect,CG3:require("./formats/cg3").detect,cg3:require("./formats/cg3").detect,"CoNLL-U":require("./formats/conllu").detect,conllu:require("./formats/conllu").detect,"notatrix serial":require("./formats/notatrix-serial").detect,notatrixSerial:require("./formats/notatrix-serial").detect,Params:require("./formats/params").detect,params:require("./formats/params").detect,"plain text":require("./formats/plain-text").detect,plainText:require("./formats/plain-text").detect,SD:require("./formats/sd").detect,sd:require("./formats/sd").detect};module.exports=(text,options)=>{options=_.defaults(options,{suppressDetectorErrors:!0,returnAllMatches:!0,requireOneMatch:!1});const matches=utils.formats.map(format=>{try{return as[format](text,options)}catch(e){if(e instanceof DetectorError)return;throw e}}).filter(utils.thin);if(!matches.length&&!options.suppressDetectorErrors)throw new DetectorError("Unable to detect format",text,options);if(matches.length>1&&!options.suppressDetectorErrors&&options.requireOneMatch)throw new DetectorError("Detected multiple formats",text,options);return options.returnAllMatches?matches:matches[0]},module.exports.as=as},{"./formats/apertium-stream":412,"./formats/brackets":419,"./formats/cg3":425,"./formats/conllu":431,"./formats/notatrix-serial":439,"./formats/params":446,"./formats/plain-text":453,"./formats/sd":460,"./utils":483,underscore:504}],409:[function(require,module,exports){"use strict";const DetectorError=require("../../utils").DetectorError;module.exports=(text,options)=>{throw new DetectorError("not implemented")}},{"../../utils":483}],410:[function(require,module,exports){module.exports=null},{}],411:[function(require,module,exports){"use strict";require("../../utils").GeneratorError;module.exports=(text,options)=>{}},{"../../utils":483}],412:[function(require,module,exports){"use strict";module.exports={name:"apertium stream",fields:require("./fields"),split:require("./splitter"),detect:require("./detector"),parse:require("./parser"),generate:require("./generator")}},{"./detector":409,"./fields":410,"./generator":411,"./parser":413,"./splitter":414}],413:[function(require,module,exports){"use strict";require("../../utils").ParserError;module.exports=(text,options)=>{}},{"../../utils":483}],414:[function(require,module,exports){"use strict";require("../../utils").SplitterError;module.exports=(text,options)=>{}},{"../../utils":483}],415:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../../utils"),DetectorError=utils.DetectorError;module.exports=(text,options)=>{if(options=_.defaults(options,{allowEmptyString:!1,allowTrailingWhitespace:!0,allowLeadingWhitespace:!0,allowNoDependencies:!1,allowNewlines:!1}),!text&&!options.allowEmptyString)throw new DetectorError("Illegal Brackets: empty string",text,options);if(utils.isJSONSerializable(text))throw new DetectorError("Illegal Brackets: JSON object",text,options);if(/\n/.test(text)&&!options.allowNewlines)throw new DetectorError("Illegal Brackets: contains newlines",text,options);let parsing=null,depth=0,sawBracket=!1;if(text.split("").forEach((char,i)=>{switch(char){case"[":if("]"===parsing)throw new DetectorError('Illegal Brackets: invalid sequence "]["',text,options);sawBracket=!0,depth+=1;break;case"]":if("["===parsing)throw new DetectorError('Illegal Brackets: invalid sequence "[]"',text,options);sawBracket=!0,depth-=1;break;case" ":case"\t":case"\n":if(!options.allowLeadingWhitespace&&null!==parsing&&!utils.re.whitespace.test(parsing))throw new DetectorError("Illegal Brackets: contains leading whitespace",text,options)}parsing=char}),!sawBracket&&!options.allowNoDependencies)throw new DetectorError("Illegal Brackets: contains no dependencies",text,options);if(0!==depth)throw new DetectorError("Illegal Brackets: bracket mismatch",text,options);if(utils.re.whitespace.test(parsing)&&!options.allowTrailingWhitespace)throw new DetectorError("Illegal Brackets: contains trailing whitespace",text,options);return"Brackets"}},{"../../utils":483,underscore:504}],416:[function(require,module,exports){module.exports=["form","heads"],module.exports.hasComments=!1},{}],417:[function(require,module,exports){"use strict";const _=require("underscore"),GeneratorError=require("../../utils").GeneratorError,getLoss=require("./get-loss");module.exports=(sent,options)=>{if(!sent.isParsed)return{output:null,loss:void 0};if(!sent||"Sentence"!==sent.name)throw new GeneratorError("Unable to generate, input not a Sentence",sent,options);if(options=_.defaults(options,sent.options,{}),sent.index(),!sent.root)throw new GeneratorError("Unable to generate, could not find root");let seen=new Set([sent.root]),root={token:sent.root,deprel:null,deps:[]};const visit=node=>{node.token.mapDependents(dep=>{if(seen.has(dep.token))throw new GeneratorError("Unable to generate, dependency structure non-linear");dep.deps=[],node.deps.push(dep),seen.add(dep.token),visit(dep)})};if(visit(root),seen.size<sent.size+1)throw new GeneratorError("Unable to generate, sentence not fully connected");let output="";const walk=node=>{output+="["+(node.deprel||"_")+" ",node.deps.forEach(dep=>{dep.token.indices.absolute<node.token.indices.absolute&&walk(dep)}),output+=" "+node.token.form+" ",node.deps.forEach(dep=>{dep.token.indices.absolute>node.token.indices.absolute&&walk(dep)}),output+=" ] "};return root.deps.forEach(dep=>walk(dep)),{output:output=output.replace(/\s+/g," ").replace(/ \]/g,"]").replace(/\[ /g,"[").replace(/(\w)_(\w)/,"$1 $2").trim(),loss:getLoss(sent)}}},{"../../utils":483,"./get-loss":418,underscore:504}],418:[function(require,module,exports){"use strict";const _=require("underscore"),fields=(require("../../utils"),require("./fields"));module.exports=sent=>{const serial=sent.serialize();let losses=new Set;return serial.comments.length&&losses.add("comments"),serial.tokens.forEach(token=>{Object.keys(_.omit(token,fields)).forEach(field=>{switch(field){case"uuid":case"index":case"deps":break;case"heads":token.heads.length>1&&losses.add(field);break;case"feats":case"misc":token[field]&&token[field].length&&losses.add(field);break;default:token[field]&&losses.add(field)}})}),Array.from(losses)}},{"../../utils":483,"./fields":416,underscore:504}],419:[function(require,module,exports){"use strict";module.exports={name:"Brackets",fields:require("./fields"),split:require("../default-splitter"),detect:require("./detector"),parse:require("./parser"),generate:require("./generator")}},{"../default-splitter":433,"./detector":415,"./fields":416,"./generator":417,"./parser":420}],420:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../../utils"),ParserError=utils.ParserError,detect=require("./detector");module.exports=(text,options)=>{options=_.defaults(options,{allowEmptyString:!1});try{detect(text,options)}catch(e){if(e instanceof utils.DetectorError)throw new ParserError(e.message);throw e}class Token{constructor(parent){this.parent=parent,this.deprel=null,this.before=[],this.words=[],this.after=[]}eachBefore(callback){for(let i=0;i<this.before.length;i++)callback(this.before[i],i)}eachAfter(callback){for(let i=0;i<this.after.length;i++)callback(this.after[i],i)}index(num){return this.eachBefore(before=>{num=before.index(num)}),this.num=++num,this.eachAfter(after=>{num=after.index(num)}),num}serialize(tokens){return this.eachBefore(before=>{before.serialize(tokens)}),tokens.push({form:this.form,heads:[{index:this.parent.num||0,deprel:this.deprel}],index:this.num}),this.eachAfter(after=>{after.serialize(tokens)}),tokens}get form(){return this.words.join("_")}push(token){this.words.length?this.after.push(token):this.before.push(token)}addWord(word){word&&(this.deprel?this.words.push(word):this.deprel=word)}}let sent=new class Sentence{constructor(text,options){this.input=text,this.options=options,this.parent=null,this.root=[],this.comments=[]}serialize(){return this.root.index(0),{input:this.input,options:this.options,comments:this.comments,tokens:this.root.serialize([])}}push(token){this.root=token}}(text,options),parsing=sent,parent=null,word="";return _.each(text,char=>{switch(char){case"[":parsing=new Token(parent=parsing),parent&&parent.push&&parent.push(parsing),word="";break;case"]":parsing.addWord&&parsing.addWord(word),parsing=parsing.parent,parent=parsing.parent,word="";break;case" ":parsing.addWord&&parsing.addWord(word),word="";break;default:word+=char}}),sent.serialize()}},{"../../utils":483,"./detector":415,underscore:504}],421:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../../utils"),DetectorError=utils.DetectorError;module.exports=(text,options)=>{if(options=_.defaults(options,{allowEmptyString:!1,allowTrailingWhitespace:!0,allowLeadingWhitespace:!0}),!text&&!options.allowEmptyString)throw new DetectorError("Illegal CG3: empty string",text,options);if(utils.isJSONSerializable(text))throw new DetectorError("Illegal CG3: JSON object",text,options);let parsing=null;return text.split(/\n/).forEach(line=>{if(utils.re.whiteline.test(line)){if(null===parsing){if(!options.allowLeadingWhitespace)throw new DetectorError("Illegal CG3: contains leading whitespace",text,options)}else if("token-body"!==parsing||!options.allowTrailingWhitespace)throw new DetectorError("Illegal CG3: contains trailing whitespace",text,options);parsing="whitespace"}else if(utils.re.comment.test(line)){if("token-start"===parsing||"token-body"===parsing)throw new DetectorError(`Illegal CG3: invalid sequence ${parsing}=>comment`,text,options);parsing="comment"}else if(utils.re.cg3TokenStart.test(line)){if("token-start"===parsing)throw new DetectorError(`Illegal CG3: invalid sequence ${parsing}=>token-start`,text,options);parsing="token-start"}else{if(!utils.re.cg3TokenContent.test(line))throw new DetectorError("Illegal CG3: unmatched line",text,options);if("comment"===parsing||"whitespace"===parsing)throw new DetectorError(`Illegal CG3: invalid sequence ${parsing}=>token-body`,text,options);parsing="token-body"}}),"CG3"}},{"../../utils":483,underscore:504}],422:[function(require,module,exports){module.exports=["semicolon","index","form","lemma","heads","xpostag","other","analyses"],module.exports.hasComments=!0},{}],423:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../../utils"),GeneratorError=utils.GeneratorError,getLoss=require("./get-loss");module.exports=(sent,options)=>{if(!sent.isParsed)return{output:null,loss:void 0};if(!sent||"Sentence"!==sent.name)throw new GeneratorError("Unable to generate, input not a Sentence",sent,options);options=_.defaults(options,sent.options,{omitIndices:!1,allowMissingLemma:!0}),sent.index();let lines=[];return sent.comments.forEach(comment=>lines.push("# "+comment.body)),sent.tokens.forEach(token=>{const isSet=field=>field&&field!==utils.fallback?field:null,push=(token,indent)=>{if(!token.lemma&&!options.allowMissingLemma)throw new GeneratorError("Unable to generate, token has no lemma",sent,options);indent=(token.semicolon?";":"")+"\t".repeat(indent);const head=token.heads.first,dependency=options.omitIndices?null:"#"+token.indices.cg3+"->"+(null==head?"":head.token.indices.cg3);let line=[`"${isSet(token.lemma)||isSet(token.form)||utils.fallback}"`].concat(isSet(token.xpostag)||isSet(token.upostag)).concat((token._feats||[]).join(" ")).concat((token._misc||[]).join(" ")).concat(head&&isSet(head.deprel)?"@"+head.deprel:null).concat(dependency);line=indent+line.filter(utils.thin).join(" "),lines.push(line)};lines.push(`"<${token.form||utils.fallback}>"`),token._analyses&&token._analyses.length?token._analyses.forEach(analysis=>{analysis.subTokens.forEach((subToken,i)=>{push(subToken,i+1)})}):push(token,1)}),{output:lines.join("\n"),loss:getLoss(sent)}}},{"../../utils":483,"./get-loss":424,underscore:504}],424:[function(require,module,exports){"use strict";const _=require("underscore"),fields=(require("../../utils"),require("./fields"));module.exports=sent=>{const serial=sent.serialize();let losses=new Set;const tokenCalcLoss=token=>{token.heads&&token.heads.length>1&&losses.add("enhanced dependencies"),Object.keys(_.omit(token,fields)).forEach(field=>{switch(field){case"uuid":case"index":case"deps":case"feats":case"misc":break;case"upostag":token.xpostag&&token.upostag&&losses.add(field);break;case"isEmpty":token.isEmpty&&losses.add(field);break;default:losses.add(field)}})};return serial.tokens.map(token=>{tokenCalcLoss(token),(token.analyses||[]).forEach(analysis=>{const analysisKeys=Object.keys(analysis);analysisKeys.length>1||"subTokens"!==analysisKeys[0]?losses.add("analyses"):analysis.subTokens.map(subToken=>{tokenCalcLoss(subToken),null!=subToken.form&&losses.add("form")})})}),Array.from(losses)}},{"../../utils":483,"./fields":422,underscore:504}],425:[function(require,module,exports){"use strict";module.exports={name:"CG3",fields:require("./fields"),split:require("../default-splitter"),detect:require("./detector"),parse:require("./parser"),generate:require("./generator")}},{"../default-splitter":433,"./detector":421,"./fields":422,"./generator":423,"./parser":426}],426:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../../utils"),ParserError=utils.ParserError,detect=require("./detector");module.exports=(text,options)=>{function getIndentNum(str,options){const count=(str,reg)=>str.match(reg).length;if(options.indentString){return count(str,options.indentString instanceof RegExp?options.indentString:new RegExp(options.indentString,"g"))}if(options.useTabIndent)return count(str,/\t/g);if(options.spacesPerTab){return count(str,new RegExp(` {${options.spacesPerTab}}`,"g"))}if(options.equalizeWhitespace)return count(str,/\s/g);throw new ParserError("can't get the indent number, insufficient options set",text,options)}options=_.defaults(options,{allowEmptyString:!1,indentString:null,useTabIndent:!1,spacesPerTab:null,equalizeWhitespace:!0,coerceMultipleSpacesAfterSemicolonToTab:!0,allowMissingIndices:!0});try{detect(text,options)}catch(e){if(e instanceof utils.DetectorError)throw new ParserError(e.message);throw e}let i=0,chunks=[];for(;i<text.length;){const remains=text.slice(i),whiteline=remains.match(utils.re.whiteline),comment=remains.match(utils.re.comment),tokenStart=remains.match(utils.re.cg3TokenStart),tokenContent=remains.match(utils.re.cg3TokenContent);if(whiteline)i+=whiteline[0].length;else if(comment)chunks.push({type:"comment",body:comment[2]}),i+=comment[1].length;else if(tokenStart){for(chunks.push({type:"form",form:tokenStart[1]}),i+=tokenStart[0].length;utils.re.whitespace.test(text[i])&&"\n"!==text[i];)i++;i++}else{if(!tokenContent)throw new ParserError(`unable to match remains: ${remains}`,text,options);{const indent=options.coerceMultipleSpacesAfterSemicolonToTab&&tokenContent[1]?tokenContent[2].replace(/ +/,"\t"):tokenContent[2];let chunk={type:"content",semicolon:!!tokenContent[1],indent:getIndentNum(indent,options),lemma:tokenContent[3],misc:[]};const deprel=tokenContent[5].match(utils.re.cg3Deprel);tokenContent[5].split(/\s+/).filter(utils.thin).forEach(subChunk=>{let dependency=subChunk.match(utils.re.cg3Dependency),head=subChunk.match(utils.re.cg3Head),index=subChunk.match(utils.re.cg3Index),misc=subChunk.match(utils.re.cg3Other);if(dependency&&(head||index)){if(head){if(chunk.heads)throw new ParserError("unexpected subChunk, heads already set",text,options);head=parseInt(head[1]),isNaN(head)||(chunk.heads=[{index:head,deprel:deprel&&deprel[1]?deprel[1]:null}])}else if(index){if(chunk.index)throw new ParserError("unexpected subChunk, index already set",text,options);chunk.index=parseInt(index[1])}}else misc&&(misc[0].startsWith("@")||chunk.misc.push(misc[0]))}),deprel&&deprel[1]&&!chunk.heads&&chunk.misc.push("@"+deprel[1]),chunks.push(chunk),i+=tokenContent[0].length}}}let tokens=[],comments=[],expecting=["comment","form"],token=null,analysis=null,missingIndices=!1;if(chunks.forEach(chunk=>{if(-1===expecting.indexOf(chunk.type))throw new ParserError(`expecting ${expecting.join("|")}, got ${chunk.type}`,text,options);if("comment"===chunk.type)comments.push(chunk.body),expecting=["comment","form"],token=null,analysis=null;else if("form"===chunk.type)analysis&&token.analyses.push(analysis),token&&(1===token.analyses.length&&1===token.analyses[0].subTokens.length&&(token=_.omit(_.extend(token,token.analyses[0].subTokens[0]),"analyses")),tokens.push(_.omit(token,"currentIndent"))),token={form:chunk.form,currentIndent:0,analyses:[]},analysis=null,expecting=["content"];else{if("content"!==chunk.type)throw new ParserError(`unrecognized chunk type: ${chunk.type}`,text,options);if(!token)throw new ParserError("cannot parse content chunk without a token",text,options);if(chunk.indent>token.currentIndent+1)throw new ParserError(`invalid indent change (${token.currentIndent}=>${chunk.indent})`,text,options);if(1===chunk.indent){if(analysis&&token.analyses.push(analysis),void 0===chunk.index){if(!options.allowMissingIndices)throw new ParserError("cannot parse token without index",text,options);missingIndices=!0}else if(missingIndices)throw new ParserError("cannot parse partially indexed CG3",text,options);analysis={subTokens:[{semicolon:chunk.semicolon,lemma:chunk.lemma||null,heads:chunk.heads||null,index:chunk.index||null,xpostag:chunk.misc.shift()||null,misc:chunk.misc||null}]}}else{if(!analysis)throw new ParserError("cannot parse content chunk without an analysis",text,options);if(void 0===chunk.index&&!options.allowMissingIndices)throw new ParserError("cannot parse token without index",text,options);analysis.subTokens.push({semicolon:chunk.semicolon,lemma:chunk.lemma||null,heads:chunk.heads||null,index:chunk.index||null,xpostag:chunk.misc.shift()||null,misc:chunk.misc||null})}token.currentIndent=chunk.indent,expecting=["content","form"]}}),analysis&&token.analyses.push(analysis),token&&(1===token.analyses.length&&1===token.analyses[0].subTokens.length&&(token=_.omit(_.extend(token,token.analyses[0].subTokens[0]),"analyses")),tokens.push(_.omit(token,"currentIndent"))),missingIndices){let index=0;tokens.forEach(token=>{token.analyses?token.analyses.forEach(analysis=>{analysis.subTokens.forEach(subToken=>{subToken.index=++index})}):token.index=++index})}return{input:text,options:options,comments:comments,tokens:tokens}}},{"../../utils":483,"./detector":421,underscore:504}],427:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../../utils"),DetectorError=utils.DetectorError;module.exports=(text,options)=>{if(options=_.defaults(options,{allowEmptyString:!1,requireTenParams:!1,allowTrailingWhitespace:!0}),!text&&!options.allowEmptyString)throw new DetectorError("Illegal CoNLL-U: empty string",text,options);if(utils.isJSONSerializable(text))throw new DetectorError("Illegal CoNLL-U: JSON object",text,options);const tokenLine=options.requireTenParams?utils.re.conlluTokenLineTenParams:utils.re.conlluTokenLine;let doneComments=!1,doneContent=!1;return text.split(/\n/).forEach((line,i)=>{if(utils.re.comment.test(line)){if(doneComments)throw new DetectorError("Illegal CoNLL-U: misplaced comment",text,options)}else if(doneComments=!0,line){if(!tokenLine.test(line))throw new DetectorError("Illegal CoNLL-U: unmatched line",text,options);if(doneContent)throw new DetectorError("Illegal CoNLL-U: misplaced whitespace",text,options)}else{if(!options.allowTrailingWhitespace)throw new DetectorError("Illegal CoNLL-U: contains trailing whitespace",text,options);doneContent=!0}}),"CoNLL-U"}},{"../../utils":483,underscore:504}],428:[function(require,module,exports){module.exports=["isEmpty","index","form","lemma","upostag","xpostag","feats","heads","misc","subTokens"],module.exports.hasComments=!0},{}],429:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../../utils"),GeneratorError=utils.GeneratorError,getLoss=require("./get-loss");module.exports=(sent,options)=>{if(!sent.isParsed)return{output:null,loss:void 0};if(!sent||"Sentence"!==sent.name)throw new GeneratorError("Unable to generate, input not a Sentence",sent,options);options=_.defaults(options,sent.options,{}),sent.index();let lines=[];return sent.comments.forEach(comment=>{lines.push("# "+comment.body)}),sent.tokens.forEach(token=>{const toString=token=>{const head=token.heads.first;return[token.indices.conllu,token.form||utils.fallback,token.lemma||utils.fallback,token.upostag||utils.fallback,token.xpostag||utils.fallback,token.feats||utils.fallback,head?head.token.indices.conllu:utils.fallback,head&&head.deprel?head.deprel:utils.fallback,token._getDeps("CoNLL-U").join("|")||utils.fallback,token.misc||utils.fallback].join("\t")};lines.push(toString(token)),token.subTokens.forEach(subToken=>{lines.push(toString(subToken))})}),{output:lines.join("\n"),loss:getLoss(sent)}}},{"../../utils":483,"./get-loss":430,underscore:504}],430:[function(require,module,exports){"use strict";const _=require("underscore"),fields=(require("../../utils"),require("./fields"));module.exports=sent=>{const serial=sent.serialize();let losses=new Set;const tokenCalcLoss=token=>{token.heads.length>1&&!sent.options.enhanced&&losses.add("enhanced dependencies"),Object.keys(_.omit(token,fields)).forEach(field=>{switch(field){case"uuid":case"index":case"other":break;case"analyses":if(token.analyses.length>1)losses.add("analyses");else{const analysis=token.analyses[0],analysisKeys=Object.keys(analysis);analysisKeys.length>1||"subTokens"!==analysisKeys[0]?losses.add("analyses"):analysis.subTokens.map(tokenCalcLoss)}break;default:losses.add(field)}})};return serial.tokens.map(tokenCalcLoss),Array.from(losses)}},{"../../utils":483,"./fields":428,underscore:504}],431:[function(require,module,exports){"use strict";module.exports={name:"CoNLL-U",fields:require("./fields"),split:require("../default-splitter"),detect:require("./detector"),parse:require("./parser"),generate:require("./generator")}},{"../default-splitter":433,"./detector":427,"./fields":428,"./generator":429,"./parser":432}],432:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../../utils"),ParserError=utils.ParserError,detect=require("./detector");module.exports=(text,options)=>{options=_.defaults(options,{allowEmptyString:!1,requireTenParams:!1,allowWhiteLines:!0});try{detect(text,options)}catch(e){if(e instanceof utils.DetectorError)throw new ParserError(e.message);throw e}let chunks=[];const lines=text.split("\n"),tokenRegex=options.requireTenParams?utils.re.conlluTokenLineTenParams:utils.re.conlluTokenLine;lines.forEach(line=>{const whiteline=line.match(utils.re.whiteline),comment=line.match(utils.re.comment),tokenLine=line.match(tokenRegex);if(whiteline);else if(comment)chunks.push({type:"comment",body:comment[2]});else{if(!tokenLine)throw new ParserError(`unable to match line: ${line}`,text,options);{let token,fields=tokenLine[7];if(fields=/(\t|[ ]{2,})/g.test(fields)?fields.replace(/[ ]{2,}/g,"\t").split(/\t/g).filter(utils.thin):fields.split(/[\t ]+/g).filter(utils.thin),tokenLine[4])token={type:"super-token",index:tokenLine[1],startIndex:tokenLine[2],stopIndex:tokenLine[5],form:utils.re.fallback.test(fields[0])?null:fields[0],misc:utils.re.fallback.test(fields[8])?null:fields[8].split("|")};else{token={type:"token",index:tokenLine[1],isEmpty:!!tokenLine[3],form:!fields[0]||utils.re.fallback.test(fields[0])?null:fields[0],lemma:!fields[1]||utils.re.fallback.test(fields[1])?null:fields[1],upostag:!fields[2]||utils.re.fallback.test(fields[2])?null:fields[2],xpostag:!fields[3]||utils.re.fallback.test(fields[3])?null:fields[3],feats:!fields[4]||utils.re.fallback.test(fields[4])?null:fields[4].split("|"),heads:function getHeads(head,deprel,deps){head=utils.re.fallback.test(head)?null:head,deprel=utils.re.fallback.test(deprel)?null:deprel,deps=utils.re.fallback.test(deps)?null:deps;let heads=[],seen=new Set;return head?(heads.push({index:head,deprel:deprel||null}),seen.add(head),deps&&deps.split("|").forEach(dep=>{dep=dep.split(":"),seen.has(dep[0])||heads.push({index:dep[0],deprel:dep[1]||null}),seen.add(dep[0])}),heads):null}(fields[5],fields[6],fields[7]),misc:!fields[8]||utils.re.fallback.test(fields[8])?null:fields[8].split("|")}}chunks.push(token)}}});let tokens=[],comments=[],expecting=["comment","super-token","token"],superToken=null;return chunks.filter(utils.thin).forEach(chunk=>{if(-1===expecting.indexOf(chunk.type))throw new ParserError(`expecting ${expecting.join("|")}, got ${chunk.type}`,text,options);if("comment"===chunk.type)comments.push(chunk.body),expecting=["comment","super-token","token"];else if("super-token"===chunk.type)superToken={form:chunk.form,misc:chunk.misc,analyses:[{subTokens:[]}],index:chunk.index,currentIndex:null,stopIndex:chunk.stopIndex},expecting=["token"];else{if("token"!==chunk.type)throw new ParserError(`unrecognized chunk type: ${chunk.type}`,text,options);superToken?(!function assertNext(supStr,subStr){function parseIndex(str){const match=(str||"").match(utils.re.conlluEmptyIndex);return match?match[2]?{major:parseInt(match[1]),minor:parseInt(match[2])}:{major:parseInt(match[1]),minor:null}:null}if(null===supStr)return;const sup=parseIndex(supStr),sub=parseIndex(subStr);if(null===sub.minor){if(sub.major-sup.major!=1)throw new ParserError(`unexpected token index (at: ${sup.major}${null===sup.minor?"":"."+sup.minor}, got: ${sup.major}${null===sup.minor?"":"."+sup.minor})`)}else if(null===sup.minor){if(1!==sub.minor)throw new ParserError(`unexpected token index (at: ${sup.major}${null===sup.minor?"":"."+sup.minor}, got: ${sup.major}${null===sup.minor?"":"."+sup.minor})`)}else if(sub.minor-sup.minor!=1)throw new ParserError(`unexpected token index (at: ${sup.major}${null===sup.minor?"":"."+sup.minor}, got: ${sup.major}${null===sup.minor?"":"."+sup.minor})`)}(superToken.currentIndex,chunk.index),superToken.currentIndex=chunk.index,superToken.analyses[0].subTokens.push(_.omit(chunk,["type"])),superToken.currentIndex===superToken.stopIndex?(tokens.push(_.omit(superToken,["currentIndex","stopIndex"])),superToken=null,expecting=["super-token","token"]):expecting=["token"]):(tokens.push(_.omit(chunk,["type"])),expecting=["super-token","token"])}}),{input:text,options:options,comments:comments,tokens:tokens}}},{"../../utils":483,"./detector":427,underscore:504}],433:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../utils");module.exports=(text,options={})=>(options=_.defaults(options,{trimChunks:!0}),text.split(utils.re.multiNewlines).map(chunk=>options.trimChunks?chunk.trim():chunk).filter(utils.thin))},{"../utils":483,underscore:504}],434:[function(require,module,exports){module.exports={"apertium stream":require("./apertium-stream"),apertiumStream:require("./apertium-stream"),Brackets:require("./brackets"),brackets:require("./brackets"),CG3:require("./cg3"),cg3:require("./cg3"),"CoNLL-U":require("./conllu"),conllu:require("./conllu"),"notatrix serial":require("./notatrix-serial"),notatrixSerial:require("./notatrix-serial"),Params:require("./params"),params:require("./params"),"plain text":require("./plain-text"),plainText:require("./plain-text"),SD:require("./sd"),sd:require("./sd")}},{"./apertium-stream":412,"./brackets":419,"./cg3":425,"./conllu":431,"./notatrix-serial":439,"./params":446,"./plain-text":453,"./sd":460}],435:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../../utils"),DetectorError=utils.DetectorError;module.exports=(obj,options)=>{function restrict(obj,fields,allowUndefined=!1){if(void 0===obj)throw new DetectorError("Illegal notatrix serial: missing field",obj,options);if(_.omit(obj,Object.keys(fields)).length)throw new DetectorError("Illegal notatrix serial: unexpected field",obj,options);_.each(fields,(fieldType,fieldName)=>{const value=obj[fieldName];switch(fieldType){case"number":if((void 0!==value||!allowUndefined)&&isNaN(parseFloat(value)))throw new DetectorError(`Illegal notatrix serial: could not parse ${value} as float`,obj,options);break;case"string":if((void 0!==value||!allowUndefined)&&"string"!=typeof value)throw new DetectorError(`Illegal notatrix serial: expected 'string', got ${typeof value}`,obj,options);break;case"string*":if((void 0!==value||!allowUndefined)&&null!==value&&"string"!=typeof value)throw new DetectorError(`Illegal notatrix serial: expected 'string', got ${typeof value}`,obj,options);break;case"object":break;case"array":if(!(null==value&&allowUndefined||Array.isArray(value)))throw new DetectorError(`Illegal notatrix serial: expected Array, got ${typeof value}`,obj,options)}})}if(options=_.defaults(options,{allowZeroTokens:!0,allowZeroFields:!0}),!utils.isJSONSerializable(obj))throw new DetectorError("Illegal notatrix serial: not JSON object",obj,options);if(restrict(obj="string"==typeof obj?JSON.parse(obj):obj,utils.nxSentenceFields),_.each(obj.comments,comment=>{if("string"!=typeof comment)throw new DetectorError("Illegal notatrix serial: comments should be strings",obj,options)}),_.each(obj.tokens,token=>{restrict(token,utils.nxSentenceTokensFields,!0)}),0===obj.tokens.length&&!options.allowZeroTokens)throw new DetectorError("Illegal notatrix serial: cannot have empty token list",obj,options);return _.each(obj.tokens,token=>{if(0===Object.keys(token).length&&!options.allowZeroFields)throw new DetectorError("Illegal notatrix serial: cannot have token without fields",obj,options);token.analyses&&_.each(token.analyses,analysis=>{const analysisKeys=Object.keys(analysis);if(1!==analysisKeys.length||"subTokens"!==analysisKeys[0])throw new DetectorError("Illegal notatrix serial: got unexpected analyses field",obj,options);_.each(analysis.subTokens,subToken=>{if(restrict(subToken,utils.nxSentenceTokensFields,!0),void 0!==subToken.analyses)throw new DetectorError("Illegal notatrix serial: subTokens can only have one analysis",obj,options)})})}),"notatrix serial"}},{"../../utils":483,underscore:504}],436:[function(require,module,exports){module.exports=[],module.exports.hasComments=!0},{}],437:[function(require,module,exports){"use strict";const _=require("underscore"),GeneratorError=require("../../utils").GeneratorError,getLoss=require("./get-loss");module.exports=(sent,options)=>{if(!sent.isParsed)return{output:null,loss:void 0};if(!sent||"Sentence"!==sent.name)throw new GeneratorError("Unable to generate, input not a Sentence",sent,options);return options=_.defaults(options,sent.options,{}),sent.index(),{output:sent.serialize(),loss:getLoss(sent)}}},{"../../utils":483,"./get-loss":438,underscore:504}],438:[function(require,module,exports){"use strict";require("underscore"),require("../../utils").Loss,require("./fields");module.exports=sent=>[]},{"../../utils":483,"./fields":436,underscore:504}],439:[function(require,module,exports){"use strict";module.exports={name:"notatrix serial",fields:require("./fields"),split:require("./splitter"),detect:require("./detector"),parse:require("./parser"),generate:require("./generator")}},{"./detector":435,"./fields":436,"./generator":437,"./parser":440,"./splitter":441}],440:[function(require,module,exports){"use strict";require("underscore");const utils=require("../../utils"),ParserError=utils.ParserError,detect=require("./detector");module.exports=(obj,options)=>{try{detect(obj,options)}catch(e){if(e instanceof utils.DetectorError)throw new ParserError(e.message);throw e}return obj}},{"../../utils":483,"./detector":435,underscore:504}],441:[function(require,module,exports){"use strict";const SplitterError=require("../../utils").SplitterError;module.exports=(text,options)=>{throw new SplitterError("Can't split notatrix serial",text,options)}},{"../../utils":483}],442:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../../utils"),DetectorError=utils.DetectorError;module.exports=(obj,options)=>{if(options=_.defaults(options,{allowEmptyList:!1,allowTrailingWhitespace:!0,allowLeadingWhitespace:!0}),!utils.isJSONSerializable(obj))throw new DetectorError("Illegal Params: not JSON object",obj,options);if(obj="string"==typeof obj?JSON.parse(obj):obj,!Array.isArray(obj))throw new DetectorError(`Illegal Params: expected array of parameters, got ${typeof obj}`,obj,options);if(!obj.length&&!options.allowEmptyList)throw new DetectorError("Illegal Params: contains no tokens",obj,options);return obj.forEach(obj=>{const omitted=Object.keys(_.omit(obj,utils.fields));if(omitted.length)throw new DetectorError(`Illegal Params: contains illegal keys (${omitted.join(", ")})`,obj,options);if(!Object.keys(_.pick(obj,utils.fields)).length)throw new DetectorError("Illegal Params: missing required keys",obj,options)}),"Params"}},{"../../utils":483,underscore:504}],443:[function(require,module,exports){module.exports=["isEmpty","index","form","lemma","upostag","xpostag","feats","head","deprel","deps","misc"],module.exports.hasComments=!1},{}],444:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../../utils"),GeneratorError=utils.GeneratorError,getLoss=require("./get-loss");module.exports=(sent,options)=>{if(!sent.isParsed)return{output:null,loss:void 0};if(!sent||"Sentence"!==sent.name)throw new GeneratorError("Unable to generate, input not a Sentence",sent,options);return options=_.defaults(options,sent.options,{}),sent.index(),{output:sent.tokens.map(token=>{if(token.analysis)throw new GeneratorError("Unable to generate, contains ambiguous analyses or multiword tokens");let params=_.pick(token,utils.fields);return params.head=token.getHead(),_.pick(params,value=>null!=value)}),loss:getLoss(sent)}}},{"../../utils":483,"./get-loss":445,underscore:504}],445:[function(require,module,exports){"use strict";const _=require("underscore"),fields=(require("../../utils"),require("./fields"));module.exports=sent=>{const serial=sent.serialize();let losses=new Set;return serial.comments.length&&losses.add("comments"),serial.tokens.forEach(token=>{Object.keys(_.omit(token,fields)).forEach(field=>{switch(field){case"uuid":case"index":break;case"heads":token.heads.length>1&&losses.add("enhanced dependencies");break;default:losses.add(field)}})}),Array.from(losses)}},{"../../utils":483,"./fields":443,underscore:504}],446:[function(require,module,exports){"use strict";module.exports={name:"Params",fields:require("./fields"),split:require("./splitter"),detect:require("./detector"),parse:require("./parser"),generate:require("./generator")}},{"./detector":442,"./fields":443,"./generator":444,"./parser":447,"./splitter":448}],447:[function(require,module,exports){"use strict";require("underscore");const utils=require("../../utils"),ParserError=utils.ParserError,detect=require("./detector");module.exports=(obj,options)=>{try{detect(obj,options)}catch(e){if(e instanceof utils.DetectorError)throw new ParserError(e.message);throw e}return{input:JSON.stringify(obj),options:options,comments:[],tokens:obj.map((token,i)=>(token.index=`${i}`,token))}}},{"../../utils":483,"./detector":442,underscore:504}],448:[function(require,module,exports){"use strict";const SplitterError=require("../../utils").SplitterError;module.exports=(text,options)=>{throw new SplitterError("Can't split Params",text,options)}},{"../../utils":483}],449:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../../utils"),DetectorError=utils.DetectorError;module.exports=(text,options)=>{if(options=_.defaults(options,{allowEmptyString:!0,allowNewlines:!1,bracketsAllowanceTreshold:.2}),utils.isJSONSerializable(text))throw new DetectorError("Illegal plain text: JSON object",text,options);if(/\n/.test(text)&&!options.allowNewlines)throw new DetectorError("Illegal plain text: contains newlines",text,options);if(options.bracketsAllowanceTreshold>=0){const numWords=text.split(utils.re.whitespace).length,ratio=(text.match(/[\[\]]/g)||[]).length/numWords;if(ratio>options.bracketsAllowanceTreshold)throw new DetectorError(`Illegal plain text: contains too many brackets (${ratio})`,text,options)}return"plain text"}},{"../../utils":483,underscore:504}],450:[function(require,module,exports){module.exports=["form"],module.exports.hasComments=!1},{}],451:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../../utils"),GeneratorError=utils.GeneratorError,getLoss=require("./get-loss");module.exports=(sent,options)=>{if(!sent.isParsed)return{output:null,loss:void 0};if(!sent||"Sentence"!==sent.name)throw new GeneratorError("Unable to generate, input not a Sentence",sent,options);return options=_.defaults(options,sent.options,{}),sent.index(),{output:sent.tokens.map(token=>token.isSuperToken?token.subTokens.map(subToken=>subToken.value).join(" "):token.form).join(" ").replace(utils.re.spaceBeforePunctuation,"$1"),loss:getLoss(sent)}}},{"../../utils":483,"./get-loss":452,underscore:504}],452:[function(require,module,exports){"use strict";const _=require("underscore"),fields=(require("../../utils"),require("./fields"));module.exports=sent=>{const serial=sent.serialize();let losses=new Set;return serial.comments.length&&losses.add("comments"),serial.tokens.forEach(token=>{Object.keys(_.omit(token,fields)).forEach(field=>{switch(field){case"uuid":case"index":break;case"feats":case"misc":token[field]&&token[field].length&&losses.add(field);break;case"heads":token.heads.length&&losses.add("heads");break;default:token[field]&&losses.add(field)}})}),Array.from(losses)}},{"../../utils":483,"./fields":450,underscore:504}],453:[function(require,module,exports){"use strict";module.exports={name:"plain text",fields:require("./fields"),split:require("./splitter"),detect:require("./detector"),parse:require("./parser"),generate:require("./generator")}},{"./detector":449,"./fields":450,"./generator":451,"./parser":454,"./splitter":455}],454:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../../utils"),ParserError=utils.ParserError,detect=require("./detector");module.exports=(text,options)=>{options=_.defaults(options,{allowEmptyString:!0}),text=text||"";try{detect(text,options)}catch(e){if(e instanceof utils.DetectorError)throw new ParserError(e.message);throw e}let chunks=[],word="";return _.each(text,(char,i)=>{utils.re.whitespace.test(char)?(chunks.push(word),word=""):utils.re.punctuation.test(char)?(utils.re.allPunctuation.test(word)||(chunks.push(word),word=""),word+=char):word+=char}),chunks.push(word),{input:text,options:options,comments:[],tokens:chunks.filter(utils.thin).map((chunk,i)=>({form:chunk,index:i}))}}},{"../../utils":483,"./detector":449,underscore:504}],455:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../../utils");module.exports=(text,options={})=>(options=_.defaults(options,{trimChunks:!0}),text.split(utils.re.sentenceThenPunctuation).map(chunk=>options.trimChunks?chunk.trim():chunk).filter(utils.thin))},{"../../utils":483,underscore:504}],456:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../../utils"),DetectorError=utils.DetectorError;module.exports=(text,options)=>{if(options=_.defaults(options,{allowEmptyString:!1,allowLeadingWhitespace:!0,allowBookendWhitespace:!0,allowTrailingWhitespace:!0,allowNoDependencies:!1}),!text&&!options.allowEmptyString)throw new DetectorError("Illegal SD: empty string",text,options);if(utils.isJSONSerializable(text))throw new DetectorError("Illegal SD: JSON object",text,options);const dependencyRegex=options.allowBookendWhitespace?utils.re.sdDependency:utils.re.sdDependencyNoWhitespace;let parsingDeps=!1,parsedDeps=0;if(text.split(/\n/).forEach((line,i)=>{if(utils.re.whiteline.test(line))if(parsingDeps){if(!options.allowTrailingWhitespace)throw new DetectorError("Illegal SD: contains trailing whitespace",text,options)}else if(!options.allowLeadingWhitespace)throw new DetectorError("Illegal SD: contains leading whitespace",text,options);if(utils.re.comment.test(line));else if(parsingDeps){if(!dependencyRegex.test(line))throw new DetectorError("Illegal SD: expected dependency line",text,options);parsedDeps+=1}else{if(dependencyRegex.test(line))throw new DetectorError("Illegal SD: missing text line",text,options);parsingDeps=!0}}),0===parsedDeps&&!options.allowNoDependencies)throw new DetectorError("Illegal SD: contains no dependencies",text,options);return"SD"}},{"../../utils":483,underscore:504}],457:[function(require,module,exports){module.exports=["form","heads"],module.exports.hasComments=!0},{}],458:[function(require,module,exports){"use strict";const _=require("underscore"),GeneratorError=require("../../utils").GeneratorError,generateText=require("../plain-text").generate,getLoss=require("./get-loss");module.exports=(sent,options)=>{if(!sent.isParsed)return{output:null,loss:void 0};if(!sent||"Sentence"!==sent.name)throw new GeneratorError("Unable to generate, input not a Sentence",sent,options);options=_.defaults(options,sent.options,{}),sent.index();let lines=[];return sent.comments.forEach(comment=>{lines.push("# "+comment.body)}),lines.push(generateText(sent).output),[sent.root].concat(sent.tokens).forEach(token=>{token.mapDependents(dependent=>{lines.push(`${dependent.deprel||"_"}(${token.form}, ${dependent.token.form})`)})}),{output:lines.join("\n"),loss:getLoss(sent)}}},{"../../utils":483,"../plain-text":453,"./get-loss":459,underscore:504}],459:[function(require,module,exports){"use strict";const _=require("underscore"),fields=(require("../../utils"),require("./fields"));module.exports=sent=>{const serial=sent.serialize();let losses=new Set;return serial.tokens.forEach(token=>{token.heads&&token.heads.length>1&&losses.add("enhanced dependencies"),Object.keys(_.omit(token,fields)).forEach(field=>{switch(field){case"uuid":case"index":case"deps":break;case"heads":token.heads.length>1&&losses.add(field);break;case"feats":case"misc":token[field]&&token[field].length&&losses.add(field);break;default:token[field]&&losses.add(field)}})}),Array.from(losses)}},{"../../utils":483,"./fields":457,underscore:504}],460:[function(require,module,exports){"use strict";module.exports={name:"SD",fields:require("./fields"),split:require("../default-splitter"),detect:require("./detector"),parse:require("./parser"),generate:require("./generator")}},{"../default-splitter":433,"./detector":456,"./fields":457,"./generator":458,"./parser":461}],461:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../../utils"),ParserError=utils.ParserError,detect=require("./detector"),parseText=require("../plain-text").parse;module.exports=(text,options)=>{function getTokenIndexFromString(tokens,token){for(let i=0;i<tokens.length;i++)if(tokens[i].form.toLowerCase()===token.toLowerCase())return i;return null}options=_.defaults(options,{allowEmptyString:!1,allowBookendWhitespace:!0,allowWhiteLines:!0});try{detect(text,options)}catch(e){if(e instanceof utils.DetectorError)throw new ParserError(e.message);throw e}const lines=text.split("\n"),depRegex=options.allowBookendWhitespace?utils.re.sdDependencyNoWhitespace:utils.re.sdDependency;let tokens,chunks=[];lines.forEach(line=>{const whiteline=line.match(utils.re.whiteline),comment=line.match(utils.re.comment),dep=line.match(depRegex);whiteline||(comment?chunks.push({type:"comment",body:comment[2]}):dep?chunks.push({type:"dependency",deprel:dep[1],head:dep[2],dep:dep[3]}):chunks.push({type:"text",body:line}))});let comments=[],expecting=["comment","text"];return chunks.forEach(chunk=>{if(-1===expecting.indexOf(chunk.type))throw new ParserError(`expecting ${expecting.join("|")}, got ${chunk.type}`,text,options);if("comment"===chunk.type)comments.push(chunk.body),expecting=["comment","text"];else if("text"===chunk.type)tokens=parseText(chunk.body).tokens,expecting=["dependency"];else{if("dependency"!==chunk.type)throw new ParserError(`unrecognized chunk type: ${chunk.type}`,text,options);{let index=getTokenIndexFromString(tokens,chunk.dep);if(null===index)throw new ParserError(`unable to find token with form ${chunk.dep}`,text,options);tokens[index].heads=[{index:getTokenIndexFromString(tokens,chunk.head),deprel:chunk.deprel}],expecting=["dependency"]}}}),{input:text,options:options,comments:comments,tokens:tokens}}},{"../../utils":483,"../plain-text":453,"./detector":456,underscore:504}],462:[function(require,module,exports){"use strict";require("underscore"),require("./utils").GeneratorError;let as={"apertium stream":require("./formats/apertium-stream").generate,apertiumStream:require("./formats/apertium-stream").generate,Brackets:require("./formats/brackets").generate,brackets:require("./formats/brackets").generate,CG3:require("./formats/cg3").generate,cg3:require("./formats/cg3").generate,"CoNLL-U":require("./formats/conllu").generate,conllu:require("./formats/conllu").generate,"notatrix serial":require("./formats/notatrix-serial").generate,notatrixSerial:require("./formats/notatrix-serial").generate,Params:require("./formats/params").generate,params:require("./formats/params").generate,"plain text":require("./formats/plain-text").generate,plainText:require("./formats/plain-text").generate,SD:require("./formats/sd").generate,sd:require("./formats/sd").generate};module.exports=as},{"./formats/apertium-stream":412,"./formats/brackets":419,"./formats/cg3":425,"./formats/conllu":431,"./formats/notatrix-serial":439,"./formats/params":446,"./formats/plain-text":453,"./formats/sd":460,"./utils":483,underscore:504}],463:[function(require,module,exports){"use strict";const _=require("underscore"),nx=require("./nx"),errors=require("./utils/errors");module.exports=_.extend({constants:require("./utils/constants"),formats:require("./formats"),funcs:require("./utils/funcs"),regex:require("./utils/regex"),data:require("../data"),detect:require("./detector"),generate:require("./generator"),parse:require("./parser"),split:require("./splitter"),convert:require("./converter")},nx,errors)},{"../data":402,"./converter":407,"./detector":408,"./formats":434,"./generator":462,"./nx":469,"./parser":478,"./splitter":479,"./utils/constants":480,"./utils/errors":481,"./utils/funcs":482,"./utils/regex":484,underscore:504}],464:[function(require,module,exports){"use strict";require("underscore"),require("../utils").NxError;const NxBaseClass=require("./base-class"),SubToken=require("./sub-token");module.exports=class Analysis extends NxBaseClass{constructor(sent,serial){super(sent,"Analysis"),this._subTokens=(serial.subTokens||[]).map(sub=>new SubToken(sent,sub))}get subTokens(){return this._subTokens}}},{"../utils":483,"./base-class":465,"./sub-token":475,underscore:504}],465:[function(require,module,exports){module.exports=class NxBaseClass{constructor(name){this.name=name}}},{}],466:[function(require,module,exports){"use strict";const _=require("underscore"),uuid=require("uuid/v4"),utils=require("../utils"),NxError=utils.NxError,NxBaseClass=require("./base-class"),RelationSet=require("./relation-set");class BaseToken extends NxBaseClass{constructor(sent,name,serial={}){super(name),this.sent=sent,this.uuid=uuid(),this.uuid=serial.uuid||this.uuid,this.semicolon=serial.semicolon,this.isEmpty=serial.isEmpty,this.form=serial.form,this.lemma=serial.lemma,this.upostag=serial.upostag,this.xpostag=serial.xpostag,this.feats=serial.feats,this.misc=serial.misc,this._heads=serial.heads,this.heads=new RelationSet(this,"dependents"),this.dependents=new RelationSet(this,"heads"),this.indices={conllu:null,cg3:null,cytoscape:null,serial:serial.index}}addHead(head,deprel){if(!(head instanceof BaseToken))throw new NxError("cannot add head unless it is a token");if(head===this)throw new NxError("token cannot be its own head");if("string"!=typeof deprel&&null!=deprel)throw new NxError("deprel must be a string, null, or undefined");return this.sent.options.enhanced||this.heads.clear(),this.heads.add(head,deprel)}modifyHead(head,deprel){if(!(head instanceof BaseToken))throw new NxError("cannot add head unless it is a token");if("string"!=typeof deprel&&null!=deprel)throw new NxError("deprel must be a string, null, or undefined");return this.heads.modify(head,deprel)}removeHead(head){if(!(head instanceof BaseToken))throw new NxError("cannot add head unless it is a token");return this.heads.remove(head)}removeAllHeads(){return this.heads.clear()}mapHeads(callback){return this.heads.map(callback)}mapDependents(callback){return this.dependents.map(callback)}getHead(format){return this.heads.length?"CoNLL-U"===format?`${this.heads.first.token.indices.conllu}`:"CG3"===format?`${this.heads.first.token.indices.cg3}`:`${this.heads.first.token.indices.absolute}`:null}_getDeprel(){return this.heads.length?this.heads.first.deprel:null}_getDeps(format){function getIndex(token){return"CoNLL-U"===format?token.indices.conllu:"CG3"===format?token.indices.cg3:token.indices.absolute}return this.heads.length&&this.sent.options.enhanced?this.mapHeads(utils.noop).sort((x,y)=>getIndex(x.token)<getIndex(y.token)?-1:getIndex(x.token)>getIndex(y.token)?1:0).map(head=>head.deprel?`${getIndex(head.token)}:${head.deprel}`:`${getIndex(head.token)}`):[]}walk(callback){let i=0;return this._analyses?this._analyses.map(analysis=>analysis._subTokens.map(subToken=>callback(subToken,++i))):null}hashFields(...fields){fields=_.flatten(fields);let hash=_.intersection(fields,["form","lemma","upostag","xpostag","feats","deprel","misc","isEmpty","semicolon"]).map(field=>`<${this[field]||field}>`).join("|");return fields.indexOf("indices")>-1&&(hash+=`|${_.map(this.indices,index=>`{${index}}`).join("")}`),fields.indexOf("head")>-1&&(hash+=`|(h:${this.head.token.indices.absolute}:${h.deprel})`),fields.indexOf("deps")>-1&&(hash+=`|(d:${this.mapDeps(d=>`${d.token.indices.absolute}:${d.deprel}`).join("|")||""})`),(fields.indexOf("analyses")>-1||fields.indexOf("subTokens")>-1)&&(hash+=`|[s:${this.walk(t=>t.hashFields(fields))||""}]`),hash}serialize(){let serial={uuid:this.uuid,form:this.form,index:this.indices.absolute,semicolon:this.semicolon,isEmpty:this.isEmpty,lemma:this.lemma,upostag:this.upostag,xpostag:this.xpostag,feats:this._feats,misc:this._misc,heads:this.mapHeads(head=>({index:head.token.indices.absolute,deprel:head.deprel}))};return this._analyses&&this._analyses.length&&(serial.analyses=this._analyses.map(analysis=>({subTokens:analysis._subTokens.map(subToken=>subToken.serialize())}))),serial=_.pick(serial,value=>void 0!==value)}get isSuperToken(){return!!(this._analyses||[]).reduce((total,analysis)=>total+analysis._subTokens.length,0)}get value(){return this.form||this.lemma}get feats(){return this._feats_init?this._feats.length?this._feats.join("|"):null:void 0}set feats(feats){void 0!==feats&&(this._feats_init=!0,this._feats=feats||[])}get misc(){return this._misc_init?this._misc.length?this._misc.join("|"):null:void 0}set misc(misc){void 0!==misc&&(this._misc_init=!0,this._misc=misc||[])}set other(other){void 0!==other&&("string"==typeof other&&(other=[other]),this._misc_init=!0,this._misc=(other||[]).filter(utils.thin))}}module.exports=BaseToken},{"../utils":483,"./base-class":465,"./relation-set":472,underscore:504,"uuid/v4":507}],467:[function(require,module,exports){"use strict";require("underscore");const utils=require("../utils"),NxBaseClass=require("./base-class");require("./label");module.exports=class Comment extends NxBaseClass{constructor(sent,body){super(sent,"Comment"),this.type="normal",this.body=body;const label=body.match(utils.re.commentLabel),sentId=body.match(utils.re.commentSentId);if(label){let labels=[];label[3].split(/\s/).forEach(label=>{label&&-1===labels.indexOf(label)&&labels.push(label)}),this.type="label",this.labels=labels}else sentId&&(this.type="sent-id",this.id=sentId[2])}serialize(){return this.body}}},{"../utils":483,"./base-class":465,"./label":470,underscore:504}],468:[function(require,module,exports){(function(Buffer){"use strict";const _=require("underscore"),fs=require("fs"),path=require("path"),uuid=require("uuid/v4"),NxError=require("../utils").NxError,split=require("../splitter"),NxBaseClass=(require("../detector"),require("../parser"),require("../generator"),require("../converter"),require("./base-class")),Labeler=require("./labeler"),Sentence=require("./sentence");class Corpus extends NxBaseClass{constructor(options){super("Corpus"),this.treebank_id=uuid(),options=_.defaults(options,{requireOne:!0}),this.filename=null,this.options=options,this.sources=[],this._labeler=new Labeler(this),this._sentences=[],this._index=-1,this._meta={},this._filterIndex=-1}get snapshot(){return{filename:this.filename,sentences:this.length,errors:this.errors.length,labels:this._labeler.sort()}}get length(){return this._sentences.length}get errors(){return this._sentences.filter(sent=>{if(!sent.isParsed)return sent})}get topLabels(){return this._labeler.top}serialize(){return{filename:this.filename,meta:this._meta,options:this.options,labeler:this._labeler.serialize(),sentences:this._sentences.map(sent=>sent.serialize(this.options)),index:this._index}}static deserialize(serial){const corpus=new Corpus(serial.options);return corpus.filename=serial.filename||null,corpus._meta=serial.meta,corpus._labeler=Labeler.deserialize(corpus,serial.labeler),corpus._sentences=serial.sentences.map(s=>{const sent=new Sentence(s,_.defaults(s.options,serial.options));return sent._meta=s.meta,_.each(corpus._labeler._labels,(label,name)=>{corpus._labeler.sentenceHasLabel(sent,name)&&label._sents.add(sent)}),sent}),corpus.index=serial.index,corpus}get sentence(){return this.index<0?null:this._sentences[this.index]}get filtered(){return this._labeler._filter.size?this._sentences.filter(sent=>this._labeler.sentenceInFilter(sent)):[]}get index(){return this._index}set index(index){const filtered=this.filtered,total=filtered.length||this.length;return index=parseInt(index),isNaN(index)?index=filtered.length?this._filterIndex:this.index:index<0&&total?index=0:index>total-1&&(index=total-1),filtered.length?(this._filterIndex=index,this._index=filtered[index]._index):(this._filterIndex=-1,this._index=index),this.index}reindex(){this._sentences.forEach((sent,i)=>{sent._index=i})}first(){return this.index=this.length?0:-1,this}prev(){if(!this.length)return null;let index=this.filtered.length?this._filterIndex:this._index;return 0===index?null:(this.index=--index,this)}next(){if(!this.length)return null;const filtered=this.filtered;let index=filtered.length?this._filterIndex:this._index;return index===(filtered.length?filtered.length-1:this._length-1)?null:(this.index=++index,this)}last(){const filtered=this.filtered;return this.index=filtered.length?filtered.length-1:this.length-1,this}getSentence(index){return null==index&&(index=this.index),0>index||index>this.length-1?null:this._sentences[index]||null}setSentence(index,text){if(null==text&&(text=index||"",index=this.index),index=parseInt(index),isNaN(index)||null===this.getSentence(index))throw new NxError(`cannot set sentence at index ${index}`);this._labeler.onRemove(this.getSentence(index));const sent=new Sentence(text,this.options);return sent.corpus=this,this._sentences[index]=sent,this._labeler.onAdd(sent),this.reindex(),sent}insertSentence(index,text){if(null==text&&(text=index||"",index=this.index+1),index=parseFloat(index),isNaN(index))throw new NxError(`cannot insert sentence at index ${index}`);index=index<0?0:index>this.length?this.length:parseInt(index);const sent=new Sentence(text,this.options);return sent.corpus=this,this._sentences=this._sentences.slice(0,index).concat(sent).concat(this._sentences.slice(index)),this._labeler.onAdd(sent),this.index=index,this.reindex(),sent}removeSentence(index){if(!this.length)return null;if(void 0===index&&(index=this.index),index=parseFloat(index),isNaN(index))throw new NxError(`cannot remove sentence at index ${index}`);index=index<0?0:index>this.length-1?this.length-1:parseInt(index);const removed=this._sentences.splice(index,1)[0];return this.length||this.insertSentence(),this._labeler.onRemove(removed),index<=this.index&&this.index--,this.reindex(),removed}pushSentence(text){return this.insertSentence(1/0,text)}popSentence(text){return this.removeSentence(1/0)}parse(string){const splitted=split(string,this.options),index=this.index||0;return splitted.forEach((split,i)=>{this.insertSentence(index+i,split,!1)}),this}static fromString(string,options){const corpus=new Corpus(options);return corpus.parse(string),corpus}readFile(filepath,next){fs.exists(filepath,exists=>{if(!exists)throw new NxError(`cannot read file: cannot find path ${filepath}`);const chunks=[];readStream.on("data",function(chunk){chunks.push(chunk)}),readStream.on("end",function(){let data=Buffer.concat(chunks).toString();this.parse(data),this.sources.push(filepath),this.filename=path.basename(filepath)})})}static fromFile(filepath,options,next){return void 0===next&&(next=options,options={}),new Corpus(options).readFile(filepath,next),this}writeFile(format,filepath){filepath=this.getWritePath(filepath);const contents=this.serialize();return fs.writeFile(filepath,contents,err=>{if(err)throw err}),this}getWritePath(filepath){if(filepath)return filepath;return(this.sources.slice(-1)[0]||"export")+".nxcorpus"}}module.exports=Corpus}).call(this,require("buffer").Buffer)},{"../converter":407,"../detector":408,"../generator":462,"../parser":478,"../splitter":479,"../utils":483,"./base-class":465,"./labeler":471,"./sentence":474,buffer:47,fs:46,path:487,underscore:504,"uuid/v4":507}],469:[function(require,module,exports){module.exports={NxBaseClass:require("./base-class"),Corpus:require("./corpus"),Labeler:require("./labeler"),Sentence:require("./sentence"),Comment:require("./comment"),BaseToken:require("./base-token"),RootToken:require("./root-token"),Token:require("./token"),Analysis:require("./analysis"),SubToken:require("./sub-token"),RelationSet:require("./relation-set")}},{"./analysis":464,"./base-class":465,"./base-token":466,"./comment":467,"./corpus":468,"./labeler":471,"./relation-set":472,"./root-token":473,"./sentence":474,"./sub-token":475,"./token":476}],470:[function(require,module,exports){"use strict";require("underscore");const utils=require("../utils"),NxBaseClass=require("./base-class");class Label extends NxBaseClass{constructor(name){super("Label"),this.name=name,this.bColor=utils.hashStringToHex(name),this.tColor=utils.getContrastingColor(this.bColor),this.desc=""}serialize(){return{name:this.name,desc:this.desc,bColor:this.bColor,tColor:this.tColor}}static deserialize(serial){const label=new Label(serial.name);return label.desc=serial.desc,label.bColor=serial.bColor,label.tColor=serial.tColor,label}}module.exports=Label},{"../utils":483,"./base-class":465,underscore:504}],471:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../utils"),NxBaseClass=require("./base-class"),Label=require("./label");class Labeler extends NxBaseClass{constructor(corpus){super("Labeler"),this.corpus=corpus,this._labels={},this._filter=new Set}sort(){const size=name=>this._labels[name]._sents.size;return Object.keys(this._labels).sort((x,y)=>size(x)<size(y)?1:size(x)>size(y)?-1:0).map(name=>({name:name,size:this._labels[name]._sents.size}))}serialize(){return{labels:_.map(this._labels,label=>label._label.serialize()),filter:Array.from(this._filter)}}static deserialize(corpus,serial){const labeler=new Labeler(corpus);return serial.labels.forEach(label=>labeler.addLabel(label.name)),serial._filter=new Set(...serial.filter),labeler}get(name){return this._labels[name]}count(name){return this._labels[name]?this._labels[name]._sents.size:0}sentenceHasLabel(sent,searching){let hasLabel=!1;return sent.comments.forEach(comment=>{"label"===comment.type&&comment.labels.forEach(name=>{name===searching&&(hasLabel=!0)})}),hasLabel}sentenceInFilter(sent){let inFilter=!1;return sent.comments.forEach(comment=>{"label"===comment.type&&comment.labels.forEach(name=>{this._filter.has(name)&&(inFilter=!0)})}),inFilter}addToFilter(name){if(this.get(name))return this._filter.add(name)}removeFromFilter(name){return this._filter.delete(name)}onAdd(sent){sent.comments.forEach(comment=>{"label"===comment.type&&comment.labels.forEach(name=>{this.addLabel(name,[sent])})})}onRemove(sent){sent.comments.forEach(comment=>{"label"===comment.type&&comment.labels.forEach(name=>{this.removeLabel(name,[sent])})})}addLabel(name,sents=[]){let label=this.get(name);return label?label._sents.add(...sents):(label={_label:new Label(name),_sents:new Set},this._labels[name]=label),sents.forEach(sent=>{sent.comments.forEach(comment=>{"label"===comment.type&&(comment.labels.push(name),label._sents.add(sent))})}),label}removeLabel(name,sents){const label=this.get(name);return!!label&&((sents||label._sents).forEach(sent=>{sent.comments.forEach(comment=>{if("label"===comment.type){const index=comment.labels.indexOf(oldName);comment.labels.splice(index,1)}})}),this.count(name)||delete this._labels[name],label)}changeLabelName(oldName,newName){if(this.get(newName))return!1;const oldLabel=this.removeLabel(oldName);if(!label)return!1;const newLabel=this.addLabel(newName,oldLabel._sents);return newLabel.desc=oldLabel.desc,newLabel.bColor=oldLabel.bColor,newLabel.tColor=oldLabel.tColor,newLabel}changeLabelColor(name,color){const label=this.get(name);if(!label)return!1;if(color){color=(color.match(utils.re.hexColorSixDigit)||[])[1];const int=parseInt(color,16);if(isNaN(int)||int<0||int>magic)return!1}else color=utils.getRandomHexColor();return label._label.bColor=color,label._label.tColor=utils.getContrastingColor(color),!0}changeLabelDesc(name,desc){const label=this.get(name);return!!label&&("string"==typeof desc&&(label._label.desc=desc,!0))}}module.exports=Labeler},{"../utils":483,"./base-class":465,"./label":470,underscore:504}],472:[function(require,module,exports){"use strict";require("underscore"),require("../utils");const NxBaseClass=require("./base-class");module.exports=class RelationSet extends NxBaseClass{constructor(token,partner){super("RelationSet"),this.token=token,this.partner=partner,this._items=[]}get length(){return this._items.length}get first(){return this._items[0]||null}map(callback){return this._items.map(callback)}has(token){let has=!1;return this.map(item=>{item.token===token&&(has=!0)}),has}add(token,deprel,origin=!0){return this.has(token)?(this.modify(token,deprel),!1):(this._items.push({token:token,deprel:deprel}),origin&&token[this.partner].add(this.token,deprel,!1),!0)}modify(token,deprel,origin=!0){if(!this.has(token))return!1;let ret;return this.map(item=>{item.token===token&&(ret=item.deprel!==deprel,item.deprel=deprel)}),origin&&token[this.partner].modify(this.token,deprel,!1),ret}remove(token,origin=!0){let at=-1;if(this.map((item,i)=>{item.token===token&&(at=i)}),-1===at)return null;const removed=this._items.splice(at,1)[0];return origin&&token[this.partner].remove(this.token),removed||null}clear(origin=!0){this.map(item=>{origin&&item.token[this.partner].remove(this.token)}),this._items=[]}}},{"../utils":483,"./base-class":465,underscore:504}],473:[function(require,module,exports){"use strict";require("underscore"),require("../utils");const BaseToken=require("./base-token");module.exports=class RootToken extends BaseToken{constructor(sent){super(sent,"RootToken"),this.form="ROOT",this.indices={absolute:0,conllu:0,cg3:0,cytoscape:0}}}},{"../utils":483,"./base-token":466,underscore:504}],474:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../utils"),NxError=utils.NxError,ToolError=utils.ToolError,parse=require("../parser"),generate=require("../generator"),NxBaseClass=require("./base-class"),Comment=require("./comment"),BaseToken=require("./base-token"),Token=require("./token"),RootToken=require("./root-token"),Analysis=(require("./update"),require("./analysis")),SubToken=require("./sub-token");module.exports=class Sentence extends NxBaseClass{constructor(serial,options){super("Sentence"),this._meta={},serial=serial||"",options=options||{},options=_.defaults(options,{interpretAs:null,addHeadOnModifyFailure:!0,depsShowDeprel:!0,showRootDeprel:!0,enhanced:!1,useTokenDeprel:!0,autoAddPunct:!0}),this.input=null==serial.input?serial:serial.input,this.isParsed=!1,this.Error=null;try{if(options.interpretAs)serial=parse.as[options.interpretAs](serial,options);else{if(0===(serial=parse(serial,options)).length)throw new NxError("Unable to parse: unrecognized format",this);if(1!==serial.length)throw new NxError(`Unable to parse: ambiguous format (${serial.join(", ")})`,this);if(!1===(serial=serial[0]).isParsed)throw new NxError("Cannot parse explicitly unparsed serial")}this.options=serial.options,this.root=new RootToken(this),this.comments=serial.comments.map(com=>new Comment(this,com)),this.tokens=serial.tokens.map(tok=>new Token(this,tok)),this.attach(),this.isParsed=!0}catch(e){if(!(e instanceof NxError||e instanceof ToolError))throw e;this.options=serial.options||options,this.comments=[],this.tokens=[],this.Error=e}}to(format,options){return generate[format](this,options)}serialize(master={}){return{meta:this._meta,input:this.input,isParsed:this.isParsed,options:utils.dedup(master,this.options),comments:this.isParsed?this.comments.map(com=>com.serialize()):[],tokens:this.isParsed?this.tokens.map(token=>token.serialize()):[]}}iterate(callback){for(let i=0;i<this.tokens.length;i++){const token=this.tokens[i];callback(token,i,null,null);for(let j=0;j<token._analyses.length;j++)for(let k=0;k<token._analyses[j]._subTokens.length;k++)callback(token._analyses[j]._subTokens[k],i,j,k)}}query(predicate){let matches=[];return this.iterate(token=>{predicate(token)&&matches.push(token)}),matches}index(){let absolute=0,majorToken=null,superToken=null,empty=0,conllu=0,cg3=0,cytoscape=-1;return this.iterate((token,i,j,k)=>{token.indices.sup=i,token.indices.ana=j,token.indices.sub=k,token.indices.absolute=++absolute,token._analyses&&token._analyses.length||(token.indices.cg3=++cg3),!token.isSuperToken&&superToken&&superToken.analysis===j&&(token.indices.cytoscape=++cytoscape),token.subTokens&&0===token.subTokens.length&&(token.indices.cytoscape=++cytoscape),null===j||null===k?(majorToken=token,superToken&&(superToken.token.indices.conllu=superToken.start+"-"+superToken.stop,superToken=null),token.subTokens.length?superToken={token:token,start:null,stop:null,analysis:token._i}:(token.isEmpty?empty+=1:(empty=0,conllu+=1),token.indices.conllu=empty?conllu+"."+empty:conllu)):(majorToken._i===j&&(token.isEmpty?empty+=1:(empty=0,conllu+=1),token.indices.conllu=empty?conllu+"."+empty:conllu),superToken&&(null===superToken.start?superToken.start=empty?conllu+"."+empty:conllu:superToken.stop=empty?conllu+"."+empty:conllu))}),superToken&&(superToken.token.indices.conllu=`${superToken.start}-${superToken.stop}`,superToken=null),this.size=absolute,this}attach(){return this.iterate(token=>{(token._heads||[]).forEach((dependency,i)=>{if(i&&(token.sent.options.enhanced=!0),"0"==dependency.index)token.addHead(token.sent.root,"root");else{const query=token.sent.query(token=>token.indices.serial===dependency.index);if(1!==query.length)throw new NxError(`cannot locate token with serial index "${dependency.index}"`);token.addHead(query[0],dependency.deprel)}}),delete token._heads}),this.index()}enhance(){return this.options.enhanced=!0,this.iterate(token=>{token._head&&token.addDep(token._head,token.deprel)}),this}unenhance(){return this.options.enhanced=!1,this}getSuperToken(token){let superToken=null;return this.iterate(tok=>{tok._analyses&&tok._analyses.forEach(ana=>{ana._subTokens&&ana._subTokens.forEach(sub=>{sub===token&&(superToken=tok)})})}),superToken}merge(src,tar){if(!(src instanceof BaseToken&&tar instanceof BaseToken))throw new NxError("unable to merge: src and tar must both be tokens");if(src.isSuperToken||tar.isSuperToken)throw new NxError("unable to merge: cannot merge superTokens");if("SubToken"===src.name||"SuperToken"===tar.name)throw new NxError("unable to merge: cannot merge subTokens");if(Math.abs(tar.indices.absolute-src.indices.absolute)>1)throw new NxError("unable to merge: tokens too far apart");return src.semicolon=src.semicolon||tar.semicolon,src.isEmpty=src.isEmpty||tar.isEmpty,src.form=(src.form||"")+(tar.form||"")||null,src.lemma=src.lemma||tar.lemma,src.upostag=src.upostag||tar.upostag,src.xpostag=src.xpostag||tar.xpostag,src._feats_init=src._feats_init||tar._feats_init,src._feats=src._feats_init?(src._feats||[]).concat(tar._feats||[]):void 0,src._misc_init=src._misc_init||tar._misc_init,src._misc=src._misc_init?(src._misc||[]).concat(tar._misc||[]):void 0,src.removeHead(tar),tar.removeHead(src),tar.mapDependents(dep=>{dep.token.removeHead(tar),dep.token.addHead(src,dep.deprel)}),tar.removeAllHeads(),this.tokens.splice(tar.indices.sup,1),this.index()}combine(src,tar){if(!(src instanceof BaseToken&&tar instanceof BaseToken))throw new NxError("unable to combine: src and tar must both be tokens");if(src.isSuperToken||tar.isSuperToken)throw new NxError("unable to combine: cannot combine superTokens");if("SubToken"===src.name||"SuperToken"===tar.name)throw new NxError("unable to combine: cannot combine subTokens");if(Math.abs(tar.indices.absolute-src.indices.absolute)>1)throw new NxError("unable to combine: tokens too far apart");let superToken=new Token(this,{});superToken._analyses=[new Analysis(this,{subTokens:[]})],superToken._i=0,superToken.form=(src.form||"")+(tar.form||"")||null;let _src=new SubToken(this,{});_src.semicolon=src.semicolon,_src.isEmpty=src.isEmpty,_src.form=src.form,_src.lemma=src.lemma,_src.upostag=src.upostag,_src.xpostag=src.xpostag,_src._feats_init=src._feats_init,_src._feats=_src._feats_init?src._feats.slice():void 0,_src._misc_init=src._misc_init,_src._misc=_src._misc_init?src._misc.slice():void 0;let _tar=new SubToken(this,{});return _tar.semicolon=tar.semicolon,_tar.isEmpty=tar.isEmpty,_tar.form=tar.form,_tar.lemma=tar.lemma,_tar.upostag=tar.upostag,_tar.xpostag=tar.xpostag,_tar._feats_init=tar._feats_init,_tar._feats=_tar._feats_init?tar._feats.slice():void 0,_tar._misc_init=tar._misc_init,_tar._misc=_tar._misc_init?tar._misc.slice():void 0,src.indices.absolute<tar.indices.absolute?superToken.analysis._subTokens.push(_src,_tar):superToken.analysis._subTokens.push(_tar,_src),src.removeHead(tar),tar.removeHead(src),src.mapHeads(head=>{src.removeHead(head.token),_src.addHead(head.token,head.deprel)}),src.mapDependents(dep=>{dep.token.removeHead(src),dep.token.addHead(_src,dep.deprel)}),tar.mapHeads(head=>{tar.removeHead(head.token),_tar.addHead(head.token,head.deprel)}),tar.mapDependents(dep=>{dep.token.removeHead(tar),dep.token.addHead(_tar,dep.deprel)}),this.tokens[src.indices.sup]=superToken,this.tokens.splice(tar.indices.sup,1),this.index()}split(src,splitAtIndex){if(!(src instanceof BaseToken))throw new NxError("unable to split: src must be a token");if(src.isSuperToken){const tokens=src.subTokens.map(subToken=>{let token=new Token(this,{});return token.semicolon=subToken.semicolon,token.isEmpty=subToken.isEmpty,token.form=subToken.form,token.lemma=subToken.lemma,token.upostag=subToken.upostag,token.xpostag=subToken.xpostag,token._feats_init=subToken._feats_init,token._feats=(subToken._feats||[]).slice(),token._misc_init=subToken._misc_init,token._misc=(subToken._misc||[]).slice(),subToken.mapHeads(head=>{subToken.removeHead(head.token),token.addHead(head.token,head.deprel)}),subToken.mapDependents(dep=>{dep.token.removeHead(subToken),dep.token.addHead(token,dep.deprel)}),token}),index=src.indices.sup;this.tokens.splice(index,1),this.tokens=this.tokens.slice(0,index).concat(tokens).concat(this.tokens.slice(index))}else if("SubToken"===src.name){if(splitAtIndex=parseInt(splitAtIndex),isNaN(splitAtIndex))throw new NxError(`unable to split: cannot split at index ${splitAtIndex}`);let subToken=new SubToken(this,{});const beginning=(src.form||"").slice(0,splitAtIndex)||"_",ending=(src.form||"").slice(splitAtIndex)||"_";src.form=beginning,subToken.form=ending;const superToken=this.getSuperToken(src),subTokens=superToken._analyses[src.indices.ana]._subTokens,index=src.indices.sub;superToken._analyses[src.indices.ana]._subTokens=subTokens.slice(0,index+1).concat(subToken).concat(subTokens.slice(index+1))}else{if(splitAtIndex=parseInt(splitAtIndex),isNaN(splitAtIndex))throw new NxError(`unable to split: cannot split at index ${splitAtIndex}`);let token=new Token(this,{});const beginning=(src.form||"").slice(0,splitAtIndex)||"_",ending=(src.form||"").slice(splitAtIndex)||"_";src.form=beginning,token.form=ending;const index=src.indices.sup;this.tokens=this.tokens.slice(0,index+1).concat(token).concat(this.tokens.slice(index+1))}return this.index()}}},{"../generator":462,"../parser":478,"../utils":483,"./analysis":464,"./base-class":465,"./base-token":466,"./comment":467,"./root-token":473,"./sub-token":475,"./token":476,"./update":477,underscore:504}],475:[function(require,module,exports){"use strict";require("underscore"),require("../utils");const BaseToken=require("./base-token");module.exports=class SubToken extends BaseToken{constructor(sent,serial){super(sent,"SubToken",serial)}}},{"../utils":483,"./base-token":466,underscore:504}],476:[function(require,module,exports){"use strict";require("underscore"),require("../utils");const BaseToken=require("./base-token"),Analysis=require("./analysis");module.exports=class Token extends BaseToken{constructor(sent,serial){super(sent,"Token",serial),this._analyses=(serial.analyses||[]).map(ana=>new Analysis(sent,ana)),this._i=this._analyses.length?0:null}get analysis(){return null===this._i?null:this._analyses[this._i]}get subTokens(){return this.analysis?this.analysis.subTokens:[]}}},{"../utils":483,"./analysis":464,"./base-token":466,underscore:504}],477:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("../utils"),formats=(utils.NxError,require("../formats")),detect=require("../detector");function getMatches(s,t,...fields){fields=_.flatten(fields);let s_unmatched=new Set(s.map(token=>`${token.indices.absolute}`)),t_unmatched=new Set(t.map(token=>`${token.indices.absolute}`)),rawDistances={};s.forEach(t1=>{const i1=t1.indices.absolute;rawDistances[i1]={},t.forEach(t2=>{const i2=t2.indices.absolute;rawDistances[i1][i2]=function getDistance(fields,t1,t2){fields=fields.filter(field=>void 0!==t1[field]);for(let dist=0;dist<fields.length;dist++){let match=!1;if(utils.combine(fields,fields.length-dist).forEach(comb=>{t1.hashFields(comb)===t2.hashFields(comb)&&(match=!0)}),match)return dist}return 1/0}(fields,t1,t2)})});let neighbors={};_.each(rawDistances,(targets,source)=>{neighbors[source]=[];let min=1/0;_.each(targets,distance=>{min=Math.min(distance,min)}),min<1/0&&_.each(targets,(distance,target)=>{distance===min&&neighbors[source].push(target)})});let matches=new Set;return _.each(neighbors,(neighbors,index)=>{1===neighbors.length&&(matches.add([`${index}`,`${neighbors[0]}`]),s_unmatched.delete(`${index}`),t_unmatched.delete(`${neighbors[0]}`))}),{matches:matches,s_unmatched:s_unmatched,t_unmatched:t_unmatched}}function updateMatches(s_key,t_key,matches,fields){matches.forEach(match=>{const s_token=s_key[match[0]],t_token=t_key[match[1]];fields.forEach(field=>{switch(field){case"analyses":if(void 0===s_token._analyses||void 0===t_token.analyses)break;let s_analyses=s_token._analyses.slice(),t_analyses=t_token._analyses.slice();for(let i=0;i<s_analyses.length;i++)matchAndUpdate(s_key,s_analyses[i]._subTokens,t_key,t_analyses[i]._subTokens,fields);break;case"subTokens":if(void 0===s_token._analyses||void 0===t_token.analyses)break;let s=s_token.subTokens.slice(),t=t_token.subTokens.slice();matchAndUpdate(s_key,s,t_key,t,fields);break;default:s_token[field]=t_token[field]}})})}function matchAndUpdate(s_key,s,t_key,t,fields){let m=getMatches(s,t,fields);if(updateMatches(s_key,t_key,m.matches,fields),m.s_unmatched.size||m.t_unmatched.size){let s=[],t=[];m.s_unmatched.forEach(i=>s.push(s_key[i])),m.t_unmatched.forEach(i=>t.push(t_key[i]));const m2=getMatches(s,t,fields,"indices");if(updateMatches(s_key,t_key,m2.matches,fields),m2.s_unmatched.size||m2.t_unmatched.size)throw new Error("unable to find match")}}module.exports=(original,update,options)=>{original.input,update.input;let format=detect(update.input,_.extend({requireOneFormat:!0},options));if((format=formats[format]).hasComments){for(;data.comments.new.unmatched.size;)throw new Error("not implemented")}let s_key={},s=[],t_key={},t=[];original.iterate(token=>{s_key[token.indices.absolute]=token,s.push(token)}),update.iterate(token=>{t_key[token.indices.absolute]=token,t.push(token)}),matchAndUpdate(s_key,s,t_key,t,format.fields)}},{"../detector":408,"../formats":434,"../utils":483,underscore:504}],478:[function(require,module,exports){"use strict";const _=require("underscore"),utils=require("./utils"),ParserError=utils.ParserError;let as={"apertium stream":require("./formats/apertium-stream").parse,apertiumStream:require("./formats/apertium-stream").parse,Brackets:require("./formats/brackets").parse,brackets:require("./formats/brackets").parse,CG3:require("./formats/cg3").parse,cg3:require("./formats/cg3").parse,"CoNLL-U":require("./formats/conllu").parse,conllu:require("./formats/conllu").parse,"notatrix serial":require("./formats/notatrix-serial").parse,notatrixSerial:require("./formats/notatrix-serial").parse,Params:require("./formats/params").parse,params:require("./formats/params").parse,"plain text":require("./formats/plain-text").parse,plainText:require("./formats/plain-text").parse,SD:require("./formats/sd").parse,sd:require("./formats/sd").parse};module.exports=(text,options)=>{options=_.defaults(options,{suppressDetectorErrors:!0,suppressParserErrors:!0,returnAllPossibilities:!0,requireOne:!1});const possibilities=utils.formats.map(format=>{try{return as[format](text,options)}catch(e){if(e instanceof ParserError&&options.suppressParserErrors)return;throw e}}).filter(utils.thin);if(!possibilities.length&&!options.suppressDetectorErrors)throw new ParserError("Unable to detect format",text,options);if(options.requireOne&&possibilities.length>1)throw new ParserError("Unable to detect, ambiguous input");return options.returnAllPossibilities?possibilities:possibilities[0]},module.exports.as=as},{"./formats/apertium-stream":412,"./formats/brackets":419,"./formats/cg3":425,"./formats/conllu":431,"./formats/notatrix-serial":439,"./formats/params":446,"./formats/plain-text":453,"./formats/sd":460,"./utils":483,underscore:504}],479:[function(require,module,exports){"use strict";require("underscore");const utils=require("./utils"),defaultSplitter=require("./formats/default-splitter"),detector=require("./detector");utils.SplitterError;let as={"apertium stream":require("./formats/apertium-stream").split,apertiumStream:require("./formats/apertium-stream").split,Brackets:require("./formats/brackets").split,brackets:require("./formats/brackets").split,CG3:require("./formats/cg3").split,cg3:require("./formats/cg3").split,"CoNLL-U":require("./formats/conllu").split,conllu:require("./formats/conllu").split,"notatrix serial":require("./formats/notatrix-serial").split,notatrixSerial:require("./formats/notatrix-serial").split,Params:require("./formats/params").split,params:require("./formats/params").split,"plain text":require("./formats/plain-text").split,plainText:require("./formats/plain-text").split,SD:require("./formats/sd").split,sd:require("./formats/sd").split};module.exports=(text,options)=>{let fromDefault=new Set;const splitAsDefault=defaultSplitter(text,options);splitAsDefault.forEach(line=>{detector(line,options).forEach(format=>fromDefault.add(format))});let fromPlainText=new Set;const splitAsPlainText=as.plainText(text,options);return splitAsPlainText.forEach(line=>{detector(line,options).forEach(format=>fromPlainText.add(format))}),1!==fromDefault.size&&1===fromPlainText.size&&fromPlainText.has("plain text")?splitAsPlainText:splitAsDefault},module.exports.as=as,module.exports.onNewlines=require("./formats/default-splitter")},{"./detector":408,"./formats/apertium-stream":412,"./formats/brackets":419,"./formats/cg3":425,"./formats/conllu":431,"./formats/default-splitter":433,"./formats/notatrix-serial":439,"./formats/params":446,"./formats/plain-text":453,"./formats/sd":460,"./utils":483,underscore:504}],480:[function(require,module,exports){"use strict";module.exports={fields:["index","form","lemma","upostag","xpostag","feats","head","deprel","deps","misc"],formats:["Brackets","CG3","CoNLL-U","notatrix serial","Params","plain text","SD"],nxSentenceFields:{input:"string",options:"object",comments:"array",tokens:"array"},nxSentenceTokensFields:{semicolon:"boolean",isEmpty:"boolean",index:"number",form:"string*",lemma:"string*",upostag:"string*",xpostag:"string*",feats:"array",heads:"array",analyses:"array"},nxAllOptions:{},fallback:"_",hexConstant:16777215}},{}],481:[function(require,module,exports){"use strict";class NotatrixError extends Error{}class ToolError extends NotatrixError{}module.exports={NotatrixError:NotatrixError,ToolError:ToolError,SplitterError:class SplitterError extends ToolError{constructor(message,text,options){super(message),this.name="SplitterError",this.text=text,this.options=options}},DetectorError:class DetectorError extends ToolError{constructor(message,text,options){super(message),this.name="DetectorError",this.text=text,this.options=options}},ParserError:class ParserError extends ToolError{constructor(message,text,options){super(message),this.name="ParserError",this.text=text,this.options=options}},GeneratorError:class GeneratorError extends ToolError{constructor(message,nx,options){super(message),this.name="GeneratorError",this.nx=nx,this.options=options}},ConverterError:class ConverterError extends ToolError{constructor(message){super(message),this.name="ConverterError"}},NxError:class NxError extends NotatrixError{constructor(...args){super(...args),this.name="NxError"}},DBError:class DBError extends NotatrixError{}}},{}],482:[function(require,module,exports){"use strict";const _=require("underscore"),constants=require("./constants"),re=require("./regex");function hexToRGB(hex){const match=hex.match(re.hexColor);if(match)return[parseInt(match[1],16),parseInt(match[2],16),parseInt(match[3],16)]}module.exports={isJSONSerializable:obj=>{if("string"==typeof obj)try{JSON.parse(obj)}catch(e){return!1}else try{JSON.stringify(obj)}catch(e){return!1}return!0},noop:arg=>arg,thin:arg=>arg||void 0,combine:function combine(arr,k){if(k>arr.length||k<=0)return[];if(k===arr.length)return[arr];if(1===k)return arr.map(e=>[e]);let combs=[];for(let i=0;i<arr.length-k+1;i++){const head=arr.slice(i,i+1);combine(arr.slice(i+1),k-1).forEach(tailComb=>{combs.push(head.concat(tailComb))})}return combs},guessDeprel:(dependent,head,context)=>void 0,dedup:(master,slave)=>{let dedup={};return _.each(slave,(value,key)=>{master[key]!==value&&(dedup[key]=value)}),dedup},hashStringToHex:string=>{let hash=0;for(let i=0;i<string.length;i++)hash=string.charCodeAt(i)+((hash<<5)-hash);let hex="";for(let i=0;i<3;i++){hex+=("00"+(hash>>8*i&255).toString(16)).substr(-2)}return hex},getRandomHexColor:()=>{let color="";do{color=Math.floor(Math.random()*constants.hexConstant).toString(16)}while(7!==color.length);return color},hexToRGB:hexToRGB,getContrastingColor:background=>{let color="ffffff";const rgb=hexToRGB(background);if(!rgb)return color;const[r,g,b]=rgb;return r**2+g**2+b**2>(255-r)**2+(255-g)**2+(255-b)**2&&(color="000000"),color}}},{"./constants":480,"./regex":484,underscore:504}],483:[function(require,module,exports){"use strict";const _=require("underscore"),constants=require("./constants"),errors=require("./errors"),funcs=require("./funcs"),regex=require("./regex");module.exports=_.extend({re:regex},errors,constants,funcs)},{"./constants":480,"./errors":481,"./funcs":482,"./regex":484,underscore:504}],484:[function(require,module,exports){module.exports={multiNewlines:/\n{2,}/g,punctuation:/[.,!?;]+/g,allPunctuation:/^[.,!?;]+$/,sentenceThenPunctuation:/([^.!?]*[.!?]*)/g,spaceBeforePunctuation:/\s+([.,!?;]+)/g,comment:/^(#\s*(.*))(\n|$)/,conlluTokenLine:/^((\d+(\.\d+)?)(\-(\d+(\.\d+)?))?)(.+)/,conlluTokenLineTenParams:/^((\d+(\.\d+)?)(\-(\d+(\.\d+)?))?)((\s+\S+){8,9})/,conlluEmptyIndex:/^(\d+)(\.\d+)?/,cg3TokenStart:/^["']<((.|\\")*)>["']/,cg3TokenContent:/^(;?)(\s+)"((.|\\")*)"((\s+[\w@#\->:=]+)*)/,cg3Dependency:/#?\d+(->\d*)?$/,cg3Head:/#\d+->(\d*)$/,cg3Index:/#(\d+)/,cg3Deprel:/\s@([\w:]*)/,cg3Other:/([^;].*(:.+)?)/,whitespace:/(\s+)/,whitespaceLine:/^(\s*)$/,whiteline:/^(\s*)(\n|$)/,sdDependency:/^\s*([\w.]+)\(([\w.]+),\s*([\w.]+)\)\s*$/,sdDependencyNoWhitespace:/^([\w.]+)\(([\w.]+),\s*([\w.]+)\)$/,fallback:/^_$/,commentLabel:/(\s*)(labels?|tags?)\s*=\s*(\w.*)/,commentSentId:/(\s*)sent.?id\s*=\s*(\w*)/i,hexColor:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,hexColorSixDigit:/^#?([a-f\d]{6})/i}},{}],485:[function(require,module,exports){exports.encode=function(obj){var str="";for(var i in obj)obj.hasOwnProperty(i)&&(str.length&&(str+="&"),str+=encodeURIComponent(i)+"="+encodeURIComponent(obj[i]));return str},exports.decode=function(qs){for(var qry={},pairs=qs.split("&"),i=0,l=pairs.length;i<l;i++){var pair=pairs[i].split("=");qry[decodeURIComponent(pair[0])]=decodeURIComponent(pair[1])}return qry}},{}],486:[function(require,module,exports){var re=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];module.exports=function parseuri(str){var src=str,b=str.indexOf("["),e=str.indexOf("]");-1!=b&&-1!=e&&(str=str.substring(0,b)+str.substring(b,e).replace(/:/g,";")+str.substring(e,str.length));for(var m=re.exec(str||""),uri={},i=14;i--;)uri[parts[i]]=m[i]||"";return-1!=b&&-1!=e&&(uri.source=src,uri.host=uri.host.substring(1,uri.host.length-1).replace(/;/g,":"),uri.authority=uri.authority.replace("[","").replace("]","").replace(/;/g,":"),uri.ipv6uri=!0),uri}},{}],487:[function(require,module,exports){(function(process){function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length-1;i>=0;i--){var last=parts[i];"."===last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}function filter(xs,f){if(xs.filter)return xs.filter(f);for(var res=[],i=0;i<xs.length;i++)f(xs[i],i,xs)&&res.push(xs[i]);return res}exports.resolve=function(){for(var resolvedPath="",resolvedAbsolute=!1,i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path.charAt(0))}return(resolvedAbsolute?"/":"")+(resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/"))||"."},exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash="/"===substr(path,-1);return(path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/"))||isAbsolute||(path="."),path&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},exports.isAbsolute=function(path){return"/"===path.charAt(0)},exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if("string"!=typeof p)throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},exports.relative=function(from,to){function trim(arr){for(var start=0;start<arr.length&&""===arr[start];start++);for(var end=arr.length-1;end>=0&&""===arr[end];end--);return start>end?[]:arr.slice(start,end-start+1)}from=exports.resolve(from).substr(1),to=exports.resolve(to).substr(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;i<length;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}var outputParts=[];for(i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return(outputParts=outputParts.concat(toParts.slice(samePartsLength))).join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(path){if("string"!=typeof path&&(path+=""),0===path.length)return".";for(var code=path.charCodeAt(0),hasRoot=47===code,end=-1,matchedSlash=!0,i=path.length-1;i>=1;--i)if(47===(code=path.charCodeAt(i))){if(!matchedSlash){end=i;break}}else matchedSlash=!1;return-1===end?hasRoot?"/":".":hasRoot&&1===end?"/":path.slice(0,end)},exports.basename=function(path,ext){var f=function basename(path){"string"!=typeof path&&(path+="");var i,start=0,end=-1,matchedSlash=!0;for(i=path.length-1;i>=0;--i)if(47===path.charCodeAt(i)){if(!matchedSlash){start=i+1;break}}else-1===end&&(matchedSlash=!1,end=i+1);return-1===end?"":path.slice(start,end)}(path);return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},exports.extname=function(path){"string"!=typeof path&&(path+="");for(var startDot=-1,startPart=0,end=-1,matchedSlash=!0,preDotState=0,i=path.length-1;i>=0;--i){var code=path.charCodeAt(i);if(47!==code)-1===end&&(matchedSlash=!1,end=i+1),46===code?-1===startDot?startDot=i:1!==preDotState&&(preDotState=1):-1!==startDot&&(preDotState=-1);else if(!matchedSlash){startPart=i+1;break}}return-1===startDot||-1===end||0===preDotState||1===preDotState&&startDot===end-1&&startDot===startPart+1?"":path.slice(startDot,end)};var substr="b"==="ab".substr(-1)?function(str,start,len){return str.substr(start,len)}:function(str,start,len){return start<0&&(start=str.length+start),str.substr(start,len)}}).call(this,require("_process"))},{_process:488}],488:[function(require,module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],489:[function(require,module,exports){var url=require("./url"),parser=require("socket.io-parser"),Manager=require("./manager"),debug=require("debug")("socket.io-client");module.exports=exports=lookup;var cache=exports.managers={};function lookup(uri,opts){"object"==typeof uri&&(opts=uri,uri=void 0),opts=opts||{};var io,parsed=url(uri),source=parsed.source,id=parsed.id,path=parsed.path,sameNamespace=cache[id]&&path in cache[id].nsps;return opts.forceNew||opts["force new connection"]||!1===opts.multiplex||sameNamespace?(debug("ignoring socket cache for %s",source),io=Manager(source,opts)):(cache[id]||(debug("new io instance for %s",source),cache[id]=Manager(source,opts)),io=cache[id]),parsed.query&&!opts.query&&(opts.query=parsed.query),io.socket(parsed.path,opts)}exports.protocol=parser.protocol,exports.connect=lookup,exports.Manager=require("./manager"),exports.Socket=require("./socket")},{"./manager":490,"./socket":492,"./url":493,debug:494,"socket.io-parser":497}],490:[function(require,module,exports){var eio=require("engine.io-client"),Socket=require("./socket"),Emitter=require("component-emitter"),parser=require("socket.io-parser"),on=require("./on"),bind=require("component-bind"),debug=require("debug")("socket.io-client:manager"),indexOf=require("indexof"),Backoff=require("backo2"),has=Object.prototype.hasOwnProperty;function Manager(uri,opts){if(!(this instanceof Manager))return new Manager(uri,opts);uri&&"object"==typeof uri&&(opts=uri,uri=void 0),(opts=opts||{}).path=opts.path||"/socket.io",this.nsps={},this.subs=[],this.opts=opts,this.reconnection(!1!==opts.reconnection),this.reconnectionAttempts(opts.reconnectionAttempts||1/0),this.reconnectionDelay(opts.reconnectionDelay||1e3),this.reconnectionDelayMax(opts.reconnectionDelayMax||5e3),this.randomizationFactor(opts.randomizationFactor||.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==opts.timeout?2e4:opts.timeout),this.readyState="closed",this.uri=uri,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var _parser=opts.parser||parser;this.encoder=new _parser.Encoder,this.decoder=new _parser.Decoder,this.autoConnect=!1!==opts.autoConnect,this.autoConnect&&this.open()}module.exports=Manager,Manager.prototype.emitAll=function(){for(var nsp in this.emit.apply(this,arguments),this.nsps)has.call(this.nsps,nsp)&&this.nsps[nsp].emit.apply(this.nsps[nsp],arguments)},Manager.prototype.updateSocketIds=function(){for(var nsp in this.nsps)has.call(this.nsps,nsp)&&(this.nsps[nsp].id=this.generateId(nsp))},Manager.prototype.generateId=function(nsp){return("/"===nsp?"":nsp+"#")+this.engine.id},Emitter(Manager.prototype),Manager.prototype.reconnection=function(v){return arguments.length?(this._reconnection=!!v,this):this._reconnection},Manager.prototype.reconnectionAttempts=function(v){return arguments.length?(this._reconnectionAttempts=v,this):this._reconnectionAttempts},Manager.prototype.reconnectionDelay=function(v){return arguments.length?(this._reconnectionDelay=v,this.backoff&&this.backoff.setMin(v),this):this._reconnectionDelay},Manager.prototype.randomizationFactor=function(v){return arguments.length?(this._randomizationFactor=v,this.backoff&&this.backoff.setJitter(v),this):this._randomizationFactor},Manager.prototype.reconnectionDelayMax=function(v){return arguments.length?(this._reconnectionDelayMax=v,this.backoff&&this.backoff.setMax(v),this):this._reconnectionDelayMax},Manager.prototype.timeout=function(v){return arguments.length?(this._timeout=v,this):this._timeout},Manager.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},Manager.prototype.open=Manager.prototype.connect=function(fn,opts){if(debug("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;debug("opening %s",this.uri),this.engine=eio(this.uri,this.opts);var socket=this.engine,self=this;this.readyState="opening",this.skipReconnect=!1;var openSub=on(socket,"open",function(){self.onopen(),fn&&fn()}),errorSub=on(socket,"error",function(data){if(debug("connect_error"),self.cleanup(),self.readyState="closed",self.emitAll("connect_error",data),fn){var err=new Error("Connection error");err.data=data,fn(err)}else self.maybeReconnectOnOpen()});if(!1!==this._timeout){var timeout=this._timeout;debug("connect attempt will timeout after %d",timeout);var timer=setTimeout(function(){debug("connect attempt timed out after %d",timeout),openSub.destroy(),socket.close(),socket.emit("error","timeout"),self.emitAll("connect_timeout",timeout)},timeout);this.subs.push({destroy:function(){clearTimeout(timer)}})}return this.subs.push(openSub),this.subs.push(errorSub),this},Manager.prototype.onopen=function(){debug("open"),this.cleanup(),this.readyState="open",this.emit("open");var socket=this.engine;this.subs.push(on(socket,"data",bind(this,"ondata"))),this.subs.push(on(socket,"ping",bind(this,"onping"))),this.subs.push(on(socket,"pong",bind(this,"onpong"))),this.subs.push(on(socket,"error",bind(this,"onerror"))),this.subs.push(on(socket,"close",bind(this,"onclose"))),this.subs.push(on(this.decoder,"decoded",bind(this,"ondecoded")))},Manager.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},Manager.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},Manager.prototype.ondata=function(data){this.decoder.add(data)},Manager.prototype.ondecoded=function(packet){this.emit("packet",packet)},Manager.prototype.onerror=function(err){debug("error",err),this.emitAll("error",err)},Manager.prototype.socket=function(nsp,opts){var socket=this.nsps[nsp];if(!socket){socket=new Socket(this,nsp,opts),this.nsps[nsp]=socket;var self=this;socket.on("connecting",onConnecting),socket.on("connect",function(){socket.id=self.generateId(nsp)}),this.autoConnect&&onConnecting()}function onConnecting(){~indexOf(self.connecting,socket)||self.connecting.push(socket)}return socket},Manager.prototype.destroy=function(socket){var index=indexOf(this.connecting,socket);~index&&this.connecting.splice(index,1),this.connecting.length||this.close()},Manager.prototype.packet=function(packet){debug("writing packet %j",packet);var self=this;packet.query&&0===packet.type&&(packet.nsp+="?"+packet.query),self.encoding?self.packetBuffer.push(packet):(self.encoding=!0,this.encoder.encode(packet,function(encodedPackets){for(var i=0;i<encodedPackets.length;i++)self.engine.write(encodedPackets[i],packet.options);self.encoding=!1,self.processPacketQueue()}))},Manager.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var pack=this.packetBuffer.shift();this.packet(pack)}},Manager.prototype.cleanup=function(){debug("cleanup");for(var subsLength=this.subs.length,i=0;i<subsLength;i++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},Manager.prototype.close=Manager.prototype.disconnect=function(){debug("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},Manager.prototype.onclose=function(reason){debug("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",reason),this._reconnection&&!this.skipReconnect&&this.reconnect()},Manager.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var self=this;if(this.backoff.attempts>=this._reconnectionAttempts)debug("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var delay=this.backoff.duration();debug("will wait %dms before reconnect attempt",delay),this.reconnecting=!0;var timer=setTimeout(function(){self.skipReconnect||(debug("attempting reconnect"),self.emitAll("reconnect_attempt",self.backoff.attempts),self.emitAll("reconnecting",self.backoff.attempts),self.skipReconnect||self.open(function(err){err?(debug("reconnect attempt error"),self.reconnecting=!1,self.reconnect(),self.emitAll("reconnect_error",err.data)):(debug("reconnect success"),self.onreconnect())}))},delay);this.subs.push({destroy:function(){clearTimeout(timer)}})}},Manager.prototype.onreconnect=function(){var attempt=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",attempt)}},{"./on":491,"./socket":492,backo2:41,"component-bind":49,"component-emitter":50,debug:494,"engine.io-client":376,indexof:394,"socket.io-parser":497}],491:[function(require,module,exports){module.exports=function on(obj,ev,fn){return obj.on(ev,fn),{destroy:function(){obj.removeListener(ev,fn)}}}},{}],492:[function(require,module,exports){var parser=require("socket.io-parser"),Emitter=require("component-emitter"),toArray=require("to-array"),on=require("./on"),bind=require("component-bind"),debug=require("debug")("socket.io-client:socket"),parseqs=require("parseqs"),hasBin=require("has-binary2");module.exports=Socket;var events={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},emit=Emitter.prototype.emit;function Socket(io,nsp,opts){this.io=io,this.nsp=nsp,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},opts&&opts.query&&(this.query=opts.query),this.io.autoConnect&&this.open()}Emitter(Socket.prototype),Socket.prototype.subEvents=function(){if(!this.subs){var io=this.io;this.subs=[on(io,"open",bind(this,"onopen")),on(io,"packet",bind(this,"onpacket")),on(io,"close",bind(this,"onclose"))]}},Socket.prototype.open=Socket.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},Socket.prototype.send=function(){var args=toArray(arguments);return args.unshift("message"),this.emit.apply(this,args),this},Socket.prototype.emit=function(ev){if(events.hasOwnProperty(ev))return emit.apply(this,arguments),this;var args=toArray(arguments),packet={type:(void 0!==this.flags.binary?this.flags.binary:hasBin(args))?parser.BINARY_EVENT:parser.EVENT,data:args,options:{}};return packet.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof args[args.length-1]&&(debug("emitting packet with ack id %d",this.ids),this.acks[this.ids]=args.pop(),packet.id=this.ids++),this.connected?this.packet(packet):this.sendBuffer.push(packet),this.flags={},this},Socket.prototype.packet=function(packet){packet.nsp=this.nsp,this.io.packet(packet)},Socket.prototype.onopen=function(){if(debug("transport is open - connecting"),"/"!==this.nsp)if(this.query){var query="object"==typeof this.query?parseqs.encode(this.query):this.query;debug("sending connect packet with query %s",query),this.packet({type:parser.CONNECT,query:query})}else this.packet({type:parser.CONNECT})},Socket.prototype.onclose=function(reason){debug("close (%s)",reason),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",reason)},Socket.prototype.onpacket=function(packet){var sameNamespace=packet.nsp===this.nsp,rootNamespaceError=packet.type===parser.ERROR&&"/"===packet.nsp;if(sameNamespace||rootNamespaceError)switch(packet.type){case parser.CONNECT:this.onconnect();break;case parser.EVENT:case parser.BINARY_EVENT:this.onevent(packet);break;case parser.ACK:case parser.BINARY_ACK:this.onack(packet);break;case parser.DISCONNECT:this.ondisconnect();break;case parser.ERROR:this.emit("error",packet.data)}},Socket.prototype.onevent=function(packet){var args=packet.data||[];debug("emitting event %j",args),null!=packet.id&&(debug("attaching ack callback to event"),args.push(this.ack(packet.id))),this.connected?emit.apply(this,args):this.receiveBuffer.push(args)},Socket.prototype.ack=function(id){var self=this,sent=!1;return function(){if(!sent){sent=!0;var args=toArray(arguments);debug("sending ack %j",args),self.packet({type:hasBin(args)?parser.BINARY_ACK:parser.ACK,id:id,data:args})}}},Socket.prototype.onack=function(packet){var ack=this.acks[packet.id];"function"==typeof ack?(debug("calling ack %s with %j",packet.id,packet.data),ack.apply(this,packet.data),delete this.acks[packet.id]):debug("bad ack %s",packet.id)},Socket.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},Socket.prototype.emitBuffered=function(){var i;for(i=0;i<this.receiveBuffer.length;i++)emit.apply(this,this.receiveBuffer[i]);for(this.receiveBuffer=[],i=0;i<this.sendBuffer.length;i++)this.packet(this.sendBuffer[i]);this.sendBuffer=[]},Socket.prototype.ondisconnect=function(){debug("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},Socket.prototype.destroy=function(){if(this.subs){for(var i=0;i<this.subs.length;i++)this.subs[i].destroy();this.subs=null}this.io.destroy(this)},Socket.prototype.close=Socket.prototype.disconnect=function(){return this.connected&&(debug("performing disconnect (%s)",this.nsp),this.packet({type:parser.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},Socket.prototype.compress=function(compress){return this.flags.compress=compress,this},Socket.prototype.binary=function(binary){return this.flags.binary=binary,this}},{"./on":491,"component-bind":49,"component-emitter":50,debug:494,"has-binary2":390,parseqs:485,"socket.io-parser":497,"to-array":503}],493:[function(require,module,exports){var parseuri=require("parseuri"),debug=require("debug")("socket.io-client:url");module.exports=function url(uri,loc){var obj=uri;loc=loc||"undefined"!=typeof location&&location,null==uri&&(uri=loc.protocol+"//"+loc.host);"string"==typeof uri&&("/"===uri.charAt(0)&&(uri="/"===uri.charAt(1)?loc.protocol+uri:loc.host+uri),/^(https?|wss?):\/\//.test(uri)||(debug("protocol-less url %s",uri),uri=void 0!==loc?loc.protocol+"//"+uri:"https://"+uri),debug("parse %s",uri),obj=parseuri(uri));obj.port||(/^(http|ws)$/.test(obj.protocol)?obj.port="80":/^(http|ws)s$/.test(obj.protocol)&&(obj.port="443"));obj.path=obj.path||"/";var host=-1!==obj.host.indexOf(":")?"["+obj.host+"]":obj.host;return obj.id=obj.protocol+"://"+host+":"+obj.port,obj.href=obj.protocol+"://"+host+(loc&&loc.port===obj.port?"":":"+obj.port),obj}},{debug:494,parseuri:486}],494:[function(require,module,exports){(function(process){function load(){var r;try{r=exports.storage.debug}catch(e){}return!r&&void 0!==process&&"env"in process&&(r=process.env.DEBUG),r}(exports=module.exports=require("./debug")).log=function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},exports.formatArgs=function formatArgs(args){var useColors=this.useColors;if(args[0]=(useColors?"%c":"")+this.namespace+(useColors?" %c":" ")+args[0]+(useColors?"%c ":" ")+"+"+exports.humanize(this.diff),!useColors)return;var c="color: "+this.color;args.splice(1,0,c,"color: inherit");var index=0,lastC=0;args[0].replace(/%[a-zA-Z%]/g,function(match){"%%"!==match&&(index++,"%c"===match&&(lastC=index))}),args.splice(lastC,0,c)},exports.save=function save(namespaces){try{null==namespaces?exports.storage.removeItem("debug"):exports.storage.debug=namespaces}catch(e){}},exports.load=load,exports.useColors=function useColors(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},exports.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function localstorage(){try{return window.localStorage}catch(e){}}(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],exports.formatters.j=function(v){try{return JSON.stringify(v)}catch(err){return"[UnexpectedJSONParseError]: "+err.message}},exports.enable(load())}).call(this,require("_process"))},{"./debug":495,_process:488}],495:[function(require,module,exports){arguments[4][386][0].apply(exports,arguments)},{dup:386,ms:396}],496:[function(require,module,exports){var isArray=require("isarray"),isBuf=require("./is-buffer"),toString=Object.prototype.toString,withNativeBlob="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===toString.call(Blob),withNativeFile="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===toString.call(File);exports.deconstructPacket=function(packet){var buffers=[],packetData=packet.data,pack=packet;return pack.data=function _deconstructPacket(data,buffers){if(!data)return data;if(isBuf(data)){var placeholder={_placeholder:!0,num:buffers.length};return buffers.push(data),placeholder}if(isArray(data)){for(var newData=new Array(data.length),i=0;i<data.length;i++)newData[i]=_deconstructPacket(data[i],buffers);return newData}if("object"==typeof data&&!(data instanceof Date)){var newData={};for(var key in data)newData[key]=_deconstructPacket(data[key],buffers);return newData}return data}(packetData,buffers),pack.attachments=buffers.length,{packet:pack,buffers:buffers}},exports.reconstructPacket=function(packet,buffers){return packet.data=function _reconstructPacket(data,buffers){if(!data)return data;if(data&&data._placeholder)return buffers[data.num];if(isArray(data))for(var i=0;i<data.length;i++)data[i]=_reconstructPacket(data[i],buffers);else if("object"==typeof data)for(var key in data)data[key]=_reconstructPacket(data[key],buffers);return data}(packet.data,buffers),packet.attachments=void 0,packet},exports.removeBlobs=function(data,callback){var pendingBlobs=0,bloblessData=data;!function _removeBlobs(obj,curKey,containingObject){if(!obj)return obj;if(withNativeBlob&&obj instanceof Blob||withNativeFile&&obj instanceof File){pendingBlobs++;var fileReader=new FileReader;fileReader.onload=function(){containingObject?containingObject[curKey]=this.result:bloblessData=this.result,--pendingBlobs||callback(bloblessData)},fileReader.readAsArrayBuffer(obj)}else if(isArray(obj))for(var i=0;i<obj.length;i++)_removeBlobs(obj[i],i,obj);else if("object"==typeof obj&&!isBuf(obj))for(var key in obj)_removeBlobs(obj[key],key,obj)}(bloblessData),pendingBlobs||callback(bloblessData)}},{"./is-buffer":498,isarray:501}],497:[function(require,module,exports){var debug=require("debug")("socket.io-parser"),Emitter=require("component-emitter"),binary=require("./binary"),isArray=require("isarray"),isBuf=require("./is-buffer");function Encoder(){}exports.protocol=4,exports.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],exports.CONNECT=0,exports.DISCONNECT=1,exports.EVENT=2,exports.ACK=3,exports.ERROR=4,exports.BINARY_EVENT=5,exports.BINARY_ACK=6,exports.Encoder=Encoder,exports.Decoder=Decoder;var ERROR_PACKET=exports.ERROR+'"encode error"';function encodeAsString(obj){var str=""+obj.type;if(exports.BINARY_EVENT!==obj.type&&exports.BINARY_ACK!==obj.type||(str+=obj.attachments+"-"),obj.nsp&&"/"!==obj.nsp&&(str+=obj.nsp+","),null!=obj.id&&(str+=obj.id),null!=obj.data){var payload=function tryStringify(str){try{return JSON.stringify(str)}catch(e){return!1}}(obj.data);if(!1===payload)return ERROR_PACKET;str+=payload}return debug("encoded %j as %s",obj,str),str}function Decoder(){this.reconstructor=null}function BinaryReconstructor(packet){this.reconPack=packet,this.buffers=[]}function error(msg){return{type:exports.ERROR,data:"parser error: "+msg}}Encoder.prototype.encode=function(obj,callback){(debug("encoding packet %j",obj),exports.BINARY_EVENT===obj.type||exports.BINARY_ACK===obj.type)?function encodeAsBinary(obj,callback){binary.removeBlobs(obj,function writeEncoding(bloblessData){var deconstruction=binary.deconstructPacket(bloblessData),pack=encodeAsString(deconstruction.packet),buffers=deconstruction.buffers;buffers.unshift(pack),callback(buffers)})}(obj,callback):callback([encodeAsString(obj)])},Emitter(Decoder.prototype),Decoder.prototype.add=function(obj){var packet;if("string"==typeof obj)packet=function decodeString(str){var i=0,p={type:Number(str.charAt(0))};if(null==exports.types[p.type])return error("unknown packet type "+p.type);if(exports.BINARY_EVENT===p.type||exports.BINARY_ACK===p.type){for(var buf="";"-"!==str.charAt(++i)&&(buf+=str.charAt(i),i!=str.length););if(buf!=Number(buf)||"-"!==str.charAt(i))throw new Error("Illegal attachments");p.attachments=Number(buf)}if("/"===str.charAt(i+1))for(p.nsp="";++i;){var c=str.charAt(i);if(","===c)break;if(p.nsp+=c,i===str.length)break}else p.nsp="/";var next=str.charAt(i+1);if(""!==next&&Number(next)==next){for(p.id="";++i;){var c=str.charAt(i);if(null==c||Number(c)!=c){--i;break}if(p.id+=str.charAt(i),i===str.length)break}p.id=Number(p.id)}if(str.charAt(++i)){var payload=function tryParse(str){try{return JSON.parse(str)}catch(e){return!1}}(str.substr(i)),isPayloadValid=!1!==payload&&(p.type===exports.ERROR||isArray(payload));if(!isPayloadValid)return error("invalid payload");p.data=payload}return debug("decoded %s as %j",str,p),p}(obj),exports.BINARY_EVENT===packet.type||exports.BINARY_ACK===packet.type?(this.reconstructor=new BinaryReconstructor(packet),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",packet)):this.emit("decoded",packet);else{if(!isBuf(obj)&&!obj.base64)throw new Error("Unknown type: "+obj);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(packet=this.reconstructor.takeBinaryData(obj))&&(this.reconstructor=null,this.emit("decoded",packet))}},Decoder.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},BinaryReconstructor.prototype.takeBinaryData=function(binData){if(this.buffers.push(binData),this.buffers.length===this.reconPack.attachments){var packet=binary.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),packet}return null},BinaryReconstructor.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":496,"./is-buffer":498,"component-emitter":50,debug:499,isarray:501}],498:[function(require,module,exports){(function(Buffer){module.exports=function isBuf(obj){return withNativeBuffer&&Buffer.isBuffer(obj)||withNativeArrayBuffer&&(obj instanceof ArrayBuffer||isView(obj))};var withNativeBuffer="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,withNativeArrayBuffer="function"==typeof ArrayBuffer,isView=function(obj){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(obj):obj.buffer instanceof ArrayBuffer}}).call(this,require("buffer").Buffer)},{buffer:47}],499:[function(require,module,exports){(function(process){function load(){var r;try{r=exports.storage.debug}catch(e){}return!r&&void 0!==process&&"env"in process&&(r=process.env.DEBUG),r}(exports=module.exports=require("./debug")).log=function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},exports.formatArgs=function formatArgs(args){var useColors=this.useColors;if(args[0]=(useColors?"%c":"")+this.namespace+(useColors?" %c":" ")+args[0]+(useColors?"%c ":" ")+"+"+exports.humanize(this.diff),!useColors)return;var c="color: "+this.color;args.splice(1,0,c,"color: inherit");var index=0,lastC=0;args[0].replace(/%[a-zA-Z%]/g,function(match){"%%"!==match&&(index++,"%c"===match&&(lastC=index))}),args.splice(lastC,0,c)},exports.save=function save(namespaces){try{null==namespaces?exports.storage.removeItem("debug"):exports.storage.debug=namespaces}catch(e){}},exports.load=load,exports.useColors=function useColors(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},exports.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function localstorage(){try{return window.localStorage}catch(e){}}(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],exports.formatters.j=function(v){try{return JSON.stringify(v)}catch(err){return"[UnexpectedJSONParseError]: "+err.message}},exports.enable(load())}).call(this,require("_process"))},{"./debug":500,_process:488}],500:[function(require,module,exports){arguments[4][386][0].apply(exports,arguments)},{dup:386,ms:396}],501:[function(require,module,exports){arguments[4][391][0].apply(exports,arguments)},{dup:391}],502:[function(require,module,exports){(function(setImmediate,clearImmediate){var nextTick=require("process/browser.js").nextTick,apply=Function.prototype.apply,slice=Array.prototype.slice,immediateIds={},nextImmediateId=0;function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;msecs>=0&&(item._idleTimeoutId=setTimeout(function onTimeout(){item._onTimeout&&item._onTimeout()},msecs))},exports.setImmediate="function"==typeof setImmediate?setImmediate:function(fn){var id=nextImmediateId++,args=!(arguments.length<2)&&slice.call(arguments,1);return immediateIds[id]=!0,nextTick(function onNextTick(){immediateIds[id]&&(args?fn.apply(null,args):fn.call(null),exports.clearImmediate(id))}),id},exports.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(id){delete immediateIds[id]}}).call(this,require("timers").setImmediate,require("timers").clearImmediate)},{"process/browser.js":488,timers:502}],503:[function(require,module,exports){module.exports=function toArray(list,index){for(var array=[],i=(index=index||0)||0;i<list.length;i++)array[i-index]=list[i];return array}},{}],504:[function(require,module,exports){(function(global){!function(){var root="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},previousUnderscore=root._,ArrayProto=Array.prototype,ObjProto=Object.prototype,SymbolProto="undefined"!=typeof Symbol?Symbol.prototype:null,push=ArrayProto.push,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeCreate=Object.create,Ctor=function(){},_=function(obj){return obj instanceof _?obj:this instanceof _?void(this._wrapped=obj):new _(obj)};void 0===exports||exports.nodeType?root._=_:(void 0!==module&&!module.nodeType&&module.exports&&(exports=module.exports=_),exports._=_),_.VERSION="1.9.1";var builtinIteratee,optimizeCb=function(func,context,argCount){if(void 0===context)return func;switch(null==argCount?3:argCount){case 1:return function(value){return func.call(context,value)};case 3:return function(value,index,collection){return func.call(context,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(context,accumulator,value,index,collection)}}return function(){return func.apply(context,arguments)}},cb=function(value,context,argCount){return _.iteratee!==builtinIteratee?_.iteratee(value,context):null==value?_.identity:_.isFunction(value)?optimizeCb(value,context,argCount):_.isObject(value)&&!_.isArray(value)?_.matcher(value):_.property(value)};_.iteratee=builtinIteratee=function(value,context){return cb(value,context,1/0)};var restArguments=function(func,startIndex){return startIndex=null==startIndex?func.length-1:+startIndex,function(){for(var length=Math.max(arguments.length-startIndex,0),rest=Array(length),index=0;index<length;index++)rest[index]=arguments[index+startIndex];switch(startIndex){case 0:return func.call(this,rest);case 1:return func.call(this,arguments[0],rest);case 2:return func.call(this,arguments[0],arguments[1],rest)}var args=Array(startIndex+1);for(index=0;index<startIndex;index++)args[index]=arguments[index];return args[startIndex]=rest,func.apply(this,args)}},baseCreate=function(prototype){if(!_.isObject(prototype))return{};if(nativeCreate)return nativeCreate(prototype);Ctor.prototype=prototype;var result=new Ctor;return Ctor.prototype=null,result},shallowProperty=function(key){return function(obj){return null==obj?void 0:obj[key]}},has=function(obj,path){return null!=obj&&hasOwnProperty.call(obj,path)},deepGet=function(obj,path){for(var length=path.length,i=0;i<length;i++){if(null==obj)return;obj=obj[path[i]]}return length?obj:void 0},MAX_ARRAY_INDEX=Math.pow(2,53)-1,getLength=shallowProperty("length"),isArrayLike=function(collection){var length=getLength(collection);return"number"==typeof length&&length>=0&&length<=MAX_ARRAY_INDEX};_.each=_.forEach=function(obj,iteratee,context){var i,length;if(iteratee=optimizeCb(iteratee,context),isArrayLike(obj))for(i=0,length=obj.length;i<length;i++)iteratee(obj[i],i,obj);else{var keys=_.keys(obj);for(i=0,length=keys.length;i<length;i++)iteratee(obj[keys[i]],keys[i],obj)}return obj},_.map=_.collect=function(obj,iteratee,context){iteratee=cb(iteratee,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,results=Array(length),index=0;index<length;index++){var currentKey=keys?keys[index]:index;results[index]=iteratee(obj[currentKey],currentKey,obj)}return results};var createReduce=function(dir){return function(obj,iteratee,memo,context){var initial=arguments.length>=3;return function(obj,iteratee,memo,initial){var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=dir>0?0:length-1;for(initial||(memo=obj[keys?keys[index]:index],index+=dir);index>=0&&index<length;index+=dir){var currentKey=keys?keys[index]:index;memo=iteratee(memo,obj[currentKey],currentKey,obj)}return memo}(obj,optimizeCb(iteratee,context,4),memo,initial)}};_.reduce=_.foldl=_.inject=createReduce(1),_.reduceRight=_.foldr=createReduce(-1),_.find=_.detect=function(obj,predicate,context){var key=(isArrayLike(obj)?_.findIndex:_.findKey)(obj,predicate,context);if(void 0!==key&&-1!==key)return obj[key]},_.filter=_.select=function(obj,predicate,context){var results=[];return predicate=cb(predicate,context),_.each(obj,function(value,index,list){predicate(value,index,list)&&results.push(value)}),results},_.reject=function(obj,predicate,context){return _.filter(obj,_.negate(cb(predicate)),context)},_.every=_.all=function(obj,predicate,context){predicate=cb(predicate,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=0;index<length;index++){var currentKey=keys?keys[index]:index;if(!predicate(obj[currentKey],currentKey,obj))return!1}return!0},_.some=_.any=function(obj,predicate,context){predicate=cb(predicate,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=0;index<length;index++){var currentKey=keys?keys[index]:index;if(predicate(obj[currentKey],currentKey,obj))return!0}return!1},_.contains=_.includes=_.include=function(obj,item,fromIndex,guard){return isArrayLike(obj)||(obj=_.values(obj)),("number"!=typeof fromIndex||guard)&&(fromIndex=0),_.indexOf(obj,item,fromIndex)>=0},_.invoke=restArguments(function(obj,path,args){var contextPath,func;return _.isFunction(path)?func=path:_.isArray(path)&&(contextPath=path.slice(0,-1),path=path[path.length-1]),_.map(obj,function(context){var method=func;if(!method){if(contextPath&&contextPath.length&&(context=deepGet(context,contextPath)),null==context)return;method=context[path]}return null==method?method:method.apply(context,args)})}),_.pluck=function(obj,key){return _.map(obj,_.property(key))},_.where=function(obj,attrs){return _.filter(obj,_.matcher(attrs))},_.findWhere=function(obj,attrs){return _.find(obj,_.matcher(attrs))},_.max=function(obj,iteratee,context){var value,computed,result=-1/0,lastComputed=-1/0;if(null==iteratee||"number"==typeof iteratee&&"object"!=typeof obj[0]&&null!=obj)for(var i=0,length=(obj=isArrayLike(obj)?obj:_.values(obj)).length;i<length;i++)null!=(value=obj[i])&&value>result&&(result=value);else iteratee=cb(iteratee,context),_.each(obj,function(v,index,list){((computed=iteratee(v,index,list))>lastComputed||computed===-1/0&&result===-1/0)&&(result=v,lastComputed=computed)});return result},_.min=function(obj,iteratee,context){var value,computed,result=1/0,lastComputed=1/0;if(null==iteratee||"number"==typeof iteratee&&"object"!=typeof obj[0]&&null!=obj)for(var i=0,length=(obj=isArrayLike(obj)?obj:_.values(obj)).length;i<length;i++)null!=(value=obj[i])&&value<result&&(result=value);else iteratee=cb(iteratee,context),_.each(obj,function(v,index,list){((computed=iteratee(v,index,list))<lastComputed||computed===1/0&&result===1/0)&&(result=v,lastComputed=computed)});return result},_.shuffle=function(obj){return _.sample(obj,1/0)},_.sample=function(obj,n,guard){if(null==n||guard)return isArrayLike(obj)||(obj=_.values(obj)),obj[_.random(obj.length-1)];var sample=isArrayLike(obj)?_.clone(obj):_.values(obj),length=getLength(sample);n=Math.max(Math.min(n,length),0);for(var last=length-1,index=0;index<n;index++){var rand=_.random(index,last),temp=sample[index];sample[index]=sample[rand],sample[rand]=temp}return sample.slice(0,n)},_.sortBy=function(obj,iteratee,context){var index=0;return iteratee=cb(iteratee,context),_.pluck(_.map(obj,function(value,key,list){return{value:value,index:index++,criteria:iteratee(value,key,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a!==b){if(a>b||void 0===a)return 1;if(a<b||void 0===b)return-1}return left.index-right.index}),"value")};var group=function(behavior,partition){return function(obj,iteratee,context){var result=partition?[[],[]]:{};return iteratee=cb(iteratee,context),_.each(obj,function(value,index){var key=iteratee(value,index,obj);behavior(result,value,key)}),result}};_.groupBy=group(function(result,value,key){has(result,key)?result[key].push(value):result[key]=[value]}),_.indexBy=group(function(result,value,key){result[key]=value}),_.countBy=group(function(result,value,key){has(result,key)?result[key]++:result[key]=1});var reStrSymbol=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;_.toArray=function(obj){return obj?_.isArray(obj)?slice.call(obj):_.isString(obj)?obj.match(reStrSymbol):isArrayLike(obj)?_.map(obj,_.identity):_.values(obj):[]},_.size=function(obj){return null==obj?0:isArrayLike(obj)?obj.length:_.keys(obj).length},_.partition=group(function(result,value,pass){result[pass?0:1].push(value)},!0),_.first=_.head=_.take=function(array,n,guard){return null==array||array.length<1?null==n?void 0:[]:null==n||guard?array[0]:_.initial(array,array.length-n)},_.initial=function(array,n,guard){return slice.call(array,0,Math.max(0,array.length-(null==n||guard?1:n)))},_.last=function(array,n,guard){return null==array||array.length<1?null==n?void 0:[]:null==n||guard?array[array.length-1]:_.rest(array,Math.max(0,array.length-n))},_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,null==n||guard?1:n)},_.compact=function(array){return _.filter(array,Boolean)};var flatten=function(input,shallow,strict,output){for(var idx=(output=output||[]).length,i=0,length=getLength(input);i<length;i++){var value=input[i];if(isArrayLike(value)&&(_.isArray(value)||_.isArguments(value)))if(shallow)for(var j=0,len=value.length;j<len;)output[idx++]=value[j++];else flatten(value,shallow,strict,output),idx=output.length;else strict||(output[idx++]=value)}return output};_.flatten=function(array,shallow){return flatten(array,shallow,!1)},_.without=restArguments(function(array,otherArrays){return _.difference(array,otherArrays)}),_.uniq=_.unique=function(array,isSorted,iteratee,context){_.isBoolean(isSorted)||(context=iteratee,iteratee=isSorted,isSorted=!1),null!=iteratee&&(iteratee=cb(iteratee,context));for(var result=[],seen=[],i=0,length=getLength(array);i<length;i++){var value=array[i],computed=iteratee?iteratee(value,i,array):value;isSorted&&!iteratee?(i&&seen===computed||result.push(value),seen=computed):iteratee?_.contains(seen,computed)||(seen.push(computed),result.push(value)):_.contains(result,value)||result.push(value)}return result},_.union=restArguments(function(arrays){return _.uniq(flatten(arrays,!0,!0))}),_.intersection=function(array){for(var result=[],argsLength=arguments.length,i=0,length=getLength(array);i<length;i++){var item=array[i];if(!_.contains(result,item)){var j;for(j=1;j<argsLength&&_.contains(arguments[j],item);j++);j===argsLength&&result.push(item)}}return result},_.difference=restArguments(function(array,rest){return rest=flatten(rest,!0,!0),_.filter(array,function(value){return!_.contains(rest,value)})}),_.unzip=function(array){for(var length=array&&_.max(array,getLength).length||0,result=Array(length),index=0;index<length;index++)result[index]=_.pluck(array,index);return result},_.zip=restArguments(_.unzip),_.object=function(list,values){for(var result={},i=0,length=getLength(list);i<length;i++)values?result[list[i]]=values[i]:result[list[i][0]]=list[i][1];return result};var createPredicateIndexFinder=function(dir){return function(array,predicate,context){predicate=cb(predicate,context);for(var length=getLength(array),index=dir>0?0:length-1;index>=0&&index<length;index+=dir)if(predicate(array[index],index,array))return index;return-1}};_.findIndex=createPredicateIndexFinder(1),_.findLastIndex=createPredicateIndexFinder(-1),_.sortedIndex=function(array,obj,iteratee,context){for(var value=(iteratee=cb(iteratee,context,1))(obj),low=0,high=getLength(array);low<high;){var mid=Math.floor((low+high)/2);iteratee(array[mid])<value?low=mid+1:high=mid}return low};var createIndexFinder=function(dir,predicateFind,sortedIndex){return function(array,item,idx){var i=0,length=getLength(array);if("number"==typeof idx)dir>0?i=idx>=0?idx:Math.max(idx+length,i):length=idx>=0?Math.min(idx+1,length):idx+length+1;else if(sortedIndex&&idx&&length)return array[idx=sortedIndex(array,item)]===item?idx:-1;if(item!=item)return(idx=predicateFind(slice.call(array,i,length),_.isNaN))>=0?idx+i:-1;for(idx=dir>0?i:length-1;idx>=0&&idx<length;idx+=dir)if(array[idx]===item)return idx;return-1}};_.indexOf=createIndexFinder(1,_.findIndex,_.sortedIndex),_.lastIndexOf=createIndexFinder(-1,_.findLastIndex),_.range=function(start,stop,step){null==stop&&(stop=start||0,start=0),step||(step=stop<start?-1:1);for(var length=Math.max(Math.ceil((stop-start)/step),0),range=Array(length),idx=0;idx<length;idx++,start+=step)range[idx]=start;return range},_.chunk=function(array,count){if(null==count||count<1)return[];for(var result=[],i=0,length=array.length;i<length;)result.push(slice.call(array,i,i+=count));return result};var executeBound=function(sourceFunc,boundFunc,context,callingContext,args){if(!(callingContext instanceof boundFunc))return sourceFunc.apply(context,args);var self=baseCreate(sourceFunc.prototype),result=sourceFunc.apply(self,args);return _.isObject(result)?result:self};_.bind=restArguments(function(func,context,args){if(!_.isFunction(func))throw new TypeError("Bind must be called on a function");var bound=restArguments(function(callArgs){return executeBound(func,bound,context,this,args.concat(callArgs))});return bound}),_.partial=restArguments(function(func,boundArgs){var placeholder=_.partial.placeholder,bound=function(){for(var position=0,length=boundArgs.length,args=Array(length),i=0;i<length;i++)args[i]=boundArgs[i]===placeholder?arguments[position++]:boundArgs[i];for(;position<arguments.length;)args.push(arguments[position++]);return executeBound(func,bound,this,this,args)};return bound}),_.partial.placeholder=_,_.bindAll=restArguments(function(obj,keys){var index=(keys=flatten(keys,!1,!1)).length;if(index<1)throw new Error("bindAll must be passed function names");for(;index--;){var key=keys[index];obj[key]=_.bind(obj[key],obj)}}),_.memoize=function(func,hasher){var memoize=function(key){var cache=memoize.cache,address=""+(hasher?hasher.apply(this,arguments):key);return has(cache,address)||(cache[address]=func.apply(this,arguments)),cache[address]};return memoize.cache={},memoize},_.delay=restArguments(function(func,wait,args){return setTimeout(function(){return func.apply(null,args)},wait)}),_.defer=_.partial(_.delay,_,1),_.throttle=function(func,wait,options){var timeout,context,args,result,previous=0;options||(options={});var later=function(){previous=!1===options.leading?0:_.now(),timeout=null,result=func.apply(context,args),timeout||(context=args=null)},throttled=function(){var now=_.now();previous||!1!==options.leading||(previous=now);var remaining=wait-(now-previous);return context=this,args=arguments,remaining<=0||remaining>wait?(timeout&&(clearTimeout(timeout),timeout=null),previous=now,result=func.apply(context,args),timeout||(context=args=null)):timeout||!1===options.trailing||(timeout=setTimeout(later,remaining)),result};return throttled.cancel=function(){clearTimeout(timeout),previous=0,timeout=context=args=null},throttled},_.debounce=function(func,wait,immediate){var timeout,result,later=function(context,args){timeout=null,args&&(result=func.apply(context,args))},debounced=restArguments(function(args){if(timeout&&clearTimeout(timeout),immediate){var callNow=!timeout;timeout=setTimeout(later,wait),callNow&&(result=func.apply(this,args))}else timeout=_.delay(later,wait,this,args);return result});return debounced.cancel=function(){clearTimeout(timeout),timeout=null},debounced},_.wrap=function(func,wrapper){return _.partial(wrapper,func)},_.negate=function(predicate){return function(){return!predicate.apply(this,arguments)}},_.compose=function(){var args=arguments,start=args.length-1;return function(){for(var i=start,result=args[start].apply(this,arguments);i--;)result=args[i].call(this,result);return result}},_.after=function(times,func){return function(){if(--times<1)return func.apply(this,arguments)}},_.before=function(times,func){var memo;return function(){return--times>0&&(memo=func.apply(this,arguments)),times<=1&&(func=null),memo}},_.once=_.partial(_.before,2),_.restArguments=restArguments;var hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],collectNonEnumProps=function(obj,keys){var nonEnumIdx=nonEnumerableProps.length,constructor=obj.constructor,proto=_.isFunction(constructor)&&constructor.prototype||ObjProto,prop="constructor";for(has(obj,prop)&&!_.contains(keys,prop)&&keys.push(prop);nonEnumIdx--;)(prop=nonEnumerableProps[nonEnumIdx])in obj&&obj[prop]!==proto[prop]&&!_.contains(keys,prop)&&keys.push(prop)};_.keys=function(obj){if(!_.isObject(obj))return[];if(nativeKeys)return nativeKeys(obj);var keys=[];for(var key in obj)has(obj,key)&&keys.push(key);return hasEnumBug&&collectNonEnumProps(obj,keys),keys},_.allKeys=function(obj){if(!_.isObject(obj))return[];var keys=[];for(var key in obj)keys.push(key);return hasEnumBug&&collectNonEnumProps(obj,keys),keys},_.values=function(obj){for(var keys=_.keys(obj),length=keys.length,values=Array(length),i=0;i<length;i++)values[i]=obj[keys[i]];return values},_.mapObject=function(obj,iteratee,context){iteratee=cb(iteratee,context);for(var keys=_.keys(obj),length=keys.length,results={},index=0;index<length;index++){var currentKey=keys[index];results[currentKey]=iteratee(obj[currentKey],currentKey,obj)}return results},_.pairs=function(obj){for(var keys=_.keys(obj),length=keys.length,pairs=Array(length),i=0;i<length;i++)pairs[i]=[keys[i],obj[keys[i]]];return pairs},_.invert=function(obj){for(var result={},keys=_.keys(obj),i=0,length=keys.length;i<length;i++)result[obj[keys[i]]]=keys[i];return result},_.functions=_.methods=function(obj){var names=[];for(var key in obj)_.isFunction(obj[key])&&names.push(key);return names.sort()};var createAssigner=function(keysFunc,defaults){return function(obj){var length=arguments.length;if(defaults&&(obj=Object(obj)),length<2||null==obj)return obj;for(var index=1;index<length;index++)for(var source=arguments[index],keys=keysFunc(source),l=keys.length,i=0;i<l;i++){var key=keys[i];defaults&&void 0!==obj[key]||(obj[key]=source[key])}return obj}};_.extend=createAssigner(_.allKeys),_.extendOwn=_.assign=createAssigner(_.keys),_.findKey=function(obj,predicate,context){predicate=cb(predicate,context);for(var key,keys=_.keys(obj),i=0,length=keys.length;i<length;i++)if(predicate(obj[key=keys[i]],key,obj))return key};var eq,deepEq,keyInObj=function(value,key,obj){return key in obj};_.pick=restArguments(function(obj,keys){var result={},iteratee=keys[0];if(null==obj)return result;_.isFunction(iteratee)?(keys.length>1&&(iteratee=optimizeCb(iteratee,keys[1])),keys=_.allKeys(obj)):(iteratee=keyInObj,keys=flatten(keys,!1,!1),obj=Object(obj));for(var i=0,length=keys.length;i<length;i++){var key=keys[i],value=obj[key];iteratee(value,key,obj)&&(result[key]=value)}return result}),_.omit=restArguments(function(obj,keys){var context,iteratee=keys[0];return _.isFunction(iteratee)?(iteratee=_.negate(iteratee),keys.length>1&&(context=keys[1])):(keys=_.map(flatten(keys,!1,!1),String),iteratee=function(value,key){return!_.contains(keys,key)}),_.pick(obj,iteratee,context)}),_.defaults=createAssigner(_.allKeys,!0),_.create=function(prototype,props){var result=baseCreate(prototype);return props&&_.extendOwn(result,props),result},_.clone=function(obj){return _.isObject(obj)?_.isArray(obj)?obj.slice():_.extend({},obj):obj},_.tap=function(obj,interceptor){return interceptor(obj),obj},_.isMatch=function(object,attrs){var keys=_.keys(attrs),length=keys.length;if(null==object)return!length;for(var obj=Object(object),i=0;i<length;i++){var key=keys[i];if(attrs[key]!==obj[key]||!(key in obj))return!1}return!0},eq=function(a,b,aStack,bStack){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return!1;if(a!=a)return b!=b;var type=typeof a;return("function"===type||"object"===type||"object"==typeof b)&&deepEq(a,b,aStack,bStack)},deepEq=function(a,b,aStack,bStack){a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var className=toString.call(a);if(className!==toString.call(b))return!1;switch(className){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!=+a?+b!=+b:0==+a?1/+a==1/b:+a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object Symbol]":return SymbolProto.valueOf.call(a)===SymbolProto.valueOf.call(b)}var areArrays="[object Array]"===className;if(!areArrays){if("object"!=typeof a||"object"!=typeof b)return!1;var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor)&&"constructor"in a&&"constructor"in b)return!1}bStack=bStack||[];for(var length=(aStack=aStack||[]).length;length--;)if(aStack[length]===a)return bStack[length]===b;if(aStack.push(a),bStack.push(b),areArrays){if((length=a.length)!==b.length)return!1;for(;length--;)if(!eq(a[length],b[length],aStack,bStack))return!1}else{var key,keys=_.keys(a);if(length=keys.length,_.keys(b).length!==length)return!1;for(;length--;)if(key=keys[length],!has(b,key)||!eq(a[key],b[key],aStack,bStack))return!1}return aStack.pop(),bStack.pop(),!0},_.isEqual=function(a,b){return eq(a,b)},_.isEmpty=function(obj){return null==obj||(isArrayLike(obj)&&(_.isArray(obj)||_.isString(obj)||_.isArguments(obj))?0===obj.length:0===_.keys(obj).length)},_.isElement=function(obj){return!(!obj||1!==obj.nodeType)},_.isArray=nativeIsArray||function(obj){return"[object Array]"===toString.call(obj)},_.isObject=function(obj){var type=typeof obj;return"function"===type||"object"===type&&!!obj},_.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(name){_["is"+name]=function(obj){return toString.call(obj)==="[object "+name+"]"}}),_.isArguments(arguments)||(_.isArguments=function(obj){return has(obj,"callee")});var nodelist=root.document&&root.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof nodelist&&(_.isFunction=function(obj){return"function"==typeof obj||!1}),_.isFinite=function(obj){return!_.isSymbol(obj)&&isFinite(obj)&&!isNaN(parseFloat(obj))},_.isNaN=function(obj){return _.isNumber(obj)&&isNaN(obj)},_.isBoolean=function(obj){return!0===obj||!1===obj||"[object Boolean]"===toString.call(obj)},_.isNull=function(obj){return null===obj},_.isUndefined=function(obj){return void 0===obj},_.has=function(obj,path){if(!_.isArray(path))return has(obj,path);for(var length=path.length,i=0;i<length;i++){var key=path[i];if(null==obj||!hasOwnProperty.call(obj,key))return!1;obj=obj[key]}return!!length},_.noConflict=function(){return root._=previousUnderscore,this},_.identity=function(value){return value},_.constant=function(value){return function(){return value}},_.noop=function(){},_.property=function(path){return _.isArray(path)?function(obj){return deepGet(obj,path)}:shallowProperty(path)},_.propertyOf=function(obj){return null==obj?function(){}:function(path){return _.isArray(path)?deepGet(obj,path):obj[path]}},_.matcher=_.matches=function(attrs){return attrs=_.extendOwn({},attrs),function(obj){return _.isMatch(obj,attrs)}},_.times=function(n,iteratee,context){var accum=Array(Math.max(0,n));iteratee=optimizeCb(iteratee,context,1);for(var i=0;i<n;i++)accum[i]=iteratee(i);return accum},_.random=function(min,max){return null==max&&(max=min,min=0),min+Math.floor(Math.random()*(max-min+1))},_.now=Date.now||function(){return(new Date).getTime()};var escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},unescapeMap=_.invert(escapeMap),createEscaper=function(map){var escaper=function(match){return map[match]},source="(?:"+_.keys(map).join("|")+")",testRegexp=RegExp(source),replaceRegexp=RegExp(source,"g");return function(string){return string=null==string?"":""+string,testRegexp.test(string)?string.replace(replaceRegexp,escaper):string}};_.escape=createEscaper(escapeMap),_.unescape=createEscaper(unescapeMap),_.result=function(obj,path,fallback){_.isArray(path)||(path=[path]);var length=path.length;if(!length)return _.isFunction(fallback)?fallback.call(obj):fallback;for(var i=0;i<length;i++){var prop=null==obj?void 0:obj[path[i]];void 0===prop&&(prop=fallback,i=length),obj=_.isFunction(prop)?prop.call(obj):prop}return obj};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},escapeRegExp=/\\|'|\r|\n|\u2028|\u2029/g,escapeChar=function(match){return"\\"+escapes[match]};_.template=function(text,settings,oldSettings){!settings&&oldSettings&&(settings=oldSettings),settings=_.defaults({},settings,_.templateSettings);var render,matcher=RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g"),index=0,source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){return source+=text.slice(index,offset).replace(escapeRegExp,escapeChar),index=offset+match.length,escape?source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'":interpolate?source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'":evaluate&&(source+="';\n"+evaluate+"\n__p+='"),match}),source+="';\n",settings.variable||(source="with(obj||{}){\n"+source+"}\n"),source="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{render=new Function(settings.variable||"obj","_",source)}catch(e){throw e.source=source,e}var template=function(data){return render.call(this,data,_)},argument=settings.variable||"obj";return template.source="function("+argument+"){\n"+source+"}",template},_.chain=function(obj){var instance=_(obj);return instance._chain=!0,instance};var chainResult=function(instance,obj){return instance._chain?_(obj).chain():obj};_.mixin=function(obj){return _.each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];return push.apply(args,arguments),chainResult(this,func.apply(_,args))}}),_},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;return method.apply(obj,arguments),"shift"!==name&&"splice"!==name||0!==obj.length||delete obj[0],chainResult(this,obj)}}),_.each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return chainResult(this,method.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return _})}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],505:[function(require,module,exports){for(var byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);module.exports=function bytesToUuid(buf,offset){var i=offset||0,bth=byteToHex;return[bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]]].join("")}},{}],506:[function(require,module,exports){var getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);module.exports=function whatwgRNG(){return getRandomValues(rnds8),rnds8}}else{var rnds=new Array(16);module.exports=function mathRNG(){for(var r,i=0;i<16;i++)0==(3&i)&&(r=4294967296*Math.random()),rnds[i]=r>>>((3&i)<<3)&255;return rnds}}},{}],507:[function(require,module,exports){var rng=require("./lib/rng"),bytesToUuid=require("./lib/bytesToUuid");module.exports=function v4(options,buf,offset){var i=buf&&offset||0;"string"==typeof options&&(buf="binary"===options?new Array(16):null,options=null);var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;ii<16;++ii)buf[i+ii]=rnds[ii];return buf||bytesToUuid(rnds)}},{"./lib/bytesToUuid":505,"./lib/rng":506}],508:[function(require,module,exports){"use strict";var prev,alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length=64,map={},seed=0,i=0;function encode(num){var encoded="";do{encoded=alphabet[num%length]+encoded,num=Math.floor(num/length)}while(num>0);return encoded}function yeast(){var now=encode(+new Date);return now!==prev?(seed=0,prev=now):now+"."+encode(seed++)}for(;i<length;i++)map[alphabet[i]]=i;yeast.encode=encode,yeast.decode=function decode(str){var decoded=0;for(i=0;i<str.length;i++)decoded=decoded*length+map[str.charAt(i)];return decoded},module.exports=yeast},{}]},{},[28]);